{"version":3,"sources":["assets/default_background_3x.png","assets/trash_icon.svg","assets/red_heart_circle_icon.svg","assets/map_plus_icon.svg","assets/NavIcons/planning_icon.svg","assets/NavIcons/planning_icon_hover.svg","assets/NavIcons/explore_icon.svg","assets/NavIcons/explore_icon_hover.svg","assets/NavIcons/articles_icon.svg","assets/NavIcons/articles_icon_hover.svg","assets/NavIcons/travel_wall_icon.svg","assets/NavIcons/travel_wall_icon_hover.svg","assets/NavIcons/personal_icon.svg","assets/NavIcons/personal_icon_hover.svg","assets/upload_travel_wall_icon.svg","assets/arrow_right_icon.svg","assets/times_icon.svg","containers/Spotlight/Content/LoginPage/key.svg","containers/Spotlight/Content/LoginPage/logo.png","containers/Spotlight/Content/ExplorePage/empty-spot.png","containers/Spotlight/Content/PersonalPage/header-image.png","assets/edit_day_icon.svg","assets/arrow_left_grey_icon.svg","assets/move_icon.svg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/bora.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/british-columbia.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/fern.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/mountain.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/sky.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/sunrise-1.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/sunrise-2.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/taiwan-1.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/taiwan-2.jpg","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/default-cover-images/the-odd-knight-of-the-south-peak.jpg","assets/check_circle_icon.svg","assets/plus_icon.svg","containers/Spotlight/Content/TravelerPage/header-image.png","containers/Spotlight/Content/CreateSpotPage/default-image.svg","containers/Spotlight/Content/CreateSpotPage/camera.svg","containers/Spotlight/Content/ArticlesPage/photo/buildings-1846728_640@3x.png","containers/Spotlight/Content/ArticlesPage/photo/taiwan-667563_640@3x.png","containers/Spotlight/Content/ArticlesPage/photo/yehliu-geopark-257886_640@3x.png","containers/Spotlight/Content/ArticlesPage/photo/taiwan-1057813_640@3x.png","containers/Spotlight/Content/ArticlesPage/photo/chingtienkang-1784872_640@3x.png","assets/people_icon_100.svg","Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","utils/requests.js","config.js","utils/query-string.js","utils/random-between.js","utils/array-shuffle.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","Styled/Settings/colors.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/ExplorePage/index.js","utils/event.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/ArticlesPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PersonalPage/SettingPage/index.js","components/Modal/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/ModalContent/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Header/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Header/PlanningPage/AddSpotToPlanPage/index.js","containers/Spotlight/Header/PlanningPage/SettingSpotCardPage/index.js","containers/Spotlight/Header/PlanningPage/EditPlanningDayPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatingSpotCardPage/index.js","containers/Spotlight/Header/SpotPage/index.js","containers/Spotlight/Header/AddSpotToProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Header/TravelerPage/index.js","containers/Spotlight/Header/CommentPage/index.js","containers/Spotlight/Content/LoginPage/Styled.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/reducer.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/Styled.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/index.js","containers/Spotlight/Content/ExplorePage/Styled.js","containers/Spotlight/Content/ExplorePage/CardImage.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","components/Likes/Styled.js","components/Likes/index.js","components/TravelCard/Styled.js","components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/Styled.js","containers/Spotlight/Content/TravelWallPage/index.js","components/UserCard/Styled.js","components/UserCard/index.js","containers/Spotlight/Content/PersonalPage/Information/Styled.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/ProjectCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","components/TimePicker/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTimeInfo/index.js","components/DragSortableList/index.js","utils/distance.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/utils.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotOperationBtn/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/EditExistingSpotModal/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/AddSpotModal/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","components/InputBox/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage/LikedSpotCard/index.js","containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage/index.js","containers/Spotlight/Content/PlanningPage/SettingSpotCardPage/index.js","containers/Spotlight/Content/PlanningPage/UpdatingSpotCardPage/index.js","containers/Spotlight/Content/PlanningPage/EditPlanningDayPage/index.js","containers/Spotlight/Content/SpotPage/Styled.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/AddSpotToProjectPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPage/index.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/index.js","components/ProjectCard/Styled.js","components/ProjectCard/index.js","containers/Spotlight/Content/TravelerPage/Styled.js","containers/Spotlight/Content/TravelerPage/index.js","containers/Spotlight/Content/CreateSpotPage/AddCreatedSpotToProjectPlanPage/Header.js","containers/Spotlight/Content/CreateSpotPage/AddCreatedSpotToProjectPlanPage/Content.js","containers/Spotlight/Content/CreateSpotPage/AddCreatedSpotToProjectPlanPage/index.js","containers/Spotlight/Content/CreateSpotPage/Styled.js","containers/Spotlight/Content/CreateSpotPage/index.js","containers/Spotlight/Content/ArticlesPage/mockData.js","containers/Spotlight/Content/ArticlesPage/Card.js","containers/Spotlight/Content/ArticlesPage/index.js","containers/Spotlight/Content/CommentPage/Styled.js","containers/Spotlight/Content/CommentPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","i18n/index.js","i18n/en.js","i18n/zh-Hant.js","index.js","assets/check_icon.svg","assets/arrow_left_icon.svg"],"names":["module","exports","__webpack_require__","p","updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_USER_BY_ID","SET_USER_LOADING","SET_USER_DONE","FETCH_USERS","SET_USERS_LOADING","SET_USERS_DONE","FETCH_USER_STATS","SET_USER_STATS_LOADING","SET_USER_STATS_DONE","FETCH_SPOT_BY_ID","SET_SPOT_LOADING","SET_SPOT_DONE","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","FETCH_REC_SPOTS","SET_REC_SPOTS_LOADING","SET_REC_SPOTS_DONE","SEARCH_REC_SPOTS","SET_SEARCH_REC_SPOTS_LOADING","SET_SEARCH_REC_SPOTS_DONE","FETCH_PROJECT_BY_ID","SET_PROJECT_LOADING","SET_PROJECT_DONE","FETCH_PROJECTS","SET_PROJECTS_LOADING","SET_PROJECTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","LOGOUT","SET_LOGOUT_LOADING","SET_LOGOUT_DONE","FETCH_LOGIN_STATUS","SET_LOGIN_STATUS_LOADING","SET_LOGIN_STATUS_DONE","REGISTER","SET_REGISTER_LOADING","SET_REGISTER_DONE","EXPLORE_NEXT_SPOT","SET_EXPLORING_SPOT_ID","FETCH_OWN_PROJECTS","SET_OWN_PROJECTS_LOADING","SET_OWN_PROJECTS_DONE","SUBMIT_CREATE_PROJECT","CREATE_PROJECT_LOADING","CREATE_PROJECT_DONE","SUBMIT_CREATE_SPOT","CREATE_SPOT_LOADING","CREATE_SPOT_DONE","SUBMIT_UPDATE_PROJECT","UPDATE_PROJECT_LOADING","UPDATE_PROJECT_DONE","SUBMIT_DELETE_PROJECT","DELETE_PROJECT_LOADING","DELETE_PROJECT_DONE","DELETE_PROJECT_BY_ID","LIKE_SPOT","SET_LIKE_SPOT_DONE","CANCEL_LIKE_SPOT","SET_CANCEL_LIKE_SPOT_DONE","LIKE_PROJECT","SET_LIKE_PROJECT_DONE","CANCEL_LIKE_PROJECT","SET_CANCEL_LIKE_PROJECT_DONE","FETCH_FAVORITE_SPOT_IDS","SET_FAVORITE_SPOT_IDS_LOADING","SET_FAVORITE_SPOT_IDS_DONE","ADD_FAVORITE_SPOT_ID","DELETE_FAVORITE_SPOT_ID","ADD_FAVORITE_PROJECT_ID","DELETE_FAVORITE_PROJECT_ID","FETCH_FAVORITE_PROJECT_IDS","SET_FAVORITE_PROJECT_IDS_LOADING","SET_FAVORITE_PROJECT_IDS_DONE","SET_IS_MODAL_VISIBLE","DEFAULT_PROJECT","name","start_day","tot_days","DEFAULT_PLAN","start_time","arrange","NavIcon","explore","normal","exploreIconPath","hover","exploreHoverIconPath","planning","planningIconPath","planningHoverIconPath","articles","articlesIconPath","articlesHoverIconPath","travelWall","travelWallIconPath","travelWallHoverIconPath","personal","personalIconPath","personalHoverIconPath","WEEKDAYS_SHORT","split","HOURS","MINUTES","ZONES","基隆市","region","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","南投縣","臺中市","彰化縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣","連江縣","金門縣","澎湖縣","initialState","fromJS","setSpotMeta","META","setSpotsMeta","setRecSpotsMeta","setSearchRecSpotsMeta","createSpotMeta","spots","spotsResult","recSpotsResult","setProjectMeta","setProjectsMeta","projects","projectsResult","loginMeta","logoutMeta","registerMeta","loginStatusMeta","ownProjectsMeta","createProjectMeta","updateProjectMeta","deleteProjectMeta","isModalVisible","user","users","usersResult","setUserMeta","setUsersMeta","setUserStatsMeta","exploringSpotId","setFavoriteSpotIdsMeta","setFavoriteProjectIdsMeta","favoriteSpotIds","favoriteProjectIds","createdSpotId","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","mergeDeepIn","user_id","_action$payload2","entities","result","_action$payload3","userId","stats","_action$payload4","spot","mergeIn","spot_id","_action$payload5","_action$payload6","reduce","ids","id","indexOf","push","get","_action$payload7","_action$payload8","_action$payload9","_action$payload10","_action$payload11","_action$payload12","_action$payload13","deleteIn","String","filter","_action$payload14","updateIn","likeNum","_action$payload15","_action$payload16","_action$payload17","_action$payload18","_action$payload19","isVisible","toSet","add","toList","index","delete","_action$payload20","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","query_string","obj","random_between","_ref","min","max","Math","floor","random","array_shuffle","array","a","slice","i","j","spotSchema","schema","Entity","idAttribute","spotListSchema","projectSchema","projectListSchema","userSchema","userListSchema","setIsModalVisible","fetchUserById","setUserDone","setUsersDone","normalize","fetchUserStats","setUserStatsDone","fetchSpotById","setSpotDone","setSpotsDone","createSpotDone","setRecSpotsDone","setSearchRecSpotsDone","fetchProjectById","setProjectDone","project","fetchProjects","_ref5","owner","onlyPublic","setProjectsDone","setLoginDone","setLogoutDone","setRegisterDone","setLoginStatusDone","setExploringSpotId","fetchOwnProjects","setOwnProjectsDone","ownProjects","createProjectDone","submitUpdateProject","projectId","updateProject","updateProjectDone","submitDeleteProject","deleteProjectDone","likeSpot","setLikeSpotDone","setCancelLikeSpotDone","setLikeProjectDone","setCancelLikeProjectDone","fetchFavoriteSpotIds","setFavoriteSpotIdsDone","fetchFavoriteProjectIds","setFavoriteProjectIdsDone","getKeywordQueryString","keyword","getZonesQueryString","zones","zone","getLanguageQueryString","language","getSearchSpotQueryString","_ref15","queryString","queryStringSegment","epics","action$","ofType","switchMap","Observable","empty","state$","_ref14","flatMap","content","startWith","_ref3","_ref4","kw","_ref6","_ref7","toConsumableArray","mergeAll","aggregateRes","_ref9","_ref10","toQueryString","only_public","comments","userName","userImage","comment","projectsWithReview","reviewScore","Number","parseFloat","randomBetween","toFixed","reviewCount","arrayShuffle","ownerId","ownerIds","_ref16","_ref17","_ref18","acc","_ref19","_ref11","newProject","message","success","_ref12","toJS","_ref13","_ref20","_ref21","_ref22","_ref23","_ref24","row","_ref25","proj_id","value","spotIds","notExploredSpotIds","nextSpotId","find","notExploredId","includes","size","_ref8","describe","tel","website","address","pic1","pic2","pic3","store_epics","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","SpotlightTheme","mainColor","defaultTheme","StyledSpinner","styled","div","_templateObject","props","height","StyledSpinnerCover","_templateObject2","Spinner","react_default","createElement","className","defaultProps","selectSpotlight","selectUsers","createSelector","spotlightState","selectSpots","selectProjects","selectUser","selectLoginStatusMeta","selectOwnProjects","getIn","selectOwnProjectsMeta","selectFavoriteSpotIdsMeta","selectFavoriteSpotIds","selectFavoriteProjectIds","selectIsModalVisible","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","children","_useState","useState","_useState2","slicedToArray","isNavVisible","setIsNavVisible","_useState3","_useState4","isHeaderVisible","setIsHeaderVisible","_useState5","_useState6","setNewProject","_useState7","_useState8","isEditMode","setIsEditMode","_useState9","Map","_useState10","setUpdateProject","_useState11","_useState12","selectedLikedSpotId","setSelectedLikedSpotId","_useState13","List","_useState14","selectedDays","setSelectedDays","i18n","useTranslation","_useState15","_useState16","setLanguage","changeLanguage","useSelection","Context","SpotlightConsumer","PAGE_NAME","EXPLORE","text","PLANNING","ARTICLES","TRAVEL_WALL","PERSONAL_PAGE","SETTING","DETAIL_PLANNING","UPDATE_PLANNING","CREATE_PROJECT","ADD_SPOT_TO_PLAN","SETTING_SPOT_CARD","UPDATING_SPOT_CARD","ADD_SPOT_TO_PROJECT","EDIT_PLANNING_DAY","TRAVELER","CREATE_SPOT","COMMENT","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","theme","HeaderTitle","Styled_templateObject2","HeaderLeftButtons","_templateObject3","HeaderRightButtons","_templateObject4","HeaderLinkButton","Link","_templateObject5","HeaderButton","button","_templateObject6","ExplorePageHeader","t","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Header_PlanningPage","context","useContext","handleToCreateProject","useCallback","path","handleEditModeOn","handleEditModeOff","useEffect","role","onClick","data-redirect-path","Header_ArticlesPage","Header_TravelWallPage","Header_PersonalPage","handleGoToSetting","PersonalPage_SettingPage","handleGoBackToPlanning","fade","keyframes","Modal_templateObject","heightGrowingAnimation","Modal_templateObject2","ModalWrapper","Modal_templateObject3","Modal","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","el","document","getElementById","setAttribute","appendChild","_this$props","style","position","top","width","zIndex","display","innerHTML","remove","isHeightGrowing","_this$props2","optionStyle","heightGrowing","ReactDOM","createPortal","React","Component","ModalContentContainer","ModalContent_templateObject","ModalContent","onOk","onCancel","modalStyle","justifyContent","alignItems","DetailPlanningPage","match","handleSubmitUpdateProject","proj","toString","goBack","handleGoToUpdatePlanningPage","day","URLSearchParams","window","location","search","replace","pathname","handleUploadToTravelWall","info","handleOnOk","updatedProject","is_public","handleOnCancel","isOwner","Fragment","src","uploadTravelWallIconPath","alt","components_Modal","DetailPlanningPage_ModalContent","mapStateToProps","createStructuredSelector","connect","dispatch","UpdatePlanningPage","handleGoBackToDetailPlanning","handleOnCheckBtn","CreateProjectPage","handleSubmitCreateProject","startDay","moment","format","days","submitCreateProject","AddSpotToPlanPage","settingSpotCardPagePath","warning","arrowLeftIconPath","arrowRightIconPath","SettingSpotCardPage","afterIndex","elapsedTime","spotId","plan","handleOnGoBack","handleOnCheck","time","during","parseInt","updatedPlan","newSpotCard","insertIndex","insert","detailPlanningPagePath","checkIconPath","ownProps","confirm","EditPlanningDayPage","_useContext","handleOnDelete","submitProject","totDays","title","okText","okType","timesIconPath","trashIconPath","UpdatingSpotCardPage","handleOnUpdateSpotCard","withRouter","to","handleOnCheckClick","TravelPage","Header_CommentPage","Container","LoginPage_Styled_templateObject","UserNameContainer","LoginPage_Styled_templateObject2","UserName","input","Styled_templateObject3","PassWordContainer","Styled_templateObject4","PasswordIcon","img","Styled_templateObject5","PassWord","Styled_templateObject6","LoginButton","_templateObject7","RegisterRow","_templateObject8","RegisterLink","_templateObject9","ErrorMessage","_templateObject10","Logo","_templateObject11","Login","usernameRef","createRef","passwordRef","LogoSrc","ref","placeholder","keyIcon","handleSubmitLogin","current","pwd","href","handleSubmitRegister","_ref6$acc","_ref6$pwd","login","_ref7$acc","_ref7$pwd","register","zoneReducer","setIn","ZoneMenu_Styled_templateObject","Region","ZoneMenu_Styled_templateObject2","ZoneLabel","label","ZoneMenu_Styled_templateObject3","HeaderContainerComponent","ZoneMenu_Styled_templateObject4","ZoneMenu","zonesState","handleSearchRecSpots","_useReducer","useReducer","_useReducer2","editZonesState","dispatchEdit","regions","Styled_Container","Styled_HeaderContainer","onChange","zoneState","checked","ExplorePage_Styled_templateObject","Card","ExplorePage_Styled_templateObject2","CardImage","ExplorePage_Styled_templateObject3","CardInfo","ExplorePage_Styled_templateObject4","SpotName","span","ExplorePage_Styled_templateObject5","SpotLikes","ExplorePage_Styled_templateObject6","ButtonRow","Styled_templateObject7","Button","Styled_templateObject8","ButtonCrossIcon","Styled_templateObject9","ButtonHeartIcon","Styled_templateObject10","ButtonLabel","Styled_templateObject11","CardRow","_templateObject12","SearchRow","_templateObject13","SearchBar","_templateObject14","SelectCountyButton","_templateObject15","SearchInputContainer","_templateObject16","SearchInput","_templateObject17","ZonesRow","_templateObject18","_templateObject19","ZoneLabelCrossIcon","_templateObject20","SpotNotFound","_templateObject21","pics","Styled_CardImage","nuka_carousel_es","autoplay","swiping","dragging","wrapAround","withoutControls","autoplayInterval","speed","pauseOnHover","pic","emptySpotImage","searchRecSpotsMeta","favoriteSpotIdsMeta","recSpotIds","handleFetchFavoriteSpotIds","handleFetchRecSpots","_ref3$zones","_ref3$kw","_ref3$language","fetchRecSpots","handleLikeSpot","handleExploreNextSpot","_ref4$zones","_ref4$kw","_ref4$language","searchRecSpots","selectedZones","setKeyword","menu","keywordInputRef","node","fromEvent","debounceTime","subscribe","detail","handleOnLikeClick","handleOnSkipClick","ExplorePage_ZoneMenu","ExplorePage_Styled_Container","dispatchEvent","CustomEvent","Styled_ZoneLabel","components_Spinner","react_router_dom","Styled_Card","ExplorePage_CardImage","count","ProjectCard_templateObject","ProjectCard","handleDeleteProject","handleFetchSpotById","endDay","handleOnClick","handleOnDeleteProject","projId","b","spotsPics","flatten","ProjectCard_Container","data-project-id","defaultBackgroundImagePath","PlanningPage_templateObject","PlanningPage","handleFetchOwnProjects","isLoaded","isLoading","PlanningPage_Container","components_ProjectCard","assign","LikeLabel","Likes_Styled_templateObject","LikeButton","Likes_Styled_templateObject2","Likes","isActive","likeNumber","TravelCard_Styled_templateObject","Header","TravelCard_Styled_templateObject2","UserImage","TravelCard_Styled_templateObject3","Review","TravelCard_Styled_templateObject4","HeaderInfo","TravelCard_Styled_templateObject5","TravelCard_Styled_templateObject6","CardDate","TravelCard_Styled_templateObject7","TravelCard_Styled_templateObject8","CardTitle","TravelCard_Styled_templateObject9","CardSubtitle","TravelCard_Styled_templateObject10","Footer","TravelCard_Styled_templateObject11","FooterInfo","Styled_templateObject12","FooterButtons","Styled_templateObject13","Styled_templateObject14","Comment","Styled_templateObject15","CommentIcon","Styled_templateObject16","TravelCard","cardImageSrc","userImageSrc","cardDate","cardTitle","cardSubtitle","isLikeActive","onLikeClick","onCardClick","userImageTo","cardImageSrcList","commentCount","commentTo","stopPropagation","handleOnUserImageClick","handleOnReviewClick","cancelText","rate_default","icon","okButtonProps","backgroundColor","color","borderColor","cancelButtonProps","handleOnCommentClick","TravelCard_Styled_Container","Styled_Header","Styled_UserName","TravelCard_Styled_CardImage","components_Likes","peopleIconPath","TravelWallPage_Styled_templateObject","TravelCardComponent","TravelWallPage_Styled_templateObject2","publicProjects","handleFetchProjects","handleFetchFavoriteProjectIds","handleLikeProject","likeProject","handleCancelLikeProject","cancelLikeProject","TravelWallPage_Styled_Container","Styled_TravelCard","UserCard_Styled_templateObject","UserCard_Styled_templateObject2","UserInfo","UserCard_Styled_templateObject3","UserCard_Styled_templateObject4","Stats","UserCard_Styled_templateObject5","Stat","UserCard_Styled_templateObject6","StatName","UserCard_Styled_templateObject7","StatNumber","UserCard_Styled_templateObject8","UserCard","publishedProjectsCount","collectedCount","projectsLikedCount","UserCard_Styled_Container","Styled_UserImage","UserCard_Styled_UserName","StyledUserCard","Information_Styled_templateObject","Information","collectedProjectsCount","collectedSpotsCount","Styled_UserCard","isActiveStyle","CollectionTabs","activeCollectionType","data-collection-type","StyledSpotCard","SpotCard_templateObject","imagePath","data-id","redHeartCircleIconPath","StyledSpotCollection","SpotCollection_templateObject","cards","card","SpotCollection_SpotCard","StyledTravelCard","ProjectCollection_ProjectCard_templateObject","handleFetchUserById","handleFetchProjectById","forEach","spotid","s","Boolean","faviconPath","StyledProjectCollection","ProjectCollection_templateObject","ProjectCollection_ProjectCard","CollectionContent","CollectionContent_ProjectCollection","CollectionContent_SpotCollection","redirectPath","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","favoriteProjectIdsMeta","setActiveCollectionType","isAnonymous","react_router","routePathConfig","faviconSize","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","StyledFaviBanner","styles_templateObject","StyledSettingPage","SettingPage_styles_templateObject","logout","SettingPage_FaviBanner","switch_default","TabWrapper","Tab_templateObject","Tab","currentDay","DateTabsContainer","DateTabs_templateObject","DateTabs","tabs","fill","x","handleGoToEditPlanningDay","editPlanningDayPath","tab","DateTabs_Tab","editDayIcon","TimePicker_templateObject","TimePickerWrapper","TimePicker_templateObject2","TimePicker","handleHourChange","setState","hourValueGroups","handleMinuteChange","minuteValueGroups","_this$state","hour","minute","startTime","hourOptionGroups","minuteOptionGroups","_this$state2","react_mobile_picker_default","valueGroups","optionGroups","bottom","StyledDateTimeInfo","DateTimeInfo_templateObject","DateTimeInfo","handleSetModalVisible","searchParams","date","weekday","handleShowModal","handleHideModal","handleOnPickerCheck","components_TimePicker","StyledContainer","DragSortableList_templateObject","DragSortableList","dataSource","listItems","rowItem","uniqueId","lib_default","animation","ghostClass","chosenClass","dragClass","handle","order","toRadians","d","PI","getTravelingData","endTime","dayStartTime","spotsData","sid","distance","lat1","lon1","lat2","lon2","φ1","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","getDistance","driveTime","walkTime","arr","driveTimeText","round","walkTimeText","Content_SpotCard_templateObject","HEIGHT_SPOT_CARD","SpotCard","spotIndexInfo","planIndex","dayPlan","spotInfo","td","SpotCard_StyledSpotCard","moveIconPath","SpotOperationBtnContainer","SpotOperationBtn_templateObject","SpotOperationBtn","handleDeleteSpot","handleUpdate","EditExistingSpotModal","onDeleteSpotClick","onCancelClick","onEditSpotClick","Content_SpotOperationBtn","padding","AddSpotModal_templateObject","AddFromFavoriteButton","AddSpotModal_templateObject2","CreateSpotButton","AddSpotModal_templateObject3","CancelButton","AddSpotModal_templateObject4","AddSpotModal","onAddFromFavoriteClick","onCreateSpotButtonClick","AntdModal","StyledContent","Content_templateObject","SpotOperator","Content_templateObject2","Content","modal","setModal","addSpotAfterIndex","setAddSpotAfterIndex","selectedSpotId","setSelectedSpotId","arrangeState","setArrangeState","handleShowAddSpotModal","insertAfterIndex","handleShowEditExistingSpotModal","handleHideEditExistingSpotModal","handleDeleteSelectedSpot","foundSpot","newArrange","handleGoToUpdatingPage","updatingSpotCardPagePath","handleOnDragUpdate","updatedArrange","item","data-spotid","data-index","mapPlusIconPath","components_DragSortableList","Content_SpotCard","updatedItems","Content_EditExistingSpotModal","Content_AddSpotModal","arrowLeftGreyIconPath","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","coverImagePaths","boraImage","columbiaImage","fernImage","mountainImage","skyImage","sunrise1Image","sunrise2Image","taiwan1Image","taiwan2Image","southPeakImage","handleFetchUser","coverImage","serCoverImage","travelerPagePath","DetailPlanningPage_DateTabs","DetailPlanningPage_DateTimeInfo","DetailPlanningPage_Content","InputBoxWrapper","InputBox_templateObject","InputBox","inputType","handleOnChange","readonly","readOnly","UpdatePlanningPageWrapper","UpdatePlanningPage_templateObject","handleOnNameChange","handleOnDateChange","starDay","ownProject","components_InputBox","StyledCreateProjectPage","CreateProjectPage_templateObject","setName","setStartDay","setDays","currentValue","LikedSpotCardContainer","LikedSpotCard_templateObject","LikedSpotCard","foundSpotDetail","handleSelectLikedSpot","showMask","checkCircleIconPath","AddSpotToPlanPageContainer","AddSpotToPlanPage_templateObject","AddSpotToPlanPage_LikedSpotCard","SettingSpotCardPageContainer","SettingSpotCardPage_templateObject","TimePickerInput","SettingSpotCardPage_templateObject2","UpdatingSpotCardPageContainer","UpdatingSpotCardPage_templateObject","UpdatingSpotCardPage_templateObject2","setElapsedTime","isOwnProjectLoaded","hhmmTime","UpdatingSpotCardPage_TimePickerInput","EditPlanningDayContainer","EditPlanningDayPage_templateObject","handleOnDayRowClick","handleAddDay","data-day","plusIconPath","SpotPage_Styled_templateObject","SpotPage_Styled_templateObject2","Feature","SpotPage_Styled_templateObject3","BackButton","SpotPage_Styled_templateObject4","AddButton","SpotPage_Styled_templateObject5","FeatureImage","SpotPage_Styled_templateObject6","FeatureInfo","SpotPage_Styled_templateObject7","SpotPage_Styled_templateObject8","Title","SpotPage_Styled_templateObject9","SpotPage_Styled_templateObject10","Paragraph","SpotPage_Styled_templateObject11","handleCancelLikeSpot","cancelLikeSpot","isSpotFavorite","handleLikeOnClick","SpotPage_Styled_Container","Styled_Content","Styled_SpotName","Styled_LikeButton","AddSpotToProjectPage_Styled_templateObject","Project","AddSpotToProjectPage_Styled_templateObject2","ProjectName","AddSpotToProjectPage_Styled_templateObject3","ProjectDate","AddSpotToProjectPage_Styled_templateObject4","CreateProjectButton","AddSpotToProjectPage_Styled_templateObject5","AddIcon","AddSpotToProjectPage_Styled_templateObject6","AddSpotToProjectPage_Styled_Container","AddSpotToProjectPlanPage_Styled_templateObject","ProjectTitle","AddSpotToProjectPlanPage_Styled_templateObject2","Plan","AddSpotToProjectPlanPage_Styled_templateObject3","daySelection","setDaySelection","spotArrange","AddSpotToProjectPlanPage_Styled_Container","_plan","ProjectCard_Styled_templateObject","Image","ProjectCard_Styled_templateObject2","Info","ProjectCard_Styled_templateObject3","ProjectCard_Styled_templateObject4","Subtitle","ProjectCard_Styled_templateObject5","image","subtitle","ProjectCard_Styled_Container","Styled_Title","TravelerPage_Styled_templateObject","TravelerPage_Styled_templateObject2","headerImage","Cards","TravelerPage_Styled_templateObject3","ProjectCardComponent","TravelerPage_Styled_templateObject4","handleFetchUserStats","handleFetchUserProjects","TravelerPage_Styled_Container","TravelerPage_Styled_Header","components_UserCard","Styled_ProjectCard","handleGoBack","handleCheck","AddCreatedSpotToProjectPlanPage_Content_templateObject","duringTime","setDurintTime","isTimePickerModalVisible","setIsTimePickerModalVisible","handleHideTimePickerModal","handleShowTimePickerModal","minutes","Content_Container","background","setIsVisible","createdSpot","AddCreatedSpotToProjectPlanPage_Header","AddCreatedSpotToProjectPlanPage_Content","CreateSpotPage_Styled_templateObject","StyledHeaderContainer","CreateSpotPage_Styled_templateObject2","ContentContainer","CreateSpotPage_Styled_templateObject3","Cover","CreateSpotPage_Styled_templateObject4","DefaultImage","CreateSpotPage_Styled_templateObject5","UploadImageButton","CreateSpotPage_Styled_templateObject6","Fields","CreateSpotPage_Styled_templateObject7","Field","CreateSpotPage_Styled_templateObject8","FieldName","CreateSpotPage_Styled_templateObject9","TextInput","CreateSpotPage_Styled_templateObject10","TextArea","textarea","CreateSpotPage_Styled_templateObject11","Select","select","CreateSpotPage_Styled_templateObject12","ArrowIcon","CreateSpotPage_Styled_templateObject13","handleSubmitCreateSpot","submitCreateSpot","spotName","spotZone","spotNote","spotPhoneNumber","spotUrl","spotAddress","uploadImageBase64","setUploadImageBase64","setSpotName","setSpotZone","setSpotAddress","setSpotPhoneNumber","setSpotUrl","setSpotNote","isAddCreatedSpotModalVisible","setIsAddCreatedSpotModalVisible","inputRef","CreateSpotPage_Styled_Container","CreateSpotPage_Styled_HeaderContainer","defaultImageSrc","click","inputFiles","files","reader","FileReader","onload","readAsDataURL","accept","cameraImageSrc","CreateSpotPage_AddCreatedSpotToProjectPlanPage","timestamp","images","imageBuilding","imageSleepCat","imageYehliu","imageTofu","imageCow","CardContainer","Card_templateObject","Card_templateObject2","Card_Image","ArticlesPage_templateObject","ArticlesPage","ArticlesPage_Container","article","ArticlesPage_Card","CommentPage_Styled_templateObject","CommentPage_Styled_templateObject2","Row","CommentPage_Styled_templateObject3","CommentPage_Styled_templateObject4","CommentPage_Styled_templateObject5","CommentPage_Styled_Container","CommentPage_Styled_UserImage","CommentPage_Styled_UserName","Styled_Comment","loginPagePath","explorePagePath","planningPagePath","articlesPagePath","travelWallPagePath","settingPath","updatePlanningPagePath","addSpotToPlanPagePath","editPlanningDayPagePath","createProjectPagePath","spotPagePath","addSpotToProjectPagePath","addSpotToProjectPlanPagePath","createSpotPath","commentPath","Routes","exact","component","LoginPage","ExplorePage","TravelWallPage","PersonalPage","SettingPage","SpotPage","AddSpotToProjectPage","AddSpotToProjectPlanPage","TravelerPage","CreateSpotPage","CommentPage","Header_Routes","commentPagePath","Header_templateObject","Header_HeaderContainer","Spotlight_Content_templateObject","Content_ContentContainer","setNavTabActive","NavTabWrapper","NavTab_templateObject","iconPath","NavTab","page","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchLoginStatus","Spotlight_SpotlightProvider","Spotlight_Header","Spotlight_Content","Spotlight_Navigation","App","containers_Spotlight","hostname","use","initReactI18next","init","resources","en","translation","chooseCounty","searchForSpot","favoriteWithCount","favoriteWithCount_plural","skip","wantToGo","noSpotFound","南部縣市","中部縣市","北部縣市","東部縣市","外島縣市","chooseAtMost5","探索景點","旅遊牆","計劃旅程","遊記","我的","設定","一般設定","登出","navigation","zh-Hant","lng","fallbackLng","interpolation","escapeValue","render","es","styled_components_browser_esm","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAA,0tWCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kFCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,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","file":"static/js/main.a5f069e3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default_background_3x.423caccd.png\";","module.exports = __webpack_public_path__ + \"static/media/trash_icon.d1736c71.svg\";","module.exports = __webpack_public_path__ + \"static/media/red_heart_circle_icon.356aab5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/map_plus_icon.9917e007.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon.e50fef63.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon_hover.6c56ec25.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon.8437ae58.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon_hover.28d4e2eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/articles_icon.7142514e.svg\";","module.exports = __webpack_public_path__ + \"static/media/articles_icon_hover.d401862a.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon.db44269d.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon_hover.27ac3ed1.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon.c5ed755c.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon_hover.13de80a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload_travel_wall_icon.ebe53160.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right_icon.d2c8547e.svg\";","module.exports = __webpack_public_path__ + \"static/media/times_icon.27723a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/key.acf86010.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.87e5c80b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAHgCAYAAAB5FxNZAAAACXBIWXMAABYlAAAWJQFJUiTwAAAgAElEQVR4nO3dPaxcV9k24OF9IyVUNgXEUGBDY4smEhRGL0WQQHIkkNIgpSG4QqmAkg59ogwVUAFVgIJINJGI5EggxQWIFCDcoLgBu4G4MY5AIpGQ+HQPXmZnn73nzMx+5szfdUlHts/875njdZ9nPXut992/f//fMwAAyvyPQwkAUEvAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUEzAAgAoJmABABQTsAAAiglYAADFBCwAgGICFgBAMQELAKCYgAUAUOwxBxSW8+DBg/kXHJPz58/Pv4DVCFhwilu3bs1ef/312dtvv734inCgnnzyydm1a9dmly5d8hbDkt53//79fztYMOyVV16ZByxgNrt69eo8aAGn04MFI27evClcQccbb7zhZwKWJGDBgPRaJWAB73Xjxo3ZO++8c+L7wHsJWDDg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CVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAEV7x14AAAEmSURBVACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACAYgIWAEAxAQsAoJiABQBQTMACACgmYAEAFBOwAACKCVgAAMUELACASrPZ7P8DF1Z7GXBlNz4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/header-image.ee45fc08.png\";","module.exports = __webpack_public_path__ + \"static/media/edit_day_icon.d93c390b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_left_grey_icon.695ac806.svg\";","module.exports = __webpack_public_path__ + \"static/media/move_icon.a136ab4a.svg\";","module.exports = __webpack_public_path__ + \"static/media/bora.41bb29e4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/british-columbia.3f44b417.jpg\";","module.exports = __webpack_public_path__ + \"static/media/fern.a5374fc6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mountain.bef9d67b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sky.2059a174.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sunrise-1.dca03d73.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sunrise-2.1149f841.jpg\";","module.exports = __webpack_public_path__ + \"static/media/taiwan-1.60a9b714.jpg\";","module.exports = __webpack_public_path__ + \"static/media/taiwan-2.5e6c0c29.jpg\";","module.exports = __webpack_public_path__ + \"static/media/the-odd-knight-of-the-south-peak.35169d8f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/check_circle_icon.2d19e090.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus_icon.64237641.svg\";","module.exports = __webpack_public_path__ + \"static/media/header-image.ee45fc08.png\";","module.exports = __webpack_public_path__ + \"static/media/default-image.982aaee7.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.06c3586c.svg\";","module.exports = __webpack_public_path__ + \"static/media/buildings-1846728_640@3x.e45d6a67.png\";","module.exports = __webpack_public_path__ + \"static/media/taiwan-667563_640@3x.e7863ca9.png\";","module.exports = __webpack_public_path__ + \"static/media/yehliu-geopark-257886_640@3x.fc61d802.png\";","module.exports = __webpack_public_path__ + \"static/media/taiwan-1057813_640@3x.2f6761c9.png\";","module.exports = __webpack_public_path__ + \"static/media/chingtienkang-1784872_640@3x.10edbf6e.png\";","module.exports = __webpack_public_path__ + \"static/media/people_icon_100.fa0895d7.svg\";","export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","import planningIconPath from 'assets/NavIcons/planning_icon.svg';\nimport planningHoverIconPath from 'assets/NavIcons/planning_icon_hover.svg';\n\nimport exploreIconPath from 'assets/NavIcons/explore_icon.svg';\nimport exploreHoverIconPath from 'assets/NavIcons/explore_icon_hover.svg';\n\nimport articlesIconPath from 'assets/NavIcons/articles_icon.svg';\nimport articlesHoverIconPath from 'assets/NavIcons/articles_icon_hover.svg';\n\nimport travelWallIconPath from 'assets/NavIcons/travel_wall_icon.svg';\nimport travelWallHoverIconPath from 'assets/NavIcons/travel_wall_icon_hover.svg';\n\nimport personalIconPath from 'assets/NavIcons/personal_icon.svg';\nimport personalHoverIconPath from 'assets/NavIcons/personal_icon_hover.svg';\n\n\nexport const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_USER_BY_ID = `${KEY_REDUCER}/FETCH_USER_BY_ID`;\nexport const SET_USER_LOADING = `${KEY_REDUCER}/SET_USER_LOADING`;\nexport const SET_USER_DONE = `${KEY_REDUCER}/SET_USER_DONE`;\n\nexport const FETCH_USERS = `${KEY_REDUCER}/FETCH_USERS`;\nexport const SET_USERS_LOADING = `${KEY_REDUCER}/SET_USERS_LOADING`;\nexport const SET_USERS_DONE = `${KEY_REDUCER}/SET_USERS_DONE`;\n\nexport const FETCH_USER_STATS = `${KEY_REDUCER}/FETCH_USER_STATS`;\nexport const SET_USER_STATS_LOADING = `${KEY_REDUCER}/SET_USER_STATS_LOADING`;\nexport const SET_USER_STATS_DONE = `${KEY_REDUCER}/SET_USER_STATS_DONE`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const FETCH_REC_SPOTS = `${KEY_REDUCER}/FETCH_REC_SPOTS`;\nexport const SET_REC_SPOTS_LOADING = `${KEY_REDUCER}/SET_REC_SPOTS_LOADING`;\nexport const SET_REC_SPOTS_DONE = `${KEY_REDUCER}/SET_REC_SPOTS_DONE`;\n\nexport const SEARCH_REC_SPOTS = `${KEY_REDUCER}/SEARCH_REC_SPOTS`;\nexport const SET_SEARCH_REC_SPOTS_LOADING = `${KEY_REDUCER}/SET_SEARCH_REC_SPOTS_LOADING`;\nexport const SET_SEARCH_REC_SPOTS_DONE = `${KEY_REDUCER}/SET_SEARCH_REC_SPOTS_DONE`;\n\nexport const FETCH_PROJECT_BY_ID = `${KEY_REDUCER}/FETCH_PROJECT_BY_ID`;\nexport const SET_PROJECT_LOADING = `${KEY_REDUCER}/SET_PROJECT_LOADING`;\nexport const SET_PROJECT_DONE = `${KEY_REDUCER}/SET_PROJECT_DONE`;\n\nexport const FETCH_PROJECTS = `${KEY_REDUCER}/FETCH_PROJECTS`;\nexport const SET_PROJECTS_LOADING = `${KEY_REDUCER}/SET_PROJECTS_LOADING`;\nexport const SET_PROJECTS_DONE = `${KEY_REDUCER}/SET_PROJECTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const LOGOUT = `${KEY_REDUCER}/LOGOUT`;\nexport const SET_LOGOUT_LOADING = `${KEY_REDUCER}/SET_LOGOUT_LOADING`;\nexport const SET_LOGOUT_DONE = `${KEY_REDUCER}/SET_LOGOUT_DONE`;\n\nexport const FETCH_LOGIN_STATUS = `${KEY_REDUCER}/FETCH_LOGIN_STATUS`;\nexport const SET_LOGIN_STATUS_LOADING = `${KEY_REDUCER}/SET_LOGIN_STATUS_LOADING`;\nexport const SET_LOGIN_STATUS_DONE = `${KEY_REDUCER}/SET_LOGIN_STATUS_DONE`;\n\nexport const REGISTER = `${KEY_REDUCER}/REGISTER`;\nexport const SET_REGISTER_LOADING = `${KEY_REDUCER}/SET_REGISTER_LOADING`;\nexport const SET_REGISTER_DONE = `${KEY_REDUCER}/SET_REGISTER_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\nexport const SET_EXPLORING_SPOT_ID = `${KEY_REDUCER}/SET_EXPLORING_SPOT_ID`;\n\nexport const FETCH_OWN_PROJECTS = `${KEY_REDUCER}/FETCH_OWN_PROJECTS`;\nexport const SET_OWN_PROJECTS_LOADING = `${KEY_REDUCER}/SET_OWN_PROJECTS_LOADING`;\nexport const SET_OWN_PROJECTS_DONE = `${KEY_REDUCER}/SET_OWN_PROJECTS_DONE`;\n\nexport const SUBMIT_CREATE_PROJECT = `${KEY_REDUCER}/SUBMIT_CREATE_PROJECT`;\nexport const CREATE_PROJECT_LOADING = `${KEY_REDUCER}/CREATE_PROJECT_LOADING`;\nexport const CREATE_PROJECT_DONE = `${KEY_REDUCER}/CREATE_PROJECT_DONE`;\n\nexport const SUBMIT_CREATE_SPOT = `${KEY_REDUCER}/SUBMIT_CREATE_SPOT`;\nexport const CREATE_SPOT_LOADING = `${KEY_REDUCER}/CREATE_SPOT_LOADING`;\nexport const CREATE_SPOT_DONE = `${KEY_REDUCER}/CREATE_SPOT_DONE`;\n\nexport const SUBMIT_UPDATE_PROJECT = `${KEY_REDUCER}/SUBMIT_UPDATE_PROJECT`;\nexport const UPDATE_PROJECT_LOADING = `${KEY_REDUCER}/UPDATE_PROJECT_LOADING`;\nexport const UPDATE_PROJECT_DONE = `${KEY_REDUCER}/UPDATE_PROJECT_DONE`;\n\nexport const SUBMIT_DELETE_PROJECT = `${KEY_REDUCER}/SUBMIT_DELETE_PROJECT`;\nexport const DELETE_PROJECT_LOADING = `${KEY_REDUCER}/DELETE_PROJECT_LOADING`;\nexport const DELETE_PROJECT_DONE = `${KEY_REDUCER}/DELETE_PROJECT_DONE`;\nexport const DELETE_PROJECT_BY_ID = `${KEY_REDUCER}/DELETE_PROJECT_BY_ID`;\n\nexport const LIKE_SPOT = `${KEY_REDUCER}/LIKE_SPOT`;\nexport const SET_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_LIKE_SPOT_DONE`;\n\nexport const CANCEL_LIKE_SPOT = `${KEY_REDUCER}/CANCEL_LIKE_SPOT`;\nexport const SET_CANCEL_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_SPOT_DONE`;\n\nexport const LIKE_PROJECT = `${KEY_REDUCER}/LIKE_PROJECT`;\nexport const SET_LIKE_PROJECT_DONE = `${KEY_REDUCER}/SET_LIKE_PROJECT_DONE`;\n\nexport const CANCEL_LIKE_PROJECT = `${KEY_REDUCER}/CANCEL_LIKE_PROJECT`;\nexport const SET_CANCEL_LIKE_PROJECT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_PROJECT_DONE`;\n\nexport const FETCH_FAVORITE_SPOT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_SPOT_IDS`;\nexport const SET_FAVORITE_SPOT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_LOADING`;\nexport const SET_FAVORITE_SPOT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_DONE`;\n\nexport const ADD_FAVORITE_SPOT_ID = `${KEY_REDUCER}/ADD_FAVORITE_SPOT_ID`;\nexport const DELETE_FAVORITE_SPOT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_SPOT_ID`;\n\nexport const ADD_FAVORITE_PROJECT_ID = `${KEY_REDUCER}/ADD_FAVORITE_PROJECT_ID`;\nexport const DELETE_FAVORITE_PROJECT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_PROJECT_ID`;\n\nexport const FETCH_FAVORITE_PROJECT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_PROJECT_IDS`;\nexport const SET_FAVORITE_PROJECT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_LOADING`;\nexport const SET_FAVORITE_PROJECT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_DONE`;\n\nexport const SET_IS_MODAL_VISIBLE = `${KEY_REDUCER}/SET_IS_MODAL_VISIBLE`;\n\nexport const DEFAULT_PROJECT = {\n  name: '',\n  start_day: '', // format: 2018/12/01 00:00:00\n  tot_days: 0,\n};\n\nexport const DEFAULT_PLAN = {\n  start_time: '08:00:00', // format: 08:00:00\n  arrange: [],\n};\n\nexport const DEFAULT_ARRANGE = {\n  spot_id: null,\n  during: 0,\n};\n\nexport const NavIcon = {\n  explore: {\n    normal: exploreIconPath,\n    hover: exploreHoverIconPath,\n  },\n  planning: {\n    normal: planningIconPath,\n    hover: planningHoverIconPath,\n  },\n  articles: {\n    normal: articlesIconPath,\n    hover: articlesHoverIconPath,\n  },\n  travelWall: {\n    normal: travelWallIconPath,\n    hover: travelWallHoverIconPath,\n  },\n  personal: {\n    normal: personalIconPath,\n    hover: personalHoverIconPath,\n  },\n};\n\nexport const WEEKDAYS = '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_');\nexport const WEEKDAYS_SHORT = '週日_週一_週二_週三_週四_週五_週六'.split('_');\n\nexport const HOURS = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '21', '22', '23',\n];\n\nexport const MINUTES = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '22', '22', '23', '24', '25', '26', '27', '28', '29',\n  '30', '33', '32', '33', '34', '35', '36', '37', '38', '39',\n  '40', '44', '42', '43', '44', '45', '46', '47', '48', '49',\n  '50', '55', '52', '53', '54', '55', '56', '57', '58', '59',\n];\n\nexport const REC_SPOTS_BUFFER_COUNT = 3;\n\nexport const ZONES = {\n  基隆市: {\n    name: '基隆市',\n    region: '北部縣市',\n  },\n  臺北市: {\n    name: '臺北市',\n    region: '北部縣市',\n  },\n  新北市: {\n    name: '新北市',\n    region: '北部縣市',\n  },\n  桃園市: {\n    name: '桃園市',\n    region: '北部縣市',\n  },\n  新竹市: {\n    name: '新竹市',\n    region: '北部縣市',\n  },\n  新竹縣: {\n    name: '新竹縣',\n    region: '北部縣市',\n  },\n  苗栗縣: {\n    name: '苗栗縣',\n    region: '中部縣市',\n  },\n  南投縣: {\n    name: '南投縣',\n    region: '中部縣市',\n  },\n  臺中市: {\n    name: '臺中市',\n    region: '中部縣市',\n  },\n  彰化縣: {\n    name: '彰化縣',\n    region: '中部縣市',\n  },\n  雲林縣: {\n    name: '雲林縣',\n    region: '中部縣市',\n  },\n  嘉義市: {\n    name: '嘉義市',\n    region: '南部縣市',\n  },\n  嘉義縣: {\n    name: '嘉義縣',\n    region: '南部縣市',\n  },\n  臺南市: {\n    name: '臺南市',\n    region: '南部縣市',\n  },\n  高雄市: {\n    name: '高雄市',\n    region: '南部縣市',\n  },\n  屏東縣: {\n    name: '屏東縣',\n    region: '南部縣市',\n  },\n  宜蘭縣: {\n    name: '宜蘭縣',\n    region: '東部縣市',\n  },\n  花蓮縣: {\n    name: '花蓮縣',\n    region: '東部縣市',\n  },\n  臺東縣: {\n    name: '臺東縣',\n    region: '東部縣市',\n  },\n  連江縣: {\n    name: '連江縣',\n    region: '外島縣市',\n  },\n  金門縣: {\n    name: '金門縣',\n    region: '外島縣市',\n  },\n  澎湖縣: {\n    name: '澎湖縣',\n    region: '外島縣市',\n  },\n};\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  SET_REGISTER_LOADING,\n  SET_REGISTER_DONE,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  SET_USER_STATS_LOADING,\n  SET_USER_STATS_DONE,\n\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n  SET_LIKE_SPOT_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  SET_CANCEL_LIKE_SPOT_DONE,\n  ADD_FAVORITE_PROJECT_ID,\n  DELETE_FAVORITE_PROJECT_ID,\n  SET_LIKE_PROJECT_DONE,\n  SET_CANCEL_LIKE_PROJECT_DONE,\n  SET_REC_SPOTS_LOADING,\n  SET_REC_SPOTS_DONE,\n  SET_SEARCH_REC_SPOTS_LOADING,\n  SET_SEARCH_REC_SPOTS_DONE,\n  DELETE_PROJECT_BY_ID,\n  CREATE_SPOT_DONE,\n  CREATE_SPOT_LOADING,\n} from './constants';\n\nconst initialState = fromJS({\n  setSpotMeta: META,\n  setSpotsMeta: META,\n  setRecSpotsMeta: META,\n  setSearchRecSpotsMeta: META,\n  createSpotMeta: META,\n  spots: {},\n  spotsResult: [],\n  recSpotsResult: [],\n\n  setProjectMeta: META,\n  setProjectsMeta: META,\n  projects: {},\n  projectsResult: [],\n\n  loginMeta: META,\n  logoutMeta: META,\n  registerMeta: META,\n  loginStatusMeta: META,\n  ownProjectsMeta: META,\n  createProjectMeta: META,\n  updateProjectMeta: META,\n  deleteProjectMeta: META,\n\n  // modal\n  isModalVisible: false,\n\n  user: null,\n  users: {},\n  usersResult: [],\n  setUserMeta: META,\n  setUsersMeta: META,\n  setUserStatsMeta: META,\n  exploringSpotId: null,\n  setFavoriteSpotIdsMeta: META,\n  setFavoriteProjectIdsMeta: META,\n  favoriteSpotIds: [],\n  favoriteProjectIds: [],\n\n  createdSpotId: null,\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER_LOADING:\n      return state.update('setUserMeta', updateMetaLoading);\n\n    case SET_USER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setUserMeta', updateMetaError);\n      }\n      if (!user) { // handle user is undefined\n        return state.update('setUserMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['users'], fromJS({ [user.user_id]: user }))\n        .update('setUserMeta', updateMetaDone);\n    }\n\n    case SET_USERS_LOADING:\n      return state\n        .update('setUsersMeta', updateMetaLoading);\n\n    case SET_USERS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setUsersMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users'], fromJS(entities.users))\n        .set('usersResult', fromJS(result))\n        .update('setUsersMeta', updateMetaDone)\n        .set('exploringUserId', result[0]);\n    }\n\n    case SET_USER_STATS_LOADING:\n      return state\n        .update('setUserStatsMeta', updateMetaLoading);\n\n    case SET_USER_STATS_DONE: {\n      const {\n        error,\n        userId,\n        stats,\n      } = action.payload;\n      if (error) {\n        return state.update('setUserStatsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users', userId], fromJS({ stats }))\n        .update('setUserStatsMeta', updateMetaDone);\n    }\n\n    case SET_SPOT_LOADING:\n      return state.update('setSpotMeta', updateMetaLoading);\n\n    case SET_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n      if (error) {\n        return state\n          .mergeIn(['spots'], fromJS({ [spot.spot_id]: spot }))\n          .update('setSpotMeta', updateMetaError);\n      }\n      if (!spot) { // handle spot is undefined\n        return state.update('setSpotMeta', updateMetaDone);\n      }\n      return state\n        .mergeIn(['spots'], fromJS({ [spot.spot_id]: spot }))\n        .update('setSpotMeta', updateMetaDone);\n    }\n\n    case SET_SPOTS_LOADING:\n      return state\n        .update('setSpotsMeta', updateMetaLoading);\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeIn(['spots'], fromJS(entities.spots))\n        .set('spotsResult', fromJS(result))\n        .update('setSpotsMeta', updateMetaDone)\n        .set('exploringSpotId', result[0]);\n    }\n\n    case SET_REC_SPOTS_LOADING:\n      return state\n        .update('setRecSpotsMeta', updateMetaLoading);\n\n    case SET_REC_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setRecSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeIn(['spots'], fromJS(entities.spots))\n        .update(\n          'recSpotsResult',\n          (recSpotsResult) => result.reduce(\n            (ids, id) => (ids.indexOf(id) !== -1 ? ids : ids.push(id)),\n            recSpotsResult,\n          ),\n        )\n        .update('setRecSpotsMeta', updateMetaDone);\n    }\n\n    case SET_SEARCH_REC_SPOTS_LOADING:\n      return state\n        .update('setSearchRecSpotsMeta', updateMetaLoading)\n        .set('recSpotsResult', initialState.get('recSpotsResult'))\n        .set('exploringSpotId', null);\n\n    case SET_SEARCH_REC_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSearchRecSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeIn(['spots'], fromJS(entities.spots))\n        .update(\n          'recSpotsResult',\n          (recSpotsResult) => result.reduce(\n            (ids, id) => (ids.indexOf(id) !== -1 ? ids : ids.push(id)),\n            recSpotsResult,\n          ),\n        )\n        .update('setSearchRecSpotsMeta', updateMetaDone)\n        .update('exploringSpotId', (id) => (id === null ? result[0] : id));\n    }\n\n    case SET_PROJECT_LOADING:\n      return state.update('setProjectMeta', updateMetaLoading);\n\n    case SET_PROJECT_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setProjectMeta', updateMetaError);\n      }\n      if (!entities.projects) { // handle project is undefined\n        return state.update('setProjectMeta', updateMetaDone);\n      }\n      return state\n        .mergeIn(['projects'], fromJS(entities.projects))\n        .update('projectsResult', (projectsResult) => (\n          projectsResult.indexOf(result) !== -1\n            ? projectsResult\n            : projectsResult.push(result)\n        ))\n        .update('setProjectMeta', updateMetaDone);\n    }\n\n    case SET_PROJECTS_LOADING:\n      return state\n        .update('setProjectsMeta', updateMetaLoading);\n\n    case SET_PROJECTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setProjectsMeta', updateMetaError);\n      }\n      return state\n        .mergeIn(['projects'], fromJS(entities.projects))\n        .set('projectsResult', fromJS(result))\n        .update('setProjectsMeta', updateMetaDone);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGOUT_LOADING:\n      return state.update('logoutMeta', updateMetaLoading);\n\n    case SET_LOGOUT_DONE: {\n      const { error } = action.payload;\n      if (error) {\n        return state.update('logoutMeta', updateMetaError);\n      }\n      return state\n        .set('user', null)\n        .update('logoutMeta', updateMetaDone);\n    }\n\n    case SET_REGISTER_LOADING:\n      return state.update('registerMeta', updateMetaLoading);\n\n    case SET_REGISTER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('registerMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('registerMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGIN_STATUS_LOADING:\n      return state.update('loginStatusMeta', updateMetaLoading);\n\n    case SET_LOGIN_STATUS_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginStatusMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginStatusMeta', updateMetaDone);\n    }\n\n    case SET_EXPLORING_SPOT_ID:\n      return state.set('exploringSpotId', action.payload);\n\n    case SET_OWN_PROJECTS_LOADING:\n      return state.update('ownProjectsMeta', updateMetaLoading);\n\n    case SET_OWN_PROJECTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('ownProjectsMeta', updateMetaError);\n      }\n      return state\n        .mergeIn(['projects'], fromJS(entities.projects))\n        .update(\n          'projectsResult',\n          (projectsResult) => result.reduce(\n            (ids, id) => (ids.indexOf(id) !== -1 ? ids : ids.push(id)),\n            projectsResult,\n          ),\n        )\n        .update('ownProjectsMeta', updateMetaDone);\n    }\n\n    // create project\n    case CREATE_PROJECT_LOADING:\n      return state.update('createProjectMeta', updateMetaLoading);\n\n    case CREATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('createProjectMeta', updateMetaError);\n      }\n      return state\n        .update('createProjectMeta', updateMetaDone);\n    }\n\n    // update project\n    case UPDATE_PROJECT_LOADING:\n      return state.update('updateProjectMeta', updateMetaLoading);\n\n    case UPDATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('updateProjectMeta', updateMetaError);\n      }\n      return state\n        .update('updateProjectMeta', updateMetaDone)\n        .set('isModalVisible', false);\n    }\n\n    // delete project\n    case DELETE_PROJECT_LOADING:\n      return state.update('deleteProjectMeta', updateMetaLoading);\n\n    case DELETE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('deleteProjectMeta', updateMetaError);\n      }\n      return state\n        .update('deleteProjectMeta', updateMetaDone);\n    }\n\n    case DELETE_PROJECT_BY_ID:\n      return state\n        .deleteIn(['projects', String(action.payload.id)])\n        .update(\n          'projectsResult',\n          (result) => result.filter((id) => id !== action.payload.id),\n        );\n\n    case SET_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['spots', String(id), 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['spots', String(id), 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_LIKE_PROJECT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['projects', String(id), 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_PROJECT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['projects', String(id), 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_FAVORITE_SPOT_IDS_LOADING:\n      return state.update('setFavoriteSpotIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_SPOT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteSpotIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteSpotIds', fromJS(ids))\n        .update('setFavoriteSpotIdsMeta', updateMetaDone);\n    }\n\n    case SET_FAVORITE_PROJECT_IDS_LOADING:\n      return state.update('setFavoriteProjectIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_PROJECT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteProjectIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteProjectIds', fromJS(ids))\n        .update('setFavoriteProjectIdsMeta', updateMetaDone);\n    }\n\n    // modal\n    case SET_IS_MODAL_VISIBLE: {\n      const {\n        isVisible,\n      } = action.payload;\n      return state.set('isModalVisible', isVisible);\n    }\n\n    case ADD_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    case ADD_FAVORITE_PROJECT_ID:\n      return state.update('favoriteProjectIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_PROJECT_ID:\n      return state.update('favoriteProjectIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    case CREATE_SPOT_LOADING:\n      return state.update('createSpotMeta', updateMetaLoading);\n\n    case CREATE_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n\n      if (error) {\n        return state.update('createSpotMeta', updateMetaError);\n      }\n\n      return state\n        .mergeIn(['spots'], fromJS({ [spot.spot_id]: spot }))\n        .update('createSpotMeta', updateMetaDone)\n        .set('createdSpotId', action.payload.spot.spot_id);\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","export const API_URI = '/api';\nexport const ADMIN_API_URI = API_URI;\n","export default (obj) => {\n  if (typeof obj !== 'object' || obj === null) {\n    throw Error('input should be an object.');\n  }\n\n  return Object.keys(obj)\n    .filter((key) => obj[key] !== null && typeof obj[key] !== 'undefined')\n    .map((key) => (\n      `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`\n    ))\n    .join('&');\n};\n","export default ({ min, max }) => Math.floor(Math.random() * (max - min + 1)) + min;\n","/**\n * Shuffles array in place. ES6 version\n * https://stackoverflow.com/a/6274381/5450156\n */\nexport default (array) => {\n  const a = array.slice();\n\n  for (let i = a.length - 1; i > 0; i -= 1) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n};\n","import { schema, normalize } from 'normalizr';\nimport {\n  FETCH_SPOT_BY_ID,\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  LOGOUT,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  REGISTER,\n  SET_REGISTER_DONE,\n  SET_REGISTER_LOADING,\n  EXPLORE_NEXT_SPOT,\n  FETCH_LOGIN_STATUS,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  FETCH_OWN_PROJECTS,\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  SUBMIT_CREATE_PROJECT,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  SUBMIT_UPDATE_PROJECT,\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  SUBMIT_DELETE_PROJECT,\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  CANCEL_LIKE_SPOT,\n  SET_CANCEL_LIKE_SPOT_DONE,\n\n  FETCH_PROJECT_BY_ID,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  FETCH_PROJECTS,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n\n  FETCH_FAVORITE_PROJECT_IDS,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n\n  LIKE_SPOT,\n  SET_LIKE_SPOT_DONE,\n  FETCH_FAVORITE_SPOT_IDS,\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  FETCH_USER_BY_ID,\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  FETCH_USERS,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  FETCH_USER_STATS,\n  SET_USER_STATS_LOADING,\n  SET_USER_STATS_DONE,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  ADD_FAVORITE_PROJECT_ID,\n  DELETE_FAVORITE_PROJECT_ID,\n  LIKE_PROJECT,\n  SET_LIKE_PROJECT_DONE,\n  CANCEL_LIKE_PROJECT,\n  SET_CANCEL_LIKE_PROJECT_DONE,\n  FETCH_REC_SPOTS,\n  SET_REC_SPOTS_LOADING,\n  SET_REC_SPOTS_DONE,\n  SEARCH_REC_SPOTS,\n  SET_SEARCH_REC_SPOTS_LOADING,\n  SET_SEARCH_REC_SPOTS_DONE,\n  DELETE_PROJECT_BY_ID,\n  SUBMIT_CREATE_SPOT,\n  CREATE_SPOT_DONE,\n  CREATE_SPOT_LOADING,\n} from './constants';\n\nconst spotSchema = new schema.Entity('spots', {}, { idAttribute: 'spot_id' });\nconst spotListSchema = new schema.Array(spotSchema);\n\nconst projectSchema = new schema.Entity('projects', {}, { idAttribute: 'proj_id' });\nconst projectListSchema = new schema.Array(projectSchema);\n\nconst userSchema = new schema.Entity('users', {}, { idAttribute: 'user_id' });\nconst userListSchema = new schema.Array(userSchema);\n\nexport const setIsModalVisible = (isVisible) => ({\n  type: SET_IS_MODAL_VISIBLE,\n  payload: {\n    isVisible,\n  },\n});\n\nexport const fetchUserById = (id) => ({\n  type: FETCH_USER_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserLoading = () => ({\n  type: SET_USER_LOADING,\n});\n\nexport const setUserDone = (error, user) => ({\n  type: SET_USER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchUsers = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_USERS,\n  payload: { zones, kw },\n});\n\nexport const setUsersLoading = () => ({\n  type: SET_USERS_LOADING,\n});\n\nexport const setUsersDone = (error, users) => ({\n  type: SET_USERS_DONE,\n  payload: {\n    error,\n    ...normalize(users, userListSchema),\n  },\n});\n\nexport const fetchUserStats = (id) => ({\n  type: FETCH_USER_STATS,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserStatsLoading = () => ({\n  type: SET_USER_STATS_LOADING,\n});\n\nexport const setUserStatsDone = (error, stats, id) => ({\n  type: SET_USER_STATS_DONE,\n  payload: {\n    error,\n    stats,\n    userId: id,\n  },\n});\n\nexport const fetchSpotById = (id) => ({\n  type: FETCH_SPOT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setSpotLoading = () => ({\n  type: SET_SPOT_LOADING,\n});\n\nexport const setSpotDone = (error, spot) => ({\n  type: SET_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const submitCreateSpot = (spot) => ({\n  type: SUBMIT_CREATE_SPOT,\n  payload: spot,\n});\n\nexport const createSpotLoading = () => ({\n  type: CREATE_SPOT_LOADING,\n});\n\nexport const createSpotDone = (error, spot) => ({\n  type: CREATE_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchRecSpots = ({ zones = [], kw = '', language = 'zh-Hant' } = {}) => ({\n  type: FETCH_REC_SPOTS,\n  payload: { zones, kw, language },\n});\n\nexport const setRecSpotsLoading = () => ({\n  type: SET_REC_SPOTS_LOADING,\n});\n\nexport const setRecSpotsDone = (error, spots) => ({\n  type: SET_REC_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const searchRecSpots = ({ zones = [], kw = '', language = 'zh-Hant' } = {}) => ({\n  type: SEARCH_REC_SPOTS,\n  payload: { zones, kw, language },\n});\n\nexport const setSearchRecSpotsLoading = () => ({\n  type: SET_SEARCH_REC_SPOTS_LOADING,\n});\n\nexport const setSearchRecSpotsDone = (error, spots) => ({\n  type: SET_SEARCH_REC_SPOTS_DONE,\n  payload: {\n    error,\n    ...(spots ? normalize(spots, spotListSchema) : {}),\n  },\n});\n\nexport const fetchProjectById = (id) => ({\n  type: FETCH_PROJECT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setProjectLoading = () => ({\n  type: SET_PROJECT_LOADING,\n});\n\nexport const setProjectDone = (error, project) => ({\n  type: SET_PROJECT_DONE,\n  payload: {\n    error,\n    ...normalize(project, projectSchema),\n  },\n});\n\nexport const fetchProjects = ({ owner, onlyPublic } = {}) => ({\n  type: FETCH_PROJECTS,\n  payload: { owner, onlyPublic },\n});\n\nexport const setProjectsLoading = () => ({\n  type: SET_PROJECTS_LOADING,\n});\n\nexport const setProjectsDone = (error, projects) => ({\n  type: SET_PROJECTS_DONE,\n  payload: {\n    error,\n    ...normalize(projects, projectListSchema),\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const logout = () => ({\n  type: LOGOUT,\n});\n\nexport const setLogoutLoading = () => ({\n  type: SET_LOGOUT_LOADING,\n});\n\nexport const setLogoutDone = (error) => ({\n  type: SET_LOGOUT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const register = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: REGISTER,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setRegisterLoading = () => ({\n  type: SET_REGISTER_LOADING,\n});\n\nexport const setRegisterDone = (error, user) => ({\n  type: SET_REGISTER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchLoginStatus = () => ({\n  type: FETCH_LOGIN_STATUS,\n});\n\nexport const setLoginStatusLoading = () => ({\n  type: SET_LOGIN_STATUS_LOADING,\n});\n\nexport const setLoginStatusDone = (error, user) => ({\n  type: SET_LOGIN_STATUS_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n\nexport const setExploringSpotId = (id) => ({\n  type: SET_EXPLORING_SPOT_ID,\n  payload: id,\n});\n\n// fetch own project\nexport const fetchOwnProjects = () => ({\n  type: FETCH_OWN_PROJECTS,\n});\n\nexport const setOwnProjectsLoading = () => ({\n  type: SET_OWN_PROJECTS_LOADING,\n});\n\nexport const setOwnProjectsDone = (error, ownProjects) => ({\n  type: SET_OWN_PROJECTS_DONE,\n  payload: {\n    error,\n    ...normalize(ownProjects, projectListSchema),\n  },\n});\n\n// create project\nexport const submitCreateProject = (newProject) => ({\n  type: SUBMIT_CREATE_PROJECT,\n  payload: {\n    newProject,\n  },\n});\n\nexport const createProjectLoading = () => ({\n  type: CREATE_PROJECT_LOADING,\n});\n\nexport const createProjectDone = (error, user) => ({\n  type: CREATE_PROJECT_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\n// update project\nexport const submitUpdateProject = (projectId, updateProject) => ({\n  type: SUBMIT_UPDATE_PROJECT,\n  payload: {\n    projectId,\n    updateProject,\n  },\n});\n\nexport const updateProjectLoading = () => ({\n  type: UPDATE_PROJECT_LOADING,\n});\n\nexport const updateProjectDone = (error) => ({\n  type: UPDATE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\n// delete project\nexport const submitDeleteProject = (projectId) => ({\n  type: SUBMIT_DELETE_PROJECT,\n  payload: {\n    projectId,\n  },\n});\n\nexport const deleteProjectLoading = () => ({\n  type: DELETE_PROJECT_LOADING,\n});\n\nexport const deleteProjectDone = (error) => ({\n  type: DELETE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const deleteProjectById = (id) => ({\n  type: DELETE_PROJECT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const likeSpot = (id) => ({\n  type: LIKE_SPOT,\n  payload: id,\n});\n\nexport const setLikeSpotDone = (error, id) => ({\n  type: SET_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeSpot = (id) => ({\n  type: CANCEL_LIKE_SPOT,\n  payload: id,\n});\n\nexport const setCancelLikeSpotDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const likeProject = (id) => ({\n  type: LIKE_PROJECT,\n  payload: id,\n});\n\nexport const setLikeProjectDone = (error, id) => ({\n  type: SET_LIKE_PROJECT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeProject = (id) => ({\n  type: CANCEL_LIKE_PROJECT,\n  payload: id,\n});\n\nexport const setCancelLikeProjectDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_PROJECT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const fetchFavoriteSpotIds = () => ({\n  type: FETCH_FAVORITE_SPOT_IDS,\n});\n\nexport const setFavoriteSpotIdsLoading = () => ({\n  type: SET_FAVORITE_SPOT_IDS_LOADING,\n});\n\nexport const setFavoriteSpotIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_SPOT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n\nexport const addFavoriteSpotId = (id) => ({\n  type: ADD_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteSpotId = (id) => ({\n  type: DELETE_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const addFavoriteProjectId = (id) => ({\n  type: ADD_FAVORITE_PROJECT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteProjectId = (id) => ({\n  type: DELETE_FAVORITE_PROJECT_ID,\n  payload: id,\n});\n\nexport const fetchFavoriteProjectIds = () => ({\n  type: FETCH_FAVORITE_PROJECT_IDS,\n});\n\nexport const setFavoriteProjectIdsLoading = () => ({\n  type: SET_FAVORITE_PROJECT_IDS_LOADING,\n});\n\nexport const setFavoriteProjectIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_PROJECT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of, from } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n  map,\n  reduce,\n  mergeAll,\n} from 'rxjs/operators';\nimport message from 'antd/lib/message';\n\nimport toQueryString from 'utils/query-string';\nimport randomBetween from 'utils/random-between';\nimport arrayShuffle from 'utils/array-shuffle';\nimport {\n  INIT,\n  FETCH_USER_BY_ID,\n  FETCH_USERS,\n  FETCH_USER_STATS,\n  FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  FETCH_PROJECT_BY_ID,\n  FETCH_PROJECTS,\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n  FETCH_LOGIN_STATUS,\n  FETCH_OWN_PROJECTS,\n  SUBMIT_CREATE_PROJECT,\n  SUBMIT_DELETE_PROJECT,\n  LIKE_SPOT,\n  FETCH_FAVORITE_SPOT_IDS,\n  FETCH_FAVORITE_PROJECT_IDS,\n  EXPLORE_NEXT_SPOT,\n  KEY_REDUCER,\n  SUBMIT_UPDATE_PROJECT,\n  CANCEL_LIKE_SPOT,\n  LIKE_PROJECT,\n  CANCEL_LIKE_PROJECT,\n  FETCH_REC_SPOTS,\n  SEARCH_REC_SPOTS,\n  REC_SPOTS_BUFFER_COUNT,\n  SUBMIT_CREATE_SPOT,\n} from './constants';\nimport {\n  setUserLoading,\n  setUserDone,\n  setUsersLoading,\n  setUsersDone,\n  setUserStatsLoading,\n  setUserStatsDone,\n  setSpotLoading,\n  setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setProjectLoading,\n  setProjectDone,\n  setProjectsLoading,\n  setProjectsDone,\n  setLoginLoading,\n  setLoginDone,\n  setLogoutLoading,\n  setLogoutDone,\n  setRegisterDone,\n  setRegisterLoading,\n  setLoginStatusDone,\n  setLoginStatusLoading,\n  setOwnProjectsDone,\n  setOwnProjectsLoading,\n\n  // create project\n  createProjectDone,\n  createProjectLoading,\n\n  // update project\n  updateProjectDone,\n  updateProjectLoading,\n\n  fetchOwnProjects,\n\n  // delete project\n  deleteProjectLoading,\n  deleteProjectDone,\n\n  setCancelLikeSpotDone,\n  setLikeSpotDone,\n  setFavoriteSpotIdsDone,\n  setFavoriteSpotIdsLoading,\n  setFavoriteProjectIdsDone,\n  setFavoriteProjectIdsLoading,\n  setExploringSpotId,\n  deleteFavoriteSpotId,\n  addFavoriteSpotId,\n  setLikeProjectDone,\n  addFavoriteProjectId,\n  setCancelLikeProjectDone,\n  deleteFavoriteProjectId,\n  fetchUserById,\n  setRecSpotsDone,\n  setRecSpotsLoading,\n  setSearchRecSpotsLoading,\n  setSearchRecSpotsDone,\n  deleteProjectById,\n  createSpotDone,\n  createSpotLoading,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\nconst fetchUserByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserDone(error),\n      )),\n      startWith(setUserLoading()),\n    )),\n  )\n);\n\nconst fetchUsersEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USERS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/users',\n    }).pipe(\n      flatMap((data) => of(\n        setUsersDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUsersDone(error),\n      )),\n      startWith(setUsersLoading()),\n    )),\n  )\n);\n\nconst fetchUserStatsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_STATS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/stat/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserStatsDone(null, data.content, action.payload.id),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserStatsDone(error),\n      )),\n      startWith(setUserStatsLoading()),\n    )),\n  )\n);\n\nconst fetchSpotByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/spot/${action.payload.id}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(setSpotDone(null, res.content));\n        }\n        return of(setSpotDone(res, { spot_id: action.payload.id }));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotDone(error),\n      )),\n      startWith(setSpotLoading()),\n    )),\n  )\n);\n\nconst fetchSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst fetchRecSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_REC_SPOTS),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/rec/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n        language: action.payload.language,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setRecSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRecSpotsDone(error),\n      )),\n      startWith(setRecSpotsLoading()),\n    )),\n  )\n);\n\nconst searchRecSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SEARCH_REC_SPOTS),\n    switchMap((action) => (\n      from([...Array(REC_SPOTS_BUFFER_COUNT)].map(() => request({\n        method: 'get',\n        url: `/rec/spots${getSearchSpotQueryString({\n          zones: action.payload.zones,\n          keyword: action.payload.kw,\n          language: action.payload.language,\n        })}`,\n      }))).pipe(\n        mergeAll(),\n        reduce((aggregateRes, data) => ([\n          ...aggregateRes,\n          ...data.content,\n        ]), []),\n        map((aggregateRes) => setSearchRecSpotsDone(null, aggregateRes)),\n        startWith(setSearchRecSpotsLoading()),\n        catchError((error) => fetchErrorEpic(\n          error,\n          setSearchRecSpotsDone(error),\n        )),\n      )\n    )),\n  )\n);\n\nconst createSpotEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_SPOT),\n    switchMap((action) => {\n      const spot = {\n        name: action.payload.name,\n        zone: action.payload.zone,\n        describe: action.payload.describe,\n        tel: action.payload.tel,\n        website: action.payload.website,\n        address: action.payload.address,\n        pic1: action.payload.pic1,\n        pic2: action.payload.pic2,\n        pic3: action.payload.pic3,\n      };\n      return request({\n        method: 'post',\n        url: '/own/spot',\n        data: spot,\n      }).pipe(\n        flatMap((res) => {\n          if (res.status === 'success') {\n            message.success('景點建立成功');\n            return of(createSpotDone(null, res.content));\n          }\n          message.success('景點建立失敗，請檢查資料格式');\n          return of(createSpotDone(res));\n        }),\n        catchError((error) => fetchErrorEpic(\n          error,\n          createSpotDone(error),\n        )),\n        startWith(createSpotLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchProjectByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/proj/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectDone(error),\n      )),\n      startWith(setProjectLoading()),\n    )),\n  )\n);\n\nconst fetchProjectsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/projs?${toQueryString({\n        owner: action.payload.owner,\n        only_public: action.payload.onlyPublic,\n      })}`,\n    }).pipe(\n      flatMap((data) => {\n        const comments = [\n          { userName: 'CY', userImage: 'http://chittagongit.com/download/96686', comment: '下次我也去看看好風景' },\n          { userName: 'EP', userImage: 'http://chittagongit.com/download/96696', comment: '謝謝分享～' },\n          { userName: 'LW', userImage: 'https://www.pinclipart.com/picdir/middle/133-1331433_free-user-avatar-icons-happy-flat-design-png.png', comment: '收藏了～謝謝！' },\n          { userName: 'XB', userImage: 'https://img.icons8.com/color/420/avatar.png', comment: '看起來很猛XD' },\n          { userName: 'MT', userImage: 'https://cdn.iconscout.com/icon/free/png-256/avatar-376-456328.png', comment: '最近蠻適合去這裡的，感謝分享' },\n        ];\n        const projectsWithReview = data.content.map((project) => ({\n          ...project,\n          reviewScore: Number.parseFloat((randomBetween({ min: 2, max: 4 }) + Math.random()).toFixed(1)),\n          reviewCount: randomBetween({ min: 4, max: 10 }),\n          comments: arrayShuffle(comments).slice(0, randomBetween({ min: 3, max: 5 })),\n        }));\n\n        return of(\n          setProjectsDone(null, projectsWithReview),\n          ...data.content\n            .map((project) => project.owner)\n            .filter((ownerId, index, ownerIds) => ownerIds.indexOf(ownerId) === index)\n            .map((ownerId) => fetchUserById(ownerId)),\n        );\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectsDone(error),\n      )),\n      startWith(setProjectsLoading()),\n    )),\n  )\n);\n\nconst createProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_PROJECT),\n    switchMap((action) => {\n      const {\n        newProject,\n      } = action.payload;\n      return request({\n        method: 'post',\n        url: '/own/proj',\n        data: newProject,\n      }).pipe(\n        flatMap((data) => {\n          message.success('創建成功');\n          return of(\n            createProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('創建失敗');\n          return fetchErrorEpic(\n            error,\n            createProjectDone(error),\n          );\n        }),\n        startWith(createProjectLoading()),\n      );\n    }),\n  )\n);\n\n// PUT /own/proj/<int:proj_id>\nconst updateProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_UPDATE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n        updateProject,\n      } = action.payload;\n      return request({\n        method: 'put',\n        url: `/own/proj/${projectId}`,\n        data: updateProject.toJS(),\n      }).pipe(\n        flatMap((data) => {\n          message.success('更新成功');\n          return of(\n            updateProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('更新失敗');\n          return fetchErrorEpic(\n            error,\n            updateProjectDone(error),\n          );\n        }),\n        startWith(updateProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst deleteProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_DELETE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n      } = action.payload;\n      return request({\n        method: 'delete',\n        url: `/proj/${projectId}`,\n      }).pipe(\n        flatMap((res) => {\n          if (res.status === 'success') {\n            message.success('刪除成功');\n            return of(\n              deleteProjectDone(null),\n              deleteProjectById(projectId),\n            );\n          }\n          return of(\n            deleteProjectDone(res),\n          );\n        }),\n        catchError((error) => {\n          message.error('刪除失敗');\n          return fetchErrorEpic(\n            error,\n            deleteProjectDone(error),\n          );\n        }),\n        startWith(deleteProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchOwnProjectsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_OWN_PROJECTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/own/projs',\n    }).pipe(\n      flatMap((data) => of(\n        setOwnProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setOwnProjectsDone(error),\n      )),\n      startWith(setOwnProjectsLoading()),\n    )),\n  )\n);\n\nconst getKeywordQueryString = (keyword) => (\n  typeof keyword === 'string' && keyword.length > 0\n    ? `kw=${keyword}`\n    : ''\n);\n\nconst getZonesQueryString = (zones) => zones\n  .map((zone) => `zone=${zone}`)\n  .join('&');\n\nconst getLanguageQueryString = (language) => (\n  language === 'en'\n    ? 'lang=en'\n    : undefined\n);\n\nconst getSearchSpotQueryString = ({ zones, keyword, language }) => {\n  const queryString = [\n    getKeywordQueryString(keyword),\n    getZonesQueryString(zones),\n    getLanguageQueryString(language),\n  ]\n    .filter((queryStringSegment) => queryStringSegment !== '')\n    .join('&');\n\n  return queryString.length > 0 ? `?${queryString}` : '';\n};\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nconst logoutEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGOUT),\n    switchMap(() => request({\n      method: 'post',\n      url: '/logout',\n    }).pipe(\n      flatMap(() => (\n        of(setLogoutDone(null))\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLogoutDone(error),\n      )),\n      startWith(setLogoutLoading()),\n    )),\n  )\n);\n\nconst registerEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(REGISTER),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/register',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: action.payload.acc }\n          : null;\n        return of(setRegisterDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRegisterDone(error),\n      )),\n      startWith(setRegisterLoading()),\n    )),\n  )\n);\n\nconst fetchLoginStatusEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_LOGIN_STATUS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/check_login',\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginStatusDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginStatusDone(error),\n      )),\n      startWith(setLoginStatusLoading()),\n    )),\n  )\n);\n\nconst likeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeSpotDone(null, action.payload),\n            addFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeSpotDone(null, action.payload),\n            deleteFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setCancelLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst likeProjectEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_PROJECT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/proj/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeProjectDone(null, action.payload),\n            addFavoriteProjectId(action.payload),\n          );\n        }\n        return of(setLikeProjectDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeProjectEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_PROJECT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/proj/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeProjectDone(null, action.payload),\n            deleteFavoriteProjectId(action.payload),\n          );\n        }\n        return of(setCancelLikeProjectDone(res));\n      }),\n    )),\n  )\n);\n\nconst fetchFavoriteSpotIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_SPOT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/spots',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteSpotIdsDone(null, res.content.map((row) => row.spot_id)),\n          );\n        }\n        return of(setFavoriteSpotIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteSpotIdsDone(error),\n      )),\n      startWith(setFavoriteSpotIdsLoading()),\n    )),\n  )\n);\n\nconst fetchFavoriteProjectIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_PROJECT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/projs',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteProjectIdsDone(null, res.content.map((row) => row.proj_id)),\n          );\n        }\n        return of(setFavoriteProjectIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteProjectIdsDone(error),\n      )),\n      startWith(setFavoriteProjectIdsLoading()),\n    )),\n  )\n);\n\nconst exploreNextSpotEpic = (action$, state$) => (\n  action$.pipe(\n    ofType(EXPLORE_NEXT_SPOT),\n    map(() => {\n      const state = state$.value.get(KEY_REDUCER);\n      const favoriteSpotIds = state.get('favoriteSpotIds');\n      const spotIds = state.get('recSpotsResult');\n      const exploringSpotId = state.get('exploringSpotId');\n      const notExploredSpotIds = spotIds\n        .slice(spotIds.indexOf(exploringSpotId) + 1);\n      const nextSpotId = notExploredSpotIds\n        .find((notExploredId) => !favoriteSpotIds.includes(notExploredId));\n\n      if (nextSpotId) {\n        return setExploringSpotId(nextSpotId);\n      }\n      if (notExploredSpotIds.size === 0) {\n        return setExploringSpotId(spotIds.get(0));\n      }\n\n      return setExploringSpotId(exploringSpotId);\n    }),\n  )\n);\n\nexport default [\n  setInit,\n  fetchOwnProjectsEpic,\n  fetchUserByIdEpic,\n  fetchUsersEpic,\n  fetchUserStatsEpic,\n  fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  fetchRecSpotsEpic,\n  searchRecSpotsEpic,\n  fetchProjectByIdEpic,\n  fetchProjectsEpic,\n  loginEpic,\n  logoutEpic,\n  registerEpic,\n  fetchLoginStatusEpic,\n  createProjectEpic,\n  updateProjectEpic,\n  deleteProjectEpic,\n  likeSpotEpic,\n  cancelLikeSpotEpic,\n  likeProjectEpic,\n  cancelLikeProjectEpic,\n  fetchFavoriteSpotIdsEpic,\n  fetchFavoriteProjectIdsEpic,\n  exploreNextSpotEpic,\n  createSpotEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","const YELLOW = '#F9D94A';\n\nconst SpotlightTheme = {\n  mainColor: YELLOW,\n};\n\nexport const defaultTheme = {\n  ...SpotlightTheme,\n};\n\nexport const GRAY = '#dbdcdb';\nexport const GRAY_DARK = '#c4c4c4';\nexport const BACKGROUND_COLOR = '#f0f0f0';\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: ${(props) => props.height}px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst StyledSpinnerCover = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: white;\n  opacity: 0.5;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n    position: absolute;\n    top: ${(props) => props.height}px;\n  }\n`;\n\nconst Spinner = (props) => {\n  const {\n    height,\n    type,\n  } = props;\n  if (type === 'opacity') {\n    return (\n      <StyledSpinnerCover height={200}>\n        <i className=\"fa fa-spinner fa-spin\" />\n      </StyledSpinnerCover>\n    );\n  }\n  return (\n    <StyledSpinner height={height}>\n      <i className=\"fa fa-spinner fa-spin\" />\n    </StyledSpinner>\n  );\n};\n\nSpinner.propTypes = {\n  height: PropTypes.number,\n  type: PropTypes.string,\n};\n\nSpinner.defaultProps = {\n  height: 300,\n  type: null,\n};\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectUserMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUserMeta'),\n);\n\nexport const selectUsersMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUsersMeta'),\n);\n\nexport const selectUsers = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('users'),\n);\n\nexport const selectSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotMeta'),\n);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectCreateSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('createSpotMeta'),\n);\n\nexport const selectSearchRecSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSearchRecSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectRecSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('recSpotsResult'),\n);\n\nexport const selectProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('projects'),\n);\n\nexport const selectPublicProjects = () => createSelector(\n  selectProjects(),\n  (projects) => projects.filter((project) => project.get('is_public')).toList(),\n);\n\nexport const selectProjectsByUserId = (id) => createSelector(\n  selectProjects(),\n  (projects) => projects.filter((project) => project.get('owner') === Number(id)).toList(),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpotId = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('exploringSpotId'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  selectExploringSpotId(),\n  (spotlightState, spotId) => spotlightState.getIn(['spots', String(spotId)], Map()),\n);\n\nexport const selectLoginStatusMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginStatusMeta'),\n);\n\nexport const selectOwnProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('projects')\n    .filter((project) => project.get('owner') === spotlightState.getIn(['user', 'user_id']))\n    .toList(),\n);\n\nexport const selectOwnProjectsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjectsMeta'),\n);\n\nexport const selectOwnProjectById = (id) => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects')\n    .find(\n      (project) => project.get('proj_id') === Number(id),\n    ),\n);\n\nexport const selectFavoriteSpotIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteSpotIdsMeta'),\n);\n\nexport const selectFavoriteSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteSpotIds'),\n);\n\nexport const selectFavoriteProjectIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteProjectIdsMeta'),\n);\n\nexport const selectFavoriteProjectIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteProjectIds'),\n);\n\nexport const selectIsModalVisible = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('isModalVisible'),\n);\n\nexport const selectCreatedSpotId = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('createdSpotId'),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS, Map, List } from 'immutable';\nimport { useTranslation } from 'react-i18next';\nimport { DEFAULT_PROJECT } from './constants';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [isNavVisible, setIsNavVisible] = useState(true);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true);\n\n  // create project\n  const [newProject, setNewProject] = useState(fromJS(DEFAULT_PROJECT));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // update project\n  const [updateProject, setUpdateProject] = useState(Map());\n\n  // select liked spot\n  const [selectedLikedSpotId, setSelectedLikedSpotId] = useState();\n\n  const [selectedDays, setSelectedDays] = useState(List());\n  const { i18n } = useTranslation();\n  const [language, setLanguage] = useState(i18n.language);\n\n  return {\n    isNavVisible,\n    setIsNavVisible,\n\n    isHeaderVisible,\n    setIsHeaderVisible,\n\n    // create project\n    newProject,\n    setNewProject,\n\n    // update project\n    updateProject,\n    setUpdateProject,\n\n    isEditMode,\n    setIsEditMode,\n\n    // select liked spot\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n\n    selectedDays,\n    setSelectedDays,\n\n    language,\n    setLanguage: (language) => {\n      i18n.changeLanguage(language);\n      setLanguage(language);\n    },\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: { name: 'explore', text: '探索景點' },\n  PLANNING: { name: 'planning', text: '計劃旅程' },\n  ARTICLES: { name: 'articles', text: '遊記' },\n  TRAVEL_WALL: { name: 'travelWall', text: '旅遊牆' },\n  PERSONAL_PAGE: { name: 'personal', text: '我的' },\n  SETTING: { name: 'setting', text: '設定' },\n  DETAIL_PLANNING: { name: 'detailPlanning', text: '旅程內容' },\n  UPDATE_PLANNING: { name: 'updatePlanning', text: '修改旅程' },\n  CREATE_PROJECT: { name: 'createPlanning', text: '增加旅程' },\n  ADD_SPOT_TO_PLAN: { name: 'addSpotToPlan', text: '從收藏添加景點' },\n  SETTING_SPOT_CARD: { name: 'settingSpotCard', text: '景點設定' },\n  UPDATING_SPOT_CARD: { name: 'updatingSpotCard', text: '景點設定' },\n  ADD_SPOT_TO_PROJECT: { name: 'addSpotToProject', text: '加到我的行程' },\n  EDIT_PLANNING_DAY: { name: 'editPlanningDay', text: '編輯天數' },\n  TRAVELER: { name: 'traveler', text: '旅遊者' },\n  CREATE_SPOT: { name: 'createSpot', text: '自建景點' },\n  COMMENT: { name: 'comments', text: '留言' },\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { HEIGHT_HEADER } from 'Styled/Settings/constants';\n\nexport const HeaderContainer = styled.div`\n  height: ${HEIGHT_HEADER}px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n  background: ${(props) => props.theme.mainColor};\n\n  .header-container__title {\n    font-weight: 500;\n  }\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n    display: flex;\n    align-items: center;\n  }\n  .icon-style {\n    color: rgba(51, 51, 51, 1);\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n\nexport const HeaderTitle = styled.div`\n  flex-basis: 1;\n  flex-shrink: 0;\n  text-align: center;\n`;\n\nexport const HeaderLeftButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 14px;\n`;\n\nexport const HeaderRightButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n`;\n\nexport const HeaderLinkButton = styled(Link)`\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n  }\n`;\n\nexport const HeaderButton = styled.button`\n  padding: 0;\n  border: 0;\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n    background-color: transparent;\n  }\n`;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst ExplorePageHeader = () => {\n  const { t } = useTranslation();\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons />\n      <HeaderTitle>\n        {t(PAGE_NAME.EXPLORE.text)}\n      </HeaderTitle>\n      <HeaderRightButtons />\n    </HeaderContainer>\n  );\n};\n\nExplorePageHeader.propTypes = {\n};\n\nexport default ExplorePageHeader;\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { useTranslation } from 'react-i18next';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const { t } = useTranslation();\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n    setIsEditMode,\n    setIsNavVisible,\n  } = context;\n  const handleToCreateProject = useCallback((event) => {\n    const path = findAttributeInEvent(event, 'data-redirect-path');\n    history.push(path);\n  }, []);\n  const handleEditModeOn = useCallback(() => {\n    setIsEditMode(true);\n    setIsNavVisible(false);\n  }, []);\n  const handleEditModeOff = useCallback(() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }, []);\n  useEffect(() => (() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }), []);\n  if (isEditMode) {\n    return (\n      <HeaderContainer>\n        <div>調整旅程</div>\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <i\n            role=\"presentation\"\n            className=\"fas fa-check icon-style\"\n            onClick={handleEditModeOff}\n          />\n        </div>\n      </HeaderContainer>\n    );\n  }\n  return (\n    <HeaderContainer>\n      <div>{t(`${PAGE_NAME.PLANNING.text}`)}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleEditModeOn} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT.name}\n          onClick={handleToCreateProject}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { useTranslation } from 'react-i18next';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => {\n  const { t } = useTranslation();\n  return (\n    <HeaderContainer>\n      <div>{t(`${PAGE_NAME.ARTICLES.text}`)}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={() => {}} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT.name}\n          onClick={() => {}}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { useTranslation } from 'react-i18next';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => {\n  const { t } = useTranslation();\n  return (\n    <HeaderContainer>\n      {t(`${PAGE_NAME.TRAVEL_WALL.text}`)}\n    </HeaderContainer>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { useTranslation } from 'react-i18next';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => {\n  const { t } = useTranslation();\n  const handleGoToSetting = useCallback(() => {\n    history.push(`/${PAGE_NAME.SETTING.name}`);\n  });\n  return (\n    <HeaderContainer>\n      <div>{t(`${PAGE_NAME.PERSONAL_PAGE.text}`)}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-cog icon-style\" onClick={handleGoToSetting} />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { useTranslation } from 'react-i18next';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const { t } = useTranslation();\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PERSONAL_PAGE.name}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{t(`${PAGE_NAME.SETTING.text}`)}</div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nconst fade = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.65;\n  }\n`;\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst addGrowingAnimation = (isHeightGrowing) => (isHeightGrowing ? 'modal-wrapper__height-growing-animation' : '');\n\nconst ModalWrapper = styled.div`\n  .modal-wrapper__mask {\n    background: black;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    opacity: 0.65;\n    animation: 0.15s ease-in-out ${fade};\n    position: absolute;\n    bottom: 0;\n  }\n  .modal-wrapper__modal-content {\n    position: absolute;\n    z-index: 1000;\n  }\n  .modal-wrapper__height-growing-animation {\n    animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  }\n`;\n\nclass Modal extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    children: PropTypes.any,\n    isVisible: PropTypes.bool,\n    optionStyle: PropTypes.object,\n    heightGrowing: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    id: 'modal-root-element',\n    children: null,\n    isVisible: false,\n    optionStyle: {},\n    heightGrowing: false,\n  }\n\n  constructor(props) {\n    super(props);\n    this.el = document.getElementById(props.id);\n    if (!document.getElementById(props.id)) {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', props.id);\n      document.body.appendChild(this.el);\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      isVisible,\n      id,\n    } = this.props;\n    if (!document.getElementById(id)) {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', id);\n      document.body.appendChild(this.el);\n    }\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      this.el.style.display = 'none';\n      this.el.innerHTML = null;\n    }\n  }\n\n  componentWillUnmount() {\n    const {\n      id,\n    } = this.props;\n    if (document.getElementById(id)) {\n      document.getElementById(id).remove();\n    }\n  }\n\n  render() {\n    const {\n      children,\n      isVisible,\n      optionStyle,\n      heightGrowing,\n    } = this.props;\n    if (isVisible) {\n      return ReactDOM.createPortal(\n        <ModalWrapper>\n          <div className={`modal-wrapper__mask ${addGrowingAnimation(heightGrowing)}`} />\n          <div className=\"modal-wrapper__modal-content\" style={optionStyle}>{children}</div>\n        </ModalWrapper>,\n        this.el,\n      );\n    }\n    return null;\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst ModalContentContainer = styled.div`\n  width: 250px;\n  height: 180px;\n  background: white;\n  border-radius: 10px;\n  .modal-content__message-wrapper {\n    height: 140px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .modal-content__message {\n    width: 140px;\n    font-size: 16px;\n    text-align: center;\n  }\n  .modal-content__button-group {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    border-radius: 0px 0px 10px 10px;\n    height: 40px;\n  }\n  .modal-content__button {\n    outline: none;\n    border: none;\n    background: #EEEEEE;\n    color: #292929;\n    font-weight: 500;\n    border-radius: 0px 0px 0px 10px;\n    cursor: pointer;\n    &:hover {\n      opacity: 0.85;\n    }\n  }\n  .modal-content__button-active {\n    background: ${(props) => props.theme.mainColor};\n    border-radius: 0px 0px 10px 0px;\n  }\n`;\n\nconst ModalContent = (props) => {\n  const {\n    message,\n    onOk,\n    onCancel,\n  } = props;\n  return (\n    <ModalContentContainer>\n      <div className=\"modal-content__message-wrapper\">\n        <div className=\"modal-content__message\">{message}</div>\n      </div>\n      <div className=\"modal-content__button-group\">\n        <button type=\"button\" className=\"modal-content__button\" onClick={onCancel}>取消</button>\n        <button type=\"button\" className=\"modal-content__button modal-content__button-active\" onClick={onOk}>確定</button>\n      </div>\n    </ModalContentContainer>\n  );\n};\n\nModalContent.propTypes = {\n  message: PropTypes.string.isRequired,\n  onOk: PropTypes.func,\n  onCancel: PropTypes.func,\n};\n\nModalContent.propTypes = {\n  onOk: () => { },\n  onCancel: () => { },\n};\n\nexport default ModalContent;\n","import React, {\n  useState, useContext, useEffect, useCallback,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectUser,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\nimport uploadTravelWallIconPath from 'assets/upload_travel_wall_icon.svg';\nimport message from 'antd/lib/message';\nimport Modal from 'components/Modal';\nimport ModalContent from './ModalContent';\n\nconst { SpotlightContext } = Context;\n\nconst modalStyle = {\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n};\n\nconst DetailPlanningPage = (props) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  const {\n    user,\n    match,\n    // ownProjects,\n    projects,\n    handleSubmitUpdateProject,\n  } = props;\n  const { projectId } = match.params;\n  if (!projects) {\n    return null;\n  }\n  const project = projects.find((proj) => proj.get('proj_id').toString() === projectId);\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleGoToUpdatePlanningPage = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    history.replace({\n      pathname: `/${PAGE_NAME.UPDATE_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleUploadToTravelWall = useCallback(() => {\n    if (!project) {\n      return;\n    }\n    const hasPublic = project.get('is_public');\n    if (hasPublic) {\n      message.info('已經上傳至旅遊牆');\n      return;\n    }\n    setIsModalVisible(true);\n  }, [projects]);\n  const handleOnOk = useCallback(() => {\n    const updatedProject = fromJS({ is_public: true });\n    handleSubmitUpdateProject(projectId, updatedProject);\n    setIsModalVisible(false);\n  }, []);\n  const handleOnCancel = useCallback(() => {\n    setIsModalVisible(false);\n  }, []);\n  if (!project || !user) {\n    return null;\n  }\n  const owner = project.get('owner');\n  const userId = user.get('user_id');\n  const isOwner = userId === owner;\n\n  return (\n    <>\n      <HeaderContainer>\n        <div className=\"header-container__icon-wrapper icon-left\">\n          <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n        </div>\n        <div>{PAGE_NAME.DETAIL_PLANNING.text}</div>\n        {\n          isOwner &&\n          <div className=\"header-container__icon-wrapper icon-right\">\n            <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleGoToUpdatePlanningPage} />\n            <div role=\"presentation\" onClick={handleUploadToTravelWall}>\n              <img src={uploadTravelWallIconPath} className=\"icon-style\" alt=\"\" />\n            </div>\n          </div>\n        }\n      </HeaderContainer>\n      <Modal\n        id=\"UploadToTravelWallConfirm\"\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n      >\n        <ModalContent\n          message=\"您確定要將此旅程分享到旅遊牆嗎？\"\n          onOk={handleOnOk}\n          onCancel={handleOnCancel}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  match: PropTypes.object,\n  projects: PropTypes.instanceOf(Map).isRequired,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  user: Map(),\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  projects: selectProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    setUpdateProject,\n    updateProject,\n  } = context;\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.replace({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n\n    handleSubmitUpdateProject(projectId, updateProject);\n    setUpdateProject(Map());\n\n    history.replace({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, [updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleGoBackToDetailPlanning}\n        />\n      </div>\n      <div>{PAGE_NAME.UPDATE_PLANNING.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from 'containers/Spotlight/constants';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  PAGE_NAME,\n} from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\n\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitCreateProject,\n} from 'containers/Spotlight/actions';\n\nconst { SpotlightContext } = Context;\n\nconst CreateProjectPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    newProject,\n    setNewProject,\n  } = context;\n  const setInit = () => {\n    setNewProject(fromJS(DEFAULT_PROJECT));\n  };\n  const handleOnCancelBtn = () => {\n    history.goBack();\n  };\n  const handleOnCheckBtn = () => {\n    const {\n      handleSubmitCreateProject,\n    } = props;\n    const name = newProject.get('name');\n    const startDay = moment(newProject.get('start_day')).format('YYYY/MM/DD 00:mm:ss');\n    const days = newProject.get('tot_days');\n    if (!name || !newProject.get('start_day')) {\n      message.error('欄位皆為必填');\n      return;\n    }\n    if (days <= 0) {\n      message.error('天數格式錯誤');\n      return;\n    }\n    handleSubmitCreateProject({\n      name,\n      start_day: startDay,\n      tot_days: days,\n    });\n    history.goBack();\n  };\n  useEffect(() => {\n    setIsNavVisible(false);\n    setInit();\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleOnCancelBtn}\n        />\n      </div>\n      <div>{PAGE_NAME.CREATE_PROJECT.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nCreateProjectPage.propTypes = {\n  handleSubmitCreateProject: PropTypes.func,\n};\n\nCreateProjectPage.defaultProps = {\n  handleSubmitCreateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateProject: (newProject) => dispatch(submitCreateProject(newProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProjectPage);\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nimport arrowRightIconPath from 'assets/arrow_right_icon.svg';\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToPlanPage = (props) => {\n  const {\n    match,\n  } = props;\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n  } = context;\n  const { projectId } = match.params;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = searchParams.get('day');\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    if (!selectedLikedSpotId) {\n      message.warning('請選擇景點卡');\n      return;\n    }\n    const settingSpotCardPagePath = `/${PAGE_NAME.SETTING_SPOT_CARD.name}/${projectId}`;\n    history.push({\n      pathname: settingSpotCardPagePath,\n      search: `?day=${day}`,\n    });\n  }, [selectedLikedSpotId, day]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleGoBackToDetailPlanning}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.ADD_SPOT_TO_PLAN.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnCheckBtn}>\n          <img className=\"icon-style\" src={arrowRightIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToPlanPage.propTypes = {\n  match: PropTypes.object,\n};\n\nAddSpotToPlanPage.defaultProps = {\n  match: {},\n};\n\nexport default AddSpotToPlanPage;\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst SettingSpotCardPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  if (!selectedLikedSpotId) {\n    return null;\n  }\n  const {\n    day,\n    afterIndex,\n    elapsedTime,\n    spotId,\n  } = selectedLikedSpotId;\n  const {\n    project,\n    handleSubmitUpdateProject,\n  } = props;\n  if (!project) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const plan = project.get('plan');\n  const handleOnGoBack = useCallback(() => {\n    history.goBack();\n  }, []);\n\n  const handleOnCheck = useCallback(() => {\n    const time = elapsedTime.split(':');\n    const during = parseInt(time[0], 10) * 60 + parseInt(time[1], 10);\n    const updatedPlan = plan.updateIn([parseInt(day, 10) - 1, 'arrange'], (arrange) => {\n      const newSpotCard = fromJS({\n        spot_id: parseInt(spotId, 10),\n        during,\n      });\n      const insertIndex = parseInt(afterIndex, 10);\n      const isIndexSmallThanSize = arrange.size >= insertIndex;\n\n      // insert at positions between spots\n      if (isIndexSmallThanSize) {\n        return arrange.insert(insertIndex, newSpotCard);\n      }\n\n      // insert at last position\n      return arrange.push(newSpotCard);\n    });\n\n    const result = fromJS({\n      plan: updatedPlan.toJS(),\n    });\n    handleSubmitUpdateProject(project.get('proj_id'), result);\n    setSelectedLikedSpotId(null);\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${project.get('proj_id')}`,\n      search: `?day=${day}`,\n    });\n  });\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnGoBack}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.SETTING_SPOT_CARD.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnCheck}>\n          <img className=\"icon-style\" src={checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nSettingSpotCardPage.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nSettingSpotCardPage.defaultProps = {\n  project: Map(),\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  project: selectProjects()(state).get(ownProps.match.params.projectId),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingSpotCardPage);\n","import React, { useCallback, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { List, Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectOwnProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport Modal from 'antd/lib/modal';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport timesIconPath from 'assets/times_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\nimport trashIconPath from 'assets/trash_icon.svg';\n\nconst { confirm } = Modal;\n\nconst EditPlanningDayPage = (props) => {\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  const { SpotlightContext } = Context;\n  const {\n    setIsNavVisible,\n    // updateProject,\n    selectedDays,\n    setSelectedDays,\n    updateProject,\n    setUpdateProject,\n  } = useContext(SpotlightContext);\n  const {\n    match,\n    // ownProjects,\n  } = props;\n  const { projectId } = match.params;\n  const handleOnCancel = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleOnDelete = useCallback(() => {\n    const submitProject = updateProject\n      .update('plan', (plan) => plan.filter((p, index) => !selectedDays.includes(index + 1)))\n      .update('tot_days', (totDays) => totDays - selectedDays.size);\n    confirm({\n      title: '刪除',\n      content: '確認是否刪除選取項目？',\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleSubmitUpdateProject(projectId, submitProject);\n        setSelectedDays(List());\n      },\n    });\n  }, [selectedDays, updateProject]);\n  const handleOnCheck = useCallback(() => {\n    handleSubmitUpdateProject(projectId, updateProject);\n    setSelectedDays(List());\n  }, [selectedDays, updateProject]);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n      setSelectedDays(List());\n      setUpdateProject(Map());\n    };\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnCancel}>\n          <img className=\"icon-style\" src={timesIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.EDIT_PLANNING_DAY.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={selectedDays.size ? handleOnDelete : handleOnCheck}>\n          <img className=\"icon-style\" src={selectedDays.size ? trashIconPath : checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nEditPlanningDayPage.propTypes = {\n  // user: PropTypes.instanceOf(Map),\n  match: PropTypes.object,\n  // ownProjects: PropTypes.instanceOf(List).isRequired,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nEditPlanningDayPage.defaultProps = {\n  // user: Map(),\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  // user: selectUser(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPlanningDayPage);\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatingSpotCardPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    updateProject,\n  } = context;\n  const {\n    match,\n    handleSubmitUpdateProject,\n  } = props;\n  const { projectId } = match.params;\n  const { search } = window.location;\n  const handleOnGoBack = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleOnUpdateSpotCard = useCallback(() => {\n    handleSubmitUpdateProject(projectId, updateProject);\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search,\n    });\n  }, [projectId, updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnGoBack}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.SETTING_SPOT_CARD.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnUpdateSpotCard}>\n          <img className=\"icon-style\" src={checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatingSpotCardPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatingSpotCardPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatingSpotCardPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n  HeaderLinkButton,\n} from '../Styled';\n\nconst SpotPage = ({ location }) => (\n  <HeaderContainer>\n    <HeaderLeftButtons>\n      <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n        <i className=\"fas fa-arrow-left\" />\n      </HeaderLinkButton>\n    </HeaderLeftButtons>\n    <HeaderRightButtons>\n      <HeaderLinkButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`}>\n        <i className=\"fas fa-plus\" />\n      </HeaderLinkButton>\n    </HeaderRightButtons>\n  </HeaderContainer>\n);\n\nSpotPage.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(SpotPage);\n","import React, { useContext, useEffect } from 'react';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPage = () => {\n  const { setIsNavVisible } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons />\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n};\n\nexport default withRouter(AddSpotToProjectPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { submitUpdateProject } from 'containers/Spotlight/actions';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  handleSubmitUpdateProject,\n  match,\n}) => {\n  const { setIsNavVisible, updateProject } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  const handleOnCheckClick = useCallback(() => {\n    history.goBack();\n    handleSubmitUpdateProject(match.params.projectId, updateProject);\n  });\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons>\n        <HeaderButton type=\"button\" onClick={handleOnCheckClick}>\n          <i className=\"fas fa-check\" />\n        </HeaderButton>\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  handleSubmitUpdateProject: PropTypes.func.isRequired,\n  match: PropTypes.object.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updatedProject) => (\n    dispatch(submitUpdateProject(projectId, updatedProject))\n  ),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React from 'react';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n  HeaderButton,\n} from '../Styled';\n\n\nconst TravelPage = () => (\n  <HeaderContainer>\n    <HeaderLeftButtons>\n      <HeaderButton onClick={() => history.goBack()}>\n        <i className=\"fas fa-arrow-left\" />\n      </HeaderButton>\n    </HeaderLeftButtons>\n    {PAGE_NAME.TRAVELER.text}\n    <HeaderRightButtons />\n  </HeaderContainer>\n);\n\nexport default TravelPage;\n","import React from 'react';\n\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n  HeaderButton,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    <HeaderLeftButtons>\n      <HeaderButton onClick={() => history.goBack()}>\n        <i className=\"fas fa-arrow-left\" />\n      </HeaderButton>\n    </HeaderLeftButtons>\n    <HeaderTitle>\n      {PAGE_NAME.COMMENT.text}\n    </HeaderTitle>\n    <HeaderRightButtons />\n  </HeaderContainer>\n);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n`;\n\nconst inputLeftPadding = '56px';\n\nexport const UserNameContainer = styled.div`\n  position: relative;\n  margin: 0 15px 10px;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f007\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${inputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const UserName = styled.input`\n  width: 100%;\n  border: 0;\n  font-size: 14px;\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0 10px ${inputLeftPadding};\n  appearance: none;\n  outline: none;\n  color: #333;\n`;\n\n\nexport const PassWordContainer = styled.div`\n  position: relative;\n  margin: 0 15px 30px;\n`;\n\nexport const PasswordIcon = styled.img`\n  position: absolute;\n  top: 50%;\n  left: calc(${inputLeftPadding} / 2);\n  transform: translate(-50%, -50%);\n`;\n\nexport const PassWord = styled.input`\n  width: 100%;\n  border: 0;\n  font-size: 14px;\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0 10px ${inputLeftPadding};\n  appearance: none;\n  outline: none;\n  color: #333;\n`;\n\nconst loginButtonHorizontalMargin = '15px';\n\nexport const LoginButton = styled.button`\n  background-color: #F9D94A;\n  border-radius: 20px;\n  appearance: none;\n  border: 0;\n  margin: 0 ${loginButtonHorizontalMargin} 15px;\n  font-size: 16px;\n  width: calc(100% - 2 * ${loginButtonHorizontalMargin});\n  display: block;\n  color: #333333;\n  font-weight: bold;\n  padding: 10px 0;\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const RegisterRow = styled.div`\n  display: flex;\n  justify-content: center;\n  color: #333333;\n  font-size: 12px;\n`;\n\nexport const RegisterLink = styled.a`\n  margin-left: 3px;\n  font-weight: bold;\n  \n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n    text-decoration: underline;\n  }\n`;\n\nexport const ErrorMessage = styled.div`\n  display: block;\n  text-align: center;\n  margin-top: 15px;\n  color: red;\n`;\n\nexport const Logo = styled.img`\n  color: #333333;\n  font-size: 37px;\n  padding: 100px 0 64px;\n  display: block;\n  margin: 0 auto;\n  width: 260px;\n`;\n","import React, { createRef, useEffect, useContext } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport history from 'utils/history';\nimport {\n  login,\n  register,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectLoginStatusMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Context from 'containers/Spotlight/Context';\n\nimport {\n  UserName,\n  PassWord,\n  LoginButton,\n  RegisterRow,\n  ErrorMessage,\n  Logo,\n  Container,\n  UserNameContainer,\n  PassWordContainer,\n  PasswordIcon,\n  RegisterLink,\n} from './Styled';\nimport keyIcon from './key.svg';\nimport LogoSrc from './logo.png';\n\nconst { SpotlightContext } = Context;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n    loginStatusMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const handleRegisterBtnClick = () => {\n    const {\n      handleSubmitRegister,\n    } = props;\n    handleSubmitRegister({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const {\n    setIsHeaderVisible,\n    setIsNavVisible,\n  } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    if (loginStatusMeta.get('isLoaded') && user) {\n      history.push(`/${PAGE_NAME.EXPLORE.name}`);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    setIsHeaderVisible(false);\n    setIsNavVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    loginStatusMeta.get('isLoaded') && !user ? (\n      <Container>\n        <Logo src={LogoSrc} />\n        <UserNameContainer>\n          <UserName ref={usernameRef} type=\"email\" placeholder=\"請輸入註冊的 E-mail\" />\n        </UserNameContainer>\n        <PassWordContainer>\n          <PasswordIcon src={keyIcon} />\n          <PassWord ref={passwordRef} type=\"password\" placeholder=\"輸入密碼\" />\n        </PassWordContainer>\n        <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n        <RegisterRow>\n          還沒有帳號嗎?\n          <RegisterLink href=\"/#\" onClick={handleRegisterBtnClick}>\n            前往註冊\n          </RegisterLink>\n        </RegisterRow>\n        {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n      </Container>\n    ) : null\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  handleSubmitRegister: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n  handleSubmitRegister: ({ acc, pwd }) => dispatch(register({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","export const zoneReducer = (state, action) => {\n  switch (action.type) {\n    case 'SELECT_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], true);\n    case 'CANCEL_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], false);\n    case 'SET_ZONES':\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import styled from 'styled-components';\nimport {\n  HeaderContainer as HeaderContainerComponent,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  HEIGHT_HEADER,\n  MAX_WIDTH,\n} from 'Styled/Settings/constants';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-top: ${HEIGHT_HEADER}px;\n`;\n\nexport const Region = styled.div`\n  font-size: 14px;\n  padding: 9px 15px 15px;\n  color: #AAAAAA;\n\n  &:first-of-type {\n    padding-top: 15px;\n  }\n`;\n\nexport const ZoneLabel = styled.label`\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 15px 11px;\n  padding-bottom: 11px;\n  border-bottom: solid 1px #DFDFDF;\n  color: #333333;\n\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 15px;\n  }\n`;\n\nexport const HeaderContainer = styled(HeaderContainerComponent)`\n  height: ${HEIGHT_HEADER}px;\n  background-color: #F9D94A;\n  font-weight: bold;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n","import React, { useReducer, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport message from 'antd/lib/message';\nimport { useTranslation } from 'react-i18next';\nimport {\n  HeaderLeftButtons,\n  HeaderLinkButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from 'containers/Spotlight/Header/Styled';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Context from 'containers/Spotlight/Context';\nimport { zoneReducer } from '../reducer';\nimport {\n  HeaderContainer,\n  Region,\n  ZoneLabel,\n  Container,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst ZoneMenu = ({\n  zonesState,\n  dispatch,\n  handleSearchRecSpots,\n  keyword,\n}) => {\n  const [editZonesState, dispatchEdit] = useReducer(zoneReducer, zonesState);\n  const regions = editZonesState.map((zone) => zone.get('region')).toSet();\n  const { language } = useContext(SpotlightContext);\n  const { t } = useTranslation();\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <HeaderLeftButtons>\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n            <i className=\"fas fa-times\" />\n          </HeaderLinkButton>\n        </HeaderLeftButtons>\n        <HeaderTitle>\n          {t('chooseCounty')}\n        </HeaderTitle>\n        <HeaderRightButtons>\n          <HeaderLinkButton\n            to={`/${PAGE_NAME.EXPLORE.name}`}\n            onClick={() => {\n              dispatch({\n                type: 'SET_ZONES',\n                payload: editZonesState,\n              });\n              handleSearchRecSpots({\n                kw: keyword,\n                zones: editZonesState.filter((zone) => zone.get('selected'))\n                  .map((zone) => zone.get('name'))\n                  .toList()\n                  .toJS(),\n                language,\n              });\n            }}\n          >\n            <i className=\"fas fa-check\" />\n          </HeaderLinkButton>\n        </HeaderRightButtons>\n      </HeaderContainer>\n      {regions.map((region) => (\n        <React.Fragment key={region}>\n          <Region>{t(region)}</Region>\n          {editZonesState\n            .filter((zone) => zone.get('region') === region)\n            .map((zone) => (\n              <ZoneLabel key={zone.get('name')}>\n                {t(zone.get('name'))}\n                <input\n                  type=\"checkbox\"\n                  onChange={(event) => {\n                    const selectedSize = editZonesState\n                      .filter((zoneState) => zoneState.get('selected'))\n                      .size;\n                    if (selectedSize === 5 && event.currentTarget.checked) {\n                      message.warning(t('chooseAtMost5'), 2);\n                      return;\n                    }\n                    dispatchEdit({\n                      type: event.currentTarget.checked ? 'SELECT_ZONE' : 'CANCEL_ZONE',\n                      payload: { zone: zone.get('name') },\n                    });\n                  }}\n                  checked={zone.get('selected', false)}\n                />\n              </ZoneLabel>\n            ))\n            .toList()\n          }\n        </React.Fragment>\n      ))}\n    </Container>\n  );\n};\n\nZoneMenu.propTypes = {\n  zonesState: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n  handleSearchRecSpots: PropTypes.func.isRequired,\n  keyword: PropTypes.string.isRequired,\n};\n\nexport default ZoneMenu;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-bottom: 20px;\n`;\n\nexport const Card = styled.div`\n  display: block;\n  width: 300px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  height: 240px;\n  object-fit: cover;\n`;\n\nexport const CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 18px 18px;\n  background-color: #FFFFFF;\n`;\n\nexport const SpotName = styled.span`\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  font-size: 18px;\n  \n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #333333;\n  }\n`;\n\nexport const SpotLikes = styled.span`\n  flex-shrink: 0;\n  font-size: 14px;\n\n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #AAAAAA;\n  }\n`;\n\nexport const ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 16px;\n`;\n\nexport const Button = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 60px;\n  height: 60px;\n  background: #fff;\n  border-radius: 50%;\n  font-size: 18px;\n  margin-bottom: 5px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  appearance: none;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n`;\n\nexport const ButtonCrossIcon = styled.i`\n  font-size: 28px;\n  color: #333333;\n`;\n\nexport const ButtonHeartIcon = styled.i`\n  font-size: 20px;\n  color: #EB715A;\n`;\n\nexport const ButtonLabel = styled.label`\n  margin-right: 16px;\n  text-align: center;\n  font-size: 14px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SearchRow = styled.div`\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(#F9D94A 50%, transparent 50%);\n  padding: 3px 15px 15px;\n`;\n\nexport const SearchBar = styled.div`\n  width: 100%;\n  display: flex;\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nexport const SelectCountyButton = styled.button`\n  flex-shrink: 0;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  appearance: none;\n  border: 0;\n  position: relative;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n\n  &:after {\n    content : \"\";\n    position: absolute;\n    right: 0;\n    z-index: 100;\n    top: 50%;\n    width: 1px;\n    transform: translateY(-50%);\n    height: 70%;\n    background: #B5B5B5;\n  }\n`;\n\nconst searchInputLeftPadding = '33px';\n\nexport const SearchInputContainer = styled.div`\n  position: relative;\n  flex-grow: 1;\n  background-color: #fff;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f002\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${searchInputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  padding: 9px 9px 9px ${searchInputLeftPadding};\n  appearance: none;\n  border: 0;\n  outline: none;\n`;\n\nexport const ZonesRow = styled.div`\n  padding: 0 12px;\n  margin-bottom: 30px;\n`;\n\nexport const ZoneLabel = styled.span`\n  display: inline-block;\n  background-color: #EEEEEE;\n  color: #AAAAAA;\n  font-size: 12px;\n  padding: 2px 5px;\n  margin-right: 10px;\n  border-radius: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const ZoneLabelCrossIcon = styled.i`\n  margin-left: 5px;\n`;\n\nexport const SpotNotFound = styled.div`\n  text-align: center;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport Carousel from 'nuka-carousel';\nimport { CardImage as StyledCardImage } from './Styled';\nimport emptySpotImage from './empty-spot.png';\n\nconst CardImage = ({ pics }) => {\n  if (!pics || pics.size === 0) {\n    return <StyledCardImage src={emptySpotImage} />;\n  }\n\n  if (pics.size < 3) {\n    return <StyledCardImage src={pics.get(0)} />;\n  }\n\n  return (\n    <Carousel\n      autoplay\n      swiping={false}\n      dragging={false}\n      wrapAround\n      withoutControls\n      autoplayInterval={3000}\n      speed={450}\n      pauseOnHover={false}\n    >\n      {pics.map((pic, index) => (\n        <StyledCardImage key={index} src={pic} />\n      ))}\n    </Carousel>\n  );\n};\n\nCardImage.propTypes = {\n  pics: PropTypes.instanceOf(List),\n};\n\nexport default CardImage;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from 'react';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, fromJS, List } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport message from 'antd/lib/message';\nimport { useTranslation } from 'react-i18next';\nimport {\n  selectExploringSpot,\n  selectSearchRecSpotsMeta,\n  selectFavoriteSpotIdsMeta,\n  selectRecSpotIds,\n} from 'containers/Spotlight/selectors';\nimport {\n  exploreNextSpot,\n  likeSpot,\n  fetchFavoriteSpotIds,\n  fetchRecSpots,\n  searchRecSpots,\n} from 'containers/Spotlight/actions';\nimport { REC_SPOTS_BUFFER_COUNT, ZONES } from 'containers/Spotlight/constants';\nimport Spinner from 'components/Spinner';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Context from 'containers/Spotlight/Context';\nimport ZoneMenu from './ZoneMenu';\nimport { zoneReducer } from './reducer';\nimport CardImage from './CardImage';\nimport {\n  Container,\n  CardRow,\n  Card,\n  CardInfo,\n  ButtonRow,\n  Button,\n  SearchRow,\n  SearchBar,\n  SelectCountyButton,\n  SearchInputContainer,\n  SearchInput,\n  ZonesRow,\n  ZoneLabel,\n  ButtonLabel,\n  SpotName,\n  SpotLikes,\n  ZoneLabelCrossIcon,\n  ButtonCrossIcon,\n  ButtonHeartIcon,\n  SpotNotFound,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    searchRecSpotsMeta,\n    location,\n    history,\n    handleFetchFavoriteSpotIds,\n    favoriteSpotIdsMeta,\n    handleFetchRecSpots,\n    handleLikeSpot,\n    handleExploreNextSpot,\n    recSpotIds,\n    handleSearchRecSpots,\n  } = props;\n\n  const [zonesState, dispatch] = useReducer(zoneReducer, fromJS(ZONES));\n  const selectedZones = zonesState\n    .filter((zone) => zone.get('selected'))\n    .map((zone) => zone.get('name'))\n    .toList()\n    .toJS();\n\n  const [keyword, setKeyword] = useState('');\n\n  const { setIsHeaderVisible, language } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      handleFetchFavoriteSpotIds();\n    }\n\n    if (recSpotIds.slice(recSpotIds.indexOf(spot.get('spot_id'))).size < REC_SPOTS_BUFFER_COUNT) {\n      handleSearchRecSpots({ kw: keyword, zones: selectedZones, language });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (query.menu === 'zone') {\n      setIsHeaderVisible(false);\n    }\n\n    return (() => {\n      setIsHeaderVisible(true);\n    });\n  });\n\n  const keywordInputRef = useCallback((node) => {\n    if (node !== null) {\n      const changes = fromEvent(node, 'changeForRx').pipe(debounceTime(300));\n      changes.subscribe((event) => {\n        handleSearchRecSpots({\n          kw: event.detail.keyword,\n          zones: event.detail.zones,\n          language,\n        });\n      });\n    }\n  }, []);\n\n  const handleOnLikeClick = useCallback(() => {\n    message.success('加入收藏');\n    handleLikeSpot(spot.get('spot_id'));\n    handleExploreNextSpot();\n    handleFetchRecSpots({ kw: keyword, zones: selectedZones, language });\n  });\n\n  const handleOnSkipClick = useCallback(() => {\n    handleExploreNextSpot();\n    handleFetchRecSpots({ kw: keyword, zones: selectedZones, language });\n  });\n\n  const { t } = useTranslation();\n\n  const query = queryString.parse(location.search);\n\n  if (query.menu === 'zone') {\n    return (\n      <ZoneMenu\n        location={location}\n        history={history}\n        zonesState={zonesState}\n        dispatch={dispatch}\n        keyword={keyword}\n        handleSearchRecSpots={handleSearchRecSpots}\n      />\n    );\n  }\n\n  return (\n    <Container>\n      <SearchRow>\n        <SearchBar>\n          <SelectCountyButton onClick={() => history.replace(`${location.pathname}?menu=zone`)}>\n            {t('chooseCounty')}\n            <i className=\"fas fa-caret-right\" />\n          </SelectCountyButton>\n          <SearchInputContainer>\n            <SearchInput\n              type=\"text\"\n              placeholder={t('searchForSpot')}\n              value={keyword}\n              onChange={(event) => {\n                setKeyword(event.target.value);\n                event.currentTarget.dispatchEvent(new CustomEvent('changeForRx', {\n                  detail: {\n                    keyword: event.target.value,\n                    zones: selectedZones,\n                  },\n                }));\n              }}\n              ref={keywordInputRef}\n            />\n          </SearchInputContainer>\n        </SearchBar>\n      </SearchRow>\n      <ZonesRow>\n        {selectedZones.map((zone) => (\n          <ZoneLabel key={zone}>\n            {t(zone)}\n            <ZoneLabelCrossIcon className=\"fas fa-times\" />\n          </ZoneLabel>\n        ))}\n      </ZonesRow>\n      {searchRecSpotsMeta.get('isLoading') && <Spinner />}\n      {(searchRecSpotsMeta.get('isLoaded') && recSpotIds.size > 0) && (\n        <React.Fragment>\n          <CardRow>\n            <Link to={`/${PAGE_NAME.EXPLORE.name}/${spot.get('spot_id')}`}>\n              <Card>\n                <CardImage pics={spot.get('pic')} />\n                <CardInfo>\n                  <SpotName>{spot.get('name')}</SpotName>\n                  <SpotLikes>\n                    {t('favoriteWithCount', { count: spot.get('like_num') })}\n                  </SpotLikes>\n                </CardInfo>\n              </Card>\n            </Link>\n          </CardRow>\n          <ButtonRow>\n            <ButtonLabel>\n              <Button onClick={handleOnSkipClick}>\n                <ButtonCrossIcon className=\"fas fa-times\" />\n              </Button>\n              <span>{t('skip')}</span>\n            </ButtonLabel>\n            <ButtonLabel>\n              <Button onClick={handleOnLikeClick}>\n                <ButtonHeartIcon className=\"fas fa-heart\" />\n              </Button>\n              <span>{t('wantToGo')}</span>\n            </ButtonLabel>\n          </ButtonRow>\n        </React.Fragment>\n      )}\n      {(!searchRecSpotsMeta.get('isLoading') && recSpotIds.size === 0) && (\n        <SpotNotFound>\n          {t('noSpotFound')}\n        </SpotNotFound>\n      )}\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  searchRecSpotsMeta: PropTypes.object,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchRecSpots: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n  handleExploreNextSpot: PropTypes.func.isRequired,\n  recSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleSearchRecSpots: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n  searchRecSpotsMeta: selectSearchRecSpotsMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  recSpotIds: selectRecSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleFetchRecSpots: ({ kw, zones, language }) => dispatch(fetchRecSpots({ kw, zones, language })),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleExploreNextSpot: () => dispatch(exploreNextSpot()),\n  handleSearchRecSpots: ({ kw, zones, language }) => dispatch(searchRecSpots({ kw, zones, language })),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ExplorePage));\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, List } from 'immutable';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport Context from 'containers/Spotlight/Context';\nimport Carousel from 'nuka-carousel';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport Modal from 'antd/lib/modal';\nimport trashIconPath from 'assets/trash_icon.svg';\nimport defaultBackgroundImagePath from 'assets/default_background_3x.png';\n\nconst getRandom = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\n\nconst { confirm } = Modal;\nconst { SpotlightContext } = Context;\n\nconst Container = styled.div`\n  margin-top: 15px;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  position: relative;\n  .project-card__cover-image {\n    display: block;\n    width: 100%;\n    object-fit: cover;\n    height: 150px;\n    border-radius: 10px 10px 0px 0px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    height: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .project-card__info-period {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.7;\n    z-index: 1;\n    border-radius: 10px;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: #8e8f94;\n    border: 1px solid #EEEEEE;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    z-index: 1;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n    width: 14px;\n    height: 14px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n  } = context;\n  const {\n    spots,\n    project,\n    handleDeleteProject,\n    handleFetchSpotById,\n  } = props;\n  const projectId = project.get('proj_id');\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const handleOnClick = useCallback(() => {\n    if (isEditMode) {\n      return;\n    }\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [projectId, isEditMode]);\n  const handleOnDeleteProject = useCallback((event) => {\n    const projId = findAttributeInEvent(event, 'data-project-id');\n    confirm({\n      title: '刪除旅程計劃',\n      content: `確認是否刪除 \"${name}\" ？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleDeleteProject(projId);\n      },\n    });\n  }, []);\n  const spotIds = project.get('plan')\n    .map((p) => p.get('arrange'))\n    .filter((arrange) => arrange.size)\n    .reduce((a, b) => a.concat(b), List())\n    .map((arrange) => arrange.get('spot_id'));\n  useEffect(() => {\n    spotIds.map((spotId) => handleFetchSpotById(spotId));\n  }, []);\n  const spotsPics = spotIds\n    .map((spotId) => spots.getIn([spotId.toString(), 'pic']))\n    .flatten(1)\n    .filter((pic) => pic !== undefined)\n    .toSet()\n    .toList();\n\n  return (\n    <Container isEditMode={isEditMode} onClick={handleOnClick}>\n      {\n        isEditMode &&\n        <>\n          <div className=\"project-card__mask\" />\n          <div\n            role=\"presentation\"\n            className=\"project-card__trash-icon-wrapper\"\n            data-project-id={projectId}\n            onClick={handleOnDeleteProject}\n          >\n            <img className=\"project-card__trash-icon\" src={trashIconPath} alt=\"\" />\n          </div>\n        </>\n      }\n      {\n        spotsPics.size > 0 ? (\n          <Carousel\n            wrapAround\n            withoutControls\n            autoplay={spotsPics.size > 1}\n            autoplayInterval={getRandom(3000, 5000)}\n            speed={450}\n          >\n            {spotsPics.map((pic, index) => (\n              <img\n                key={index}\n                className=\"project-card__cover-image\"\n                src={pic}\n                alt=\"景點照\"\n              />\n            ))}\n          </Carousel>\n        ) : (\n          <img\n            className=\"project-card__cover-image\"\n            src={defaultBackgroundImagePath}\n            alt=\"預設景點照\"\n          />\n        )\n      }\n      <div className=\"project-card__info-row\">\n        <div className=\"project-card__info-title\">{name}</div>\n        <div className=\"project-card__info-period\">{`${startDay}-${endDay} / ${days}天`}</div>\n      </div>\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  spots: PropTypes.instanceOf(Map),\n  project: PropTypes.instanceOf(Map),\n  handleDeleteProject: PropTypes.func,\n  handleFetchSpotById: PropTypes.func,\n};\n\nProjectCard.defaultProps = {\n  project: Map(),\n  spots: Map(),\n  handleDeleteProject: () => { },\n  handleFetchSpotById: () => { },\n};\n\nexport default ProjectCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\n\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport Spinner from 'components/Spinner';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  height: 100%;\n  padding: 0px 15px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = (props) => {\n  const {\n    ownProjectsMeta,\n    ownProjects,\n    handleFetchOwnProjects,\n    handleDeleteProject,\n  } = props;\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded && !isLoading) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  return (\n    <Container>\n      {\n        ownProjects.map((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            project={project}\n            handleDeleteProject={handleDeleteProject}\n            {...props}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nPlanningPage.propTypes = {\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n  handleDeleteProject: PropTypes.func,\n};\n\nPlanningPage.defaultProps = {\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n  handleDeleteProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PlanningPage));\n","import styled from 'styled-components';\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n  color: #AAAAAA;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const LikeButton = styled.i`\n  margin-right: 6px;\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0 0 6px rgba(0, 0, 0, .16);\n  color: #EB715A;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { LikeLabel, LikeButton } from './Styled';\n\nconst Likes = ({\n  className,\n  onClick,\n  isActive,\n  likeNumber,\n}) => (\n  <LikeLabel className={className} onClick={onClick}>\n    <LikeButton\n      className={`${\n        isActive\n          ? 'fas fa-heart'\n          : 'far fa-heart'\n      }`}\n    />\n    {likeNumber}\n  </LikeLabel>\n);\n\nLikes.propTypes = {\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  isActive: PropTypes.bool,\n  likeNumber: PropTypes.number,\n};\n\nLikes.defaultProps = {\n  isActive: false,\n  likeNumber: 0,\n};\n\nexport default Likes;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  cursor: pointer;\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 7px 15px;\n  background: #FFFFFF;\n`;\n\nexport const UserImage = styled.img`\n  flex-shrink: 0;\n  width: 45px;\n  height: 45px;\n  object-fit: cover;\n  border-radius: 50%;\n  margin-right: 5px;\n`;\n\nexport const Review = styled.div`\n  flex-shrink: 0;\n  font-size: 14px;\n  color: #333333;\n  display: flex;\n  align-items: center;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f005\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    color: #FBE45A;\n    margin-right: 6px;\n  }\n`;\n\nexport const HeaderInfo = styled.div`\n  flex-grow: 1;\n`;\n\nexport const UserName = styled.div`\n  font-size: 14px;\n  font-weight: bold;\n  color: #333333;\n`;\n\nexport const CardDate = styled.div`\n  font-size: 12px;\n  color: #AAAAAA;\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  display: block;\n  object-fit: cover;\n  height: 150px;\n`;\n\nexport const CardTitle = styled.div`\n  color: #333333;\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n`;\n\nexport const CardSubtitle = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n\nexport const Footer = styled.div`\n  background-color: #fff;\n  display: flex;\n  padding: 9px 15px;\n  align-items: center;\n`;\n\nexport const FooterInfo = styled.div`\n  flex-grow: 1;\n`;\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n`;\n\nexport const FooterButtons = styled.div`\n  display: flex;\n  padding: 0 15px 10px 15px;\n  background-color: #fff;\n`;\n\nexport const Comment = styled.div`\n  display: flex;\n  align-items: center;\n  color: #AAAAAA;\n  font-size: 14px;\n  margin-left: 30px;\n`;\n\nexport const CommentIcon = styled.div`\n  margin-right: 6px;\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0 0 6px rgba(0, 0, 0, .16);\n  color: #AAAAAA;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel from 'nuka-carousel';\nimport Modal from 'antd/lib/modal';\nimport Rate from 'antd/lib/rate';\nimport history from 'utils/history';\nimport Likes from 'components/Likes';\nimport peopleIconPath from 'assets/people_icon_100.svg';\n\nimport {\n  Container,\n  Header,\n  UserImage,\n  HeaderInfo,\n  UserName,\n  CardDate,\n  CardImage,\n  CardTitle,\n  CardSubtitle,\n  Footer,\n  FooterInfo,\n  Review,\n  FooterButtons,\n  Comment,\n  CommentIcon,\n} from './Styled';\n\nconst TravelCard = ({\n  className,\n  cardImageSrc,\n  userImageSrc,\n  to,\n  userName,\n  cardDate,\n  cardTitle,\n  cardSubtitle,\n  likeNumber,\n  isLikeActive,\n  onLikeClick,\n  onCardClick,\n  userImageTo,\n  cardImageSrcList,\n  reviewScore,\n  reviewCount,\n  commentCount,\n  commentTo,\n}) => {\n  const handleOnClick = useCallback(() => {\n    history.push(to);\n    onCardClick();\n  });\n\n  const handleOnLikeClick = useCallback((event) => {\n    event.stopPropagation();\n    onLikeClick();\n  });\n\n  const handleOnUserImageClick = useCallback((event) => {\n    event.stopPropagation();\n    history.push(userImageTo);\n  });\n\n  const handleOnReviewClick = useCallback((event) => {\n    event.stopPropagation();\n    Modal.confirm({\n      title: '為這個旅程匿名評價',\n      cancelText: '取消',\n      okText: '確定',\n      content: <Rate />,\n      icon: null,\n      okButtonProps: {\n        style: {\n          backgroundColor: '#FBE45A',\n          color: '#292929',\n          borderColor: '#FBE45A',\n        },\n      },\n      cancelButtonProps: {\n        style: {\n          backgroundColor: '#EEEEEE',\n          color: '#292929',\n          borderColor: '#EEEEEE',\n        },\n      },\n    });\n  });\n\n  const handleOnCommentClick = useCallback((event) => {\n    event.stopPropagation();\n    history.push(commentTo);\n  });\n\n  return (\n    <Container onClick={handleOnClick} className={className}>\n      <Header>\n        <UserImage src={userImageSrc} onClick={handleOnUserImageClick} />\n        <HeaderInfo>\n          <UserName>{userName}</UserName>\n          <CardDate>{cardDate}</CardDate>\n        </HeaderInfo>\n        <Review onClick={handleOnReviewClick}>\n          {`${reviewScore} (${reviewCount})`}\n        </Review>\n      </Header>\n      {(cardImageSrcList && cardImageSrcList.length > 0)\n        ? (\n          <Carousel\n            autoplay={cardImageSrcList.length > 1}\n            swiping={false}\n            dragging={false}\n            wrapAround\n            withoutControls\n            autoplayInterval={Math.floor(Math.random() * (3000 - 2000 + 1)) + 2000}\n            speed={450}\n            pauseOnHover={false}\n          >\n            {cardImageSrcList.map((pic, index) => (\n              <CardImage key={index} src={pic} />\n            ))}\n          </Carousel>\n        )\n        : <CardImage src={cardImageSrc} />\n      }\n      <Footer>\n        <FooterInfo>\n          <CardTitle>{cardTitle}</CardTitle>\n          <CardSubtitle>{cardSubtitle}</CardSubtitle>\n        </FooterInfo>\n      </Footer>\n      <FooterButtons>\n        <Likes\n          onClick={handleOnLikeClick}\n          likeNumber={likeNumber}\n          isActive={isLikeActive}\n        />\n        <Comment onClick={handleOnCommentClick}>\n          <CommentIcon className=\"fas fa-comment-dots\" />\n          {commentCount}\n        </Comment>\n      </FooterButtons>\n    </Container>\n  );\n};\n\nTravelCard.propTypes = {\n  className: PropTypes.string,\n  cardImageSrc: PropTypes.string,\n  cardImageSrcList: PropTypes.array,\n  to: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n  ]).isRequired,\n  userImageSrc: PropTypes.string,\n  userName: PropTypes.string,\n  cardDate: PropTypes.string,\n  cardTitle: PropTypes.string,\n  cardSubtitle: PropTypes.string,\n  likeNumber: PropTypes.number,\n  isLikeActive: PropTypes.bool,\n  onLikeClick: PropTypes.func,\n  onCardClick: PropTypes.func,\n  userImageTo: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n  ]).isRequired,\n  reviewScore: PropTypes.number,\n  reviewCount: PropTypes.number,\n  commentCount: PropTypes.number,\n  commentTo: PropTypes.string,\n};\n\nTravelCard.defaultProps = {\n  cardImageSrc: 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg',\n  userImageSrc: peopleIconPath,\n  userName: '使用者',\n  cardDate: '????年??月??日',\n  cardTitle: '卡片標題',\n  cardSubtitle: '卡片副標題',\n  onLikeClick: () => {},\n  onCardClick: () => {},\n  reviewScore: 0,\n  reviewCount: 0,\n  commentCount: 0,\n};\n\nexport default TravelCard;\n","import styled from 'styled-components';\nimport TravelCardComponent from 'components/TravelCard';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n  padding-bottom: 20px;\n`;\n\nexport const TravelCard = styled(TravelCardComponent)`\n  margin-bottom: 10px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { List, Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  fetchProjects,\n  fetchFavoriteProjectIds,\n  likeProject,\n  cancelLikeProject,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\nimport {\n  selectPublicProjects,\n  selectFavoriteProjectIds,\n  selectUsers,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport { Container, TravelCard } from './Styled';\n\nconst TravelWallPage = ({\n  handleFetchProjects,\n  publicProjects,\n  handleFetchFavoriteProjectIds,\n  favoriteProjectIds,\n  handleLikeProject,\n  handleCancelLikeProject,\n  users,\n  spots,\n  handleFetchSpotById,\n}) => {\n  useEffect(() => {\n    handleFetchProjects();\n    handleFetchFavoriteProjectIds();\n  }, []);\n\n  useEffect(() => {\n    publicProjects\n      .map((project) => project.getIn(['plan', 0, 'arrange', 0, 'spot_id']))\n      .filter((spotId) => !spots.getIn([String(spotId), 'pic']))\n      .map((spotId) => handleFetchSpotById(spotId));\n  }, [publicProjects]);\n\n  return (\n    <Container>\n      {\n        publicProjects.map((project) => (\n          <TravelCard\n            key={project.get('proj_id')}\n            to={{\n              pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${project.get('proj_id')}`,\n              search: '?day=1',\n            }}\n            cardTitle={project.get('name')}\n            cardDate={project.get('created_time')}\n            cardSubtitle={`${moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日')}-${moment(project.get('start_day'), 'YYYY-MM-DD').add(project.get('tot_days') - 1, 'days').format('YYYY年MM月DD日')} / ${project.get('tot_days')}天`}\n            likeNumber={project.get('like_num')}\n            isLikeActive={favoriteProjectIds.includes(project.get('proj_id'))}\n            onLikeClick={() => {\n              if (favoriteProjectIds.includes(project.get('proj_id'))) {\n                handleCancelLikeProject(project.get('proj_id'));\n              } else {\n                handleLikeProject(project.get('proj_id'));\n              }\n            }}\n            userName={users.getIn([String(project.get('owner')), 'name'])}\n            userImageTo={`/${PAGE_NAME.TRAVELER.name}/${project.get('owner')}`}\n            userImageSrc={users.getIn([String(project.get('owner')), 'portrait_link']) || undefined}\n            cardImageSrcList={spots.getIn([\n              String(project.getIn(['plan', 0, 'arrange', 0, 'spot_id'])),\n              'pic',\n            ], List()).toJS()}\n            reviewScore={project.get('reviewScore')}\n            reviewCount={project.get('reviewCount')}\n            commentTo={`/${PAGE_NAME.COMMENT.name}/${project.get('proj_id')}`}\n            commentCount={project.get('comments').size}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nTravelWallPage.propTypes = {\n  handleFetchProjects: PropTypes.func.isRequired,\n  publicProjects: PropTypes.instanceOf(List).isRequired,\n  handleFetchFavoriteProjectIds: PropTypes.func.isRequired,\n  favoriteProjectIds: PropTypes.instanceOf(List).isRequired,\n  handleLikeProject: PropTypes.func.isRequired,\n  handleCancelLikeProject: PropTypes.func.isRequired,\n  users: PropTypes.instanceOf(Map).isRequired,\n  spots: PropTypes.instanceOf(Map).isRequired,\n  handleFetchSpotById: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  publicProjects: selectPublicProjects(),\n  favoriteProjectIds: selectFavoriteProjectIds(),\n  users: selectUsers(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchProjects: () => dispatch(fetchProjects({ onlyPublic: true })),\n  handleFetchFavoriteProjectIds: () => dispatch(fetchFavoriteProjectIds()),\n  handleLikeProject: (id) => dispatch(likeProject(id)),\n  handleCancelLikeProject: (id) => dispatch(cancelLikeProject(id)),\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TravelWallPage);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  background-color: #FFFFFF;\n  border-radius: 10px;\n  padding: 10px 0 10px 20px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  display: flex;\n`;\n\nexport const UserImage = styled.img`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  object-fit: cover;\n  flex-shrink: 0;\n`;\n\nexport const UserInfo = styled.div`\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nexport const UserName = styled.div`\n  flex-basis: 100%;\n  color: #333333;\n  font-size: 18px;\n  font-weight: bold;\n  padding-left: 17px;\n`;\n\nexport const Stats = styled.div`\n  flex-basis: 100%;\n  display: flex;\n`;\n\nexport const Stat = styled.div`\n  flex: 1;\n  position: relative;\n\n  &:not(:last-child) {\n    &:after {\n      position: absolute;\n      right: 0;\n      top: 50%;\n      transform: translateY(-50%);\n      border-right: solid 1px #AAAAAA;\n      height: 85%;\n      content: '';\n    }\n  }\n`;\n\nexport const StatName = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n  text-align: center;\n`;\n\nexport const StatNumber = styled.div`\n  color: #333333;\n  font-size: 16px;\n  font-weight: bold;\n  text-align: center;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport peopleIconPath from 'assets/people_icon_100.svg';\n\nimport {\n  Container,\n  UserImage,\n  UserInfo,\n  UserName,\n  Stats,\n  Stat,\n  StatName,\n  StatNumber,\n} from './Styled';\n\nconst UserCard = ({\n  className,\n  userName,\n  userImage,\n  publishedProjectsCount,\n  collectedCount,\n  projectsLikedCount,\n}) => (\n  <Container className={className}>\n    <UserImage src={userImage} />\n    <UserInfo>\n      <UserName>{userName}</UserName>\n      <Stats>\n        <Stat>\n          <StatName>旅程發表</StatName>\n          <StatNumber>{publishedProjectsCount}</StatNumber>\n        </Stat>\n        <Stat>\n          <StatName>收藏數</StatName>\n          <StatNumber>{collectedCount}</StatNumber>\n        </Stat>\n        <Stat>\n          <StatName>被收藏</StatName>\n          <StatNumber>{projectsLikedCount}</StatNumber>\n        </Stat>\n      </Stats>\n    </UserInfo>\n  </Container>\n);\n\nUserCard.propTypes = {\n  className: PropTypes.string,\n  userName: PropTypes.string,\n  userImage: PropTypes.string,\n  publishedProjectsCount: PropTypes.number,\n  collectedCount: PropTypes.number,\n  projectsLikedCount: PropTypes.number,\n};\n\nUserCard.defaultProps = {\n  userName: '使用者',\n  userImage: peopleIconPath,\n  publishedProjectsCount: 0,\n  collectedCount: 0,\n  projectsLikedCount: 0,\n};\n\nexport default UserCard;\n","import styled from 'styled-components';\nimport StyledUserCard from 'components/UserCard';\n\nexport const UserCard = styled(StyledUserCard)`\n  width: 100%;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { UserCard } from './Styled';\n\nconst Information = ({\n  user,\n  users,\n}) => {\n  const userId = user.get('user_id');\n  const collectedProjectsCount = (users && users.getIn([userId, 'stats', 'collected_projs_count'])) || 0;\n  const collectedSpotsCount = (users && users.getIn([userId, 'stats', 'collected_spots_count'])) || 0;\n  const projectsLikedCount = (users && users.getIn([userId, 'stats', 'projs_liked_count'])) || 0;\n  const publishedProjectsCount = (users && users.getIn([userId, 'stats', 'published_projs_count'])) || 0;\n\n  return (\n    <UserCard\n      userName={user.get('name')}\n      userImage={user.get('portrait_link') || undefined}\n      publishedProjectsCount={publishedProjectsCount}\n      collectedCount={collectedSpotsCount + collectedProjectsCount}\n      projectsLikedCount={projectsLikedCount}\n    />\n  );\n};\n\nInformation.propTypes = {\n  user: PropTypes.object.isRequired,\n  users: PropTypes.object.isRequired,\n};\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport { selectSpots } from 'containers/Spotlight/selectors';\nimport redHeartCircleIconPath from 'assets/red_heart_circle_icon.svg';\nimport {\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\n\nconst StyledSpotCard = styled.div`\n  height: 140px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  overflow: hidden;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    padding: 5px 0px;\n    font-weight: 500;\n  }\n  .spot-card__title {\n    font-size: 12px;\n  }\n  .spot-card__heart-wrapper {\n    display: flex;\n    align-items: center;\n    .spot-card__heart-icon {\n      padding-right: 6px;\n      width: 30px;\n      height: 30px;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst SpotCard = ({\n  spots,\n  spotId,\n  fetchSpotById,\n  handleOnClick,\n}) => {\n  useEffect(() => {\n    if (!spots.get(String(spotId))) {\n      fetchSpotById(spotId);\n    }\n  }, []);\n\n  const spot = spots.get(String(spotId));\n\n  if (!spot || !spot.get('spot_id')) {\n    return null;\n  }\n  const imagePath = spot.getIn(['pic', 0]) || 'https://i.imgur.com/mJ0NvPe.jpg';\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE.name}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">{spot.get('name')}</span>\n        <div className=\"spot-card__heart-wrapper\">\n          <img src={redHeartCircleIconPath} className=\"spot-card__heart-icon\" alt=\"\" />\n          <div>{spot.get('like_num') || 0}</div>\n        </div>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spots: PropTypes.object.isRequired,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchSpotById: PropTypes.func.isRequired,\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n});\n\nexport default connect(mapStateToProps, { fetchSpotById })(SpotCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteSpotIds,\n} from 'containers/Spotlight/selectors';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 15px;\n  background-color: #FAFAFA;\n  min-height: 100%;\n`;\n\nconst SpotCollection = ({\n  favoriteSpotIds,\n  handleOnClick,\n}) => {\n  const cards = favoriteSpotIds.map((value) => value);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card, index) => (\n          <SpotCard\n            key={`${card}-${index}`}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  favoriteSpotIds: PropTypes.instanceOf(List),\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nexport default connect(mapStateToProps)(SpotCollection);\n","import React, { useEffect } from 'react';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport peopleIconPath from 'assets/people_icon_100.svg';\nimport defaultBackgroundImagePath from 'assets/default_background_3x.png';\nimport {\n  selectUsers,\n  selectProjects,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserById,\n  fetchProjectById,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\n\nimport TravelCard from 'components/TravelCard';\n\nconst StyledTravelCard = styled(TravelCard)`\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst ProjectCard = ({\n  spots,\n  users,\n  projects,\n  projectId,\n  handleFetchUserById,\n  handleFetchSpotById,\n  handleFetchProjectById,\n}) => {\n  useEffect(() => {\n    const project = projects.get(String(projectId)) || Map();\n    if (!project.size) {\n      handleFetchProjectById(projectId);\n    } else {\n      const spotIds = project.get('plan')\n        .map((p) => p.get('arrange'))\n        .filter((arrange) => arrange.size)\n        .reduce((a, b) => a.concat(b))\n        .map((arrange) => arrange.get('spot_id'));\n      spotIds.forEach((spotid) => {\n        if (!spots.get(spotid.toString())) {\n          handleFetchSpotById(spotid);\n        }\n      });\n      const ownerId = project.get('owner');\n      if (!users.get(String(ownerId))) {\n        handleFetchUserById(ownerId);\n      }\n    }\n  }, [users, projects]);\n\n  const project = projects.get(String(projectId));\n\n  if (!project) {\n    return null;\n  }\n\n  const spotIds = project.get('plan')\n    .map((p) => p.get('arrange'))\n    .filter((arrange) => arrange.size)\n    .reduce((a, b) => a.concat(b))\n    .map((arrange) => arrange.get('spot_id'));\n  const spotsPics = spotIds.map((spotId) => spots.get(spotId.toString())).filter((s) => Boolean(s));\n  if (!spots.size) {\n    return null;\n  }\n  const ownerId = project.get('owner');\n  const user = users.get(String(ownerId));\n  const userName = user && (user.get('name') || '在地專業嚮導');\n  const imagePath = spotsPics.get(0) ? spotsPics.getIn([0, 'pic', 0]) : defaultBackgroundImagePath;\n  const faviconPath = user && (user.get('portrait_link') || peopleIconPath);\n\n  return (\n    <StyledTravelCard\n      userName={userName}\n      cardImageSrc={imagePath}\n      userImageSrc={faviconPath}\n      userImageTo={`/${PAGE_NAME.TRAVELER.name}/${ownerId}`}\n      cardDate={project.get('created_time')}\n      cardTitle={project.get('name')}\n      cardSubtitle={`${moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日')}-${moment(project.get('start_day'), 'YYYY-MM-DD').add(project.get('tot_days') - 1, 'days').format('YYYY年MM月DD日')} / ${project.get('tot_days')}天`}\n      likeNumber={project.get('like_num')}\n      isLikeActive\n      to={`${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}?day=1`}\n    />\n  );\n};\n\nProjectCard.propTypes = {\n  users: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  projects: PropTypes.object.isRequired,\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleFetchUserById: PropTypes.func.isRequired,\n  handleFetchProjectById: PropTypes.func,\n  handleFetchSpotById: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  users: selectUsers(),\n  projects: selectProjects(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchUserById: (id) => dispatch(fetchUserById(id)),\n  handleFetchProjectById: (id) => dispatch(fetchProjectById(id)),\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteProjectIds,\n} from 'containers/Spotlight/selectors';\n\nimport ProjectCard from './ProjectCard';\n\nconst StyledProjectCollection = styled.div`\n  display: block;\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-bottom: 20px;\n`;\n\nconst ProjectCollection = ({\n  favoriteProjectIds,\n}) => {\n  const cards = favoriteProjectIds.map((value) => value);\n  return (\n    <StyledProjectCollection>\n      {\n        cards.map((card, index) => (\n          <ProjectCard\n            key={`${card}-${index}`}\n            projectId={card}\n          />\n        ))\n      }\n    </StyledProjectCollection>\n  );\n};\n\nProjectCollection.propTypes = {\n  favoriteProjectIds: PropTypes.instanceOf(List),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteProjectIds: selectFavoriteProjectIds(),\n});\n\nexport default connect(mapStateToProps)(ProjectCollection);\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport ProjectCollection from './ProjectCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <ProjectCollection />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Redirect } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\nimport {\n  selectUser,\n  selectUsers,\n  selectLoginStatusMeta,\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteProjectIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserStats,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n} from 'containers/Spotlight/actions';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport peopleIconPath from 'assets/people_icon_100.svg';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\nimport coverImagePath from './header-image.png';\n\nconst StyledPersonalPage = styled.div`\n  height: 100%;\n  .personal-page__cover-container {\n    height: 200px;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    padding: 20px 15px;\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #EEEEEE;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #333333;\n      font-weight: bold;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #F9D94A;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst PersonalPage = ({\n  user,\n  users,\n  loginStatusMeta,\n  favoriteSpotIdsMeta,\n  favoriteProjectIdsMeta,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n  fetchUserStats,\n}) => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = (user && user.get('portrait_link')) || peopleIconPath;\n  const faviconSize = 70;\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE.name}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  const isAnonymous = loginStatusMeta.get('isLoaded') && !user;\n  if (!loginStatusMeta.get('isLoaded')) {\n    return null;\n  }\n  if (isAnonymous) {\n    return <Redirect to={routePathConfig.login} />;\n  }\n\n  useEffect(() => {\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      fetchFavoriteSpotIds();\n    }\n    if (!favoriteProjectIdsMeta.get('isLoading')) {\n      fetchFavoriteProjectIds();\n    }\n    if (user) {\n      const userId = user.get('user_id');\n      if (userId) {\n        fetchUserStats(userId);\n      }\n    }\n  }, [users]);\n\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-container\">\n        <Information\n          user={user}\n          users={users}\n        />\n      </div>\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nPersonalPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  users: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteProjectIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  fetchFavoriteSpotIds: PropTypes.func.isRequired,\n  fetchFavoriteProjectIds: PropTypes.func.isRequired,\n  fetchUserStats: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  users: selectUsers(),\n  loginStatusMeta: selectLoginStatusMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteProjectIdsMeta: selectFavoriteProjectIdsMeta(),\n});\n\nexport default connect(mapStateToProps, { fetchFavoriteSpotIds, fetchFavoriteProjectIds, fetchUserStats })(PersonalPage);\n","import styled from 'styled-components';\n\nexport const StyledFaviBanner = styled.div`\n  cursor: pointer;\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 18px 15px;\n  .favi-banner__user {\n    display: flex;\n    align-items: center;\n  }\n  .favi-banner__name {\n    font-size: 16px;\n    color: #333333;\n    margin-left: 10px;\n  }\n  .favi-banner__favicon {\n    background-image: url(${(props) => props.faviconPath});\n    background-size: cover;\n    height: 45px;\n    width: 45px;\n    border-radius: 50%;\n  }\n  .favi-banner__favicon-right-arrow {\n    width: 25px;\n    display: flex;\n    align-items: center;\n    &:before {\n      color: #707070;\n      content: \"\\f105\";\n      font-family: \"Font Awesome\\ 5 Free\";\n      font-weight: 900;\n      font-size: 25px;\n    }\n  }\n`;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { Map } from 'immutable';\nimport { selectUser } from 'containers/Spotlight/selectors';\nimport peopleIconPath from 'assets/people_icon_100.svg';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport { StyledFaviBanner } from './styles';\n\nconst FaviBanner = ({\n  user,\n}) => {\n  if (!user) {\n    return null;\n  }\n  const handleOnClick = useCallback(() => {\n    history.push(`/${PAGE_NAME.TRAVELER.name}/${user.get('user_id')}`);\n  }, [user]);\n  const faviconPath = user.get('portrait_link') || peopleIconPath;\n  return (\n    <StyledFaviBanner\n      faviconPath={faviconPath}\n      onClick={handleOnClick}\n    >\n      <div className=\"favi-banner__user\">\n        <div className=\"favi-banner__favicon\" />\n        <div className=\"favi-banner__name\">{(user && user.get('name'))}</div>\n      </div>\n      <div className=\"favi-banner__favicon-right-arrow\" />\n    </StyledFaviBanner>\n  );\n};\n\nFaviBanner.propTypes = {\n  user: PropTypes.instanceOf(Map),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n});\n\nexport default connect(mapStateToProps)(FaviBanner);\n","import styled from 'styled-components';\n\nexport const StyledSettingPage = styled.div`\n  height: 100%;\n  background-color: #fff;\n  font-size: 14px;\n  .setting-page__settings {\n    padding: 0 15px;\n  }\n  .setting-page__setting {\n    border-bottom: solid 1px #EEEEEE;\n  }\n  .setting-page__general-setting {\n    background-color: #333333;\n    color: #fff;\n    padding: 10px 15px;\n  }\n  .setting-page__language {\n    background-color: white;\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .setting-page__logout-button {\n    background-color: white;\n    line-height: 48px;\n    text-align: center;\n    cursor: pointer;\n  }\n`;\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Switch from 'antd/lib/switch';\nimport { logout } from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport { useTranslation } from 'react-i18next';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Context from 'containers/Spotlight/Context';\nimport FaviBanner from './FaviBanner';\nimport { StyledSettingPage } from './styles';\n\nconst { SpotlightContext } = Context;\n\nconst SettingPage = (props) => {\n  const { t } = useTranslation();\n  const { language, setLanguage } = useContext(SpotlightContext);\n  const handleLogoutClick = () => {\n    props.logout();\n    history.push(`/${PAGE_NAME.EXPLORE.name}`);\n  };\n  const handleOnChange = (checked) => {\n    if (checked) {\n      setLanguage('en');\n    } else {\n      setLanguage('zh-Hant');\n    }\n  };\n  return (\n    <StyledSettingPage>\n      <FaviBanner />\n      <div className=\"setting-page__general-setting\">{t('一般設定')}</div>\n      <div className=\"setting-page__settings\">\n        <div className=\"setting-page__language setting-page__setting\">\n          {language === 'zh-Hant' ? '繁體中文' : 'English'}\n          <Switch onChange={handleOnChange} checked={language === 'en'} />\n        </div>\n        <div\n          role=\"presentation\"\n          className=\"setting-page__logout-button setting-page__setting\"\n          onClick={handleLogoutClick}\n        >\n          {t('登出')}\n        </div>\n      </div>\n    </StyledSettingPage>\n  );\n};\n\nSettingPage.propTypes = {\n  logout: PropTypes.func,\n};\n\nexport default connect(null, { logout })(SettingPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst setBackgroundColor = (isActive) => (isActive ? 'tab__number--active' : '');\n\nconst TabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  &:last-child {\n    padding-right: 50px;\n  }\n  .tab__number {\n    font-size: 14px;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => props.theme.mainColor};\n      color: rgba(51, 51, 51, 1);\n    }\n  }\n  .tab__number--active {\n    background: ${(props) => props.theme.mainColor};\n    color: rgba(51, 51, 51, 1);\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.replace({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  const searchParams = new URLSearchParams(window.location.search);\n  const currentDay = searchParams.get('day');\n  return (\n    <TabWrapper>\n      <div\n        role=\"presentation\"\n        className={`tab__number ${setBackgroundColor(currentDay === (id + 1).toString())}`}\n        onClick={handleOnClick}\n      >\n        <div className=\"tab__text\">{`第${id + 1}天`}</div>\n      </div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport editDayIcon from 'assets/edit_day_icon.svg';\nimport Tab from './Tab';\n\nconst DateTabsContainer = styled.div`\n  display: flex;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  position: relative;\n  .date-tab__wrapper {\n    display: flex;\n    height: 50px;\n    overflow-x: auto;\n    border-radius: 10px;\n    padding: 0px 15px;\n  }\n  .date-tab__edit-day-icon-wrapper {\n    cursor: pointer;\n  }\n  .date-tab__edit-day-icon {\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 0px;\n  }\n`;\n\nconst DateTabs = (props) => {\n  const {\n    days,\n    isOwner,\n    projectId,\n  } = props;\n  const tabs = new Array(days).fill(0).map((x, index) => index);\n  const handleGoToEditPlanningDay = useCallback(() => {\n    const editPlanningDayPath = `/${PAGE_NAME.EDIT_PLANNING_DAY.name}/${projectId}`;\n    history.push({\n      pathname: editPlanningDayPath,\n      search: window.location.search,\n    });\n  }, []);\n  return (\n    <DateTabsContainer>\n      <div className=\"date-tab__wrapper\">\n        {\n          tabs.map((tab) => (\n            <Tab\n              key={tab}\n              id={tab}\n              {...props}\n            />\n          ))\n        }\n      </div>\n      {\n        isOwner &&\n        <div role=\"presentation\" className=\"date-tab__edit-day-icon-wrapper\" onClick={handleGoToEditPlanningDay}>\n          <img src={editDayIcon} className=\"date-tab__edit-day-icon\" alt=\"\" />\n        </div>\n      }\n    </DateTabsContainer>\n  );\n};\n\nDateTabs.propTypes = {\n  days: PropTypes.number,\n  isOwner: PropTypes.bool,\n  projectId: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nDateTabs.defaultProps = {\n  days: 0,\n  isOwner: false,\n  projectId: 0,\n};\n\nexport default DateTabs;\n","import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Picker from 'react-mobile-picker-scroll';\nimport {\n  HOURS,\n  MINUTES,\n} from 'containers/Spotlight/constants';\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst TimePickerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  bottom: 0;\n  animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  .time-picker__buttom-wrapper {\n    height: 50px;\n    background: ${(props) => props.theme.mainColor};\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .time-picker__buttom {\n    padding: 0px 15px;\n    font-size: 16px;\n    cursor: pointer;\n    color: #333333;\n    font-weight: 500;\n    &:hover {\n      font-weight: 600;\n    }\n  }\n\n  .time-picker__scroll-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    overflow: hidden;\n  }\n  .time-picker__option-label {\n    margin: 0px 20px;\n    font-weight: 500;\n  }\n`;\n\nclass TimePicker extends Component {\n  static propTypes = {\n    startTime: PropTypes.string,\n    handleOnOk: PropTypes.func,\n    handleOnCancel: PropTypes.func,\n  }\n\n  static defaultProps = {\n    startTime: '08:00',\n    handleOnOk: () => { },\n    handleOnCancel: () => { },\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      startTime,\n    } = props;\n    this.state = {\n      hourValueGroups: {\n        hour: startTime.split(':')[0],\n      },\n      hourOptionGroups: {\n        hour: HOURS,\n      },\n      minuteValueGroups: {\n        minute: startTime.split(':')[1],\n      },\n      minuteOptionGroups: {\n        minute: MINUTES,\n      },\n    };\n  }\n\n  handleHourChange = (name, value) => {\n    this.setState(({ hourValueGroups }) => ({\n      hourValueGroups: {\n        ...hourValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleMinuteChange = (name, value) => {\n    this.setState(({ minuteValueGroups }) => ({\n      minuteValueGroups: {\n        ...minuteValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleOnCheck = () => {\n    const {\n      handleOnOk,\n    } = this.props;\n    const {\n      hourValueGroups,\n      minuteValueGroups,\n    } = this.state;\n    handleOnOk(`${hourValueGroups.hour}:${minuteValueGroups.minute}:00`);\n  }\n\n  render() {\n    const {\n      handleOnCancel,\n    } = this.props;\n    const {\n      hourValueGroups,\n      hourOptionGroups,\n      minuteValueGroups,\n      minuteOptionGroups,\n    } = this.state;\n    return (\n      <TimePickerWrapper>\n        <div className=\"time-picker__buttom-wrapper\">\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={handleOnCancel}>取消</div>\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={this.handleOnCheck}>確定</div>\n        </div>\n        <div className=\"time-picker__scroll-wrapper\">\n          <div>\n            <Picker\n              valueGroups={hourValueGroups}\n              optionGroups={hourOptionGroups}\n              onChange={this.handleHourChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">時</div>\n          <div>\n            <Picker\n              valueGroups={minuteValueGroups}\n              optionGroups={minuteOptionGroups}\n              onChange={this.handleMinuteChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">分</div>\n        </div>\n      </TimePickerWrapper>\n    );\n  }\n}\n\nexport default TimePicker;\n","import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { List, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  WEEKDAYS_SHORT,\n} from 'containers/Spotlight/constants';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst StyledDateTimeInfo = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding: 0px 15px;\n  justify-content: space-between;\n  margin-top: 30px;\n  .date-time-info__date-text {\n    color: rgba(51, 51, 51, 1);\n    font-family: 'Segoe UI';\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .date-time-info__start-time-wrapper {\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n    background: ${(props) => (props.isOwner ? 'rgba(51, 51, 51, 1)' : 'white')};\n    color: ${(props) => (props.isOwner ? 'white' : 'rgba(51, 51, 51, 1)')};\n\n    padding: 6px 8px;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => (props.isOwner ? 'rgba(51, 51, 51, 0.8)' : 'white')};\n    }\n  }\n  .date-time-info__clock-icon {\n    margin-right: 5px;\n    color: ${(props) => props.theme.mainColor};\n  }\n`;\n\nconst DateTimeInfo = (props) => {\n  const {\n    isOwner,\n    match,\n    startDay,\n    plan,\n    isModalVisible,\n    handleSetModalVisible,\n    handleSubmitUpdateProject,\n  } = props;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const date = moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').format('YYYY年MM月DD日');\n  const weekday = WEEKDAYS_SHORT[moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').get('weekday')];\n  const startTime = moment(plan.getIn([day - 1, 'start_time']), 'HH:mm').format('HH:mm');\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const { projectId } = match.params;\n    const updatedPlan = plan.setIn([day - 1, 'start_time'], value);\n    const updatedProject = fromJS({\n      plan: updatedPlan,\n    });\n    handleSubmitUpdateProject(projectId, updatedProject);\n  }, []);\n\n  return (\n    <>\n      <StyledDateTimeInfo isOwner={isOwner}>\n        <div className=\"date-time-info__date-text\">{`${date} ${weekday}`}</div>\n        <div role=\"presentation\" className=\"date-time-info__start-time-wrapper\" onClick={isOwner ? handleShowModal : () => {}}>\n          <i className=\"far fa-clock date-time-info__clock-icon\" />\n          <span>{`出發時間 ${startTime}`}</span>\n        </div>\n      </StyledDateTimeInfo>\n      <Modal\n        id=\"TimePicker\"\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n        heightGrowing\n      >\n        <TimePicker\n          startTime={startTime}\n          handleOnCancel={handleHideModal}\n          handleOnOk={handleOnPickerCheck}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDateTimeInfo.propTypes = {\n  isOwner: PropTypes.bool,\n  match: PropTypes.object,\n  startDay: PropTypes.string,\n  isModalVisible: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  handleSetModalVisible: PropTypes.func,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDateTimeInfo.defaultProps = {\n  isOwner: false,\n  match: {},\n  startDay: '',\n  isModalVisible: false,\n  plan: List(),\n  handleSetModalVisible: () => { },\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimeInfo);\n","import uniqueId from 'lodash/uniqueId';\nimport React from 'react';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport Sortable from 'react-sortablejs';\n\nimport styled from 'styled-components';\n\nconst StyledContainer = styled.div`\n  width: 100%;\n  .sortable-ghost {\n    opacity: 0.5\n  }\n  .sortable-chosen {\n    background: white;\n  }\n`;\n\n// Functional Component\nconst DragSortableList = (props) => {\n  const { dataSource, onChange, row } = props;\n  const listItems = dataSource\n    .map(row)\n    .map((rowItem, index) => (\n      <div key={uniqueId()} data-id={JSON.stringify(dataSource.get(index).toJS())}>\n        {rowItem}\n      </div>\n    ));\n\n  return (\n    <StyledContainer>\n      {/* <button type=\"button\" onClick={reverseOrder}>Reverse Order</button> */}\n      <Sortable\n        // Sortable options (https://github.com/RubaXa/Sortable#options)\n        options={{\n          animation: 150,\n          ghostClass: 'sortable-ghost', // Class name for the drop placeholder\n          chosenClass: 'sortable-chosen', // Class name for the chosen item\n          dragClass: 'sortable-drag', // Class name for the dragging item\n          handle: '.my-handle',\n          // delay: 300, // time in milliseconds to define when the sorting should start\n        }}\n\n        // [Optional] Use ref to get the sortable instance\n        // https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\n        // ref={(c) => {\n        //   if (c) {\n        //     sortable = c.sortable;\n        //   }\n        // }}\n\n        // [Optional] A tag or react component to specify the wrapping element. Defaults to \"div\".\n        // In a case of a react component it is required to has children in the component\n        // and pass it down.\n        // tag=\"div\"\n\n        // [Optional] The onChange method allows you to implement a controlled component and keep\n        // DOM nodes untouched. You have to change state to re-render the component.\n        // @param {Array} order An ordered array of items defined by the `data-id` attribute.\n        // @param {Object} sortable The sortable instance.\n        // @param {Event} evt The event object.\n        onChange={(\n          order,\n          // sortable,\n          // evt\n        ) => {\n          onChange(order);\n        }}\n      >\n        {listItems}\n      </Sortable>\n    </StyledContainer>\n  );\n};\n\nDragSortableList.propTypes = {\n  dataSource: PropTypes.instanceOf(List),\n  onChange: PropTypes.func,\n  row: PropTypes.func,\n};\n\nDragSortableList.defaultProps = {\n  dataSource: List(),\n  onChange: () => { },\n  row: () => { },\n};\n\nexport default DragSortableList;\n","// 转为弧度\nconst toRadians = (d) => d * Math.PI / 180;\n\nexport const getDistance = (lat1, lon1, lat2, lon2) => {\n  const R = 6378137; // 地球长半径\n  const φ1 = toRadians(lat1);\n  const φ2 = toRadians(lat2);\n  const Δφ = toRadians(lat2 - lat1);\n  const Δλ = toRadians(lon2 - lon1);\n\n  const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n    Math.cos(φ1) * Math.cos(φ2) *\n    Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n  const d = R * c;\n\n  return d;\n};\n","import { fromJS } from 'immutable';\nimport { getDistance } from 'utils/distance';\nimport moment from 'moment';\n\nexport const getTravelingData = (props) => {\n  const {\n    spotIds,\n    dayStartTime,\n    spots,\n    arrange,\n  } = props;\n  const spotsData = spotIds.map((sid, index) => {\n    const carSpeed = 30; // km/hr\n    const walkSpeed = 10; // km/hr\n\n    const distance = index === (spotIds.size - 1)\n      ? 0\n      : getDistance(\n        spots.getIn([spotIds.get(index).toString(), 'px']),\n        spots.getIn([spotIds.get(index).toString(), 'py']),\n        spots.getIn([spotIds.get(index + 1).toString(), 'px']),\n        spots.getIn([spotIds.get(index + 1).toString(), 'py']),\n      ) / 1000; // km\n\n    const driveTime = distance / carSpeed; // hr\n    const walkTime = distance / walkSpeed; // hr\n    const during = arrange.find((arr) => arr.get('spot_id') === sid).get('during');\n\n    return fromJS({\n      id: sid,\n      during,\n      driveTime,\n      walkTime,\n      driveTimeText: `${Math.round(distance / carSpeed)}時${Math.floor(((distance / carSpeed) - Math.floor(distance / carSpeed)) * 60)}分`,\n      walkTimeText: `${Math.round(distance / walkSpeed)}時${Math.floor(((distance / walkSpeed) - Math.floor(distance / walkSpeed)) * 60)}分`,\n    });\n  });\n\n  let startTime;\n  let endTime;\n  const travelingData = spotIds.map((sid, index) => {\n    if (index === 0) {\n      startTime = moment(dayStartTime, 'HH:mm:ss').format('HH:mm');\n      const during = spotsData.find((data) => data.get('id') === spotIds.get(index)).get('during');\n      endTime = moment(startTime, 'HH:mm:ss')\n        .add(during, 'minutes').format('HH:mm');\n    } else {\n      const driveTime = spotsData.find((data) => data.get('id') === spotIds.get(index - 1)).get('driveTime');\n      const during = spotsData.find((data) => data.get('id') === spotIds.get(index)).get('during');\n      startTime = moment(endTime, 'HH:mm:ss')\n        .add(driveTime, 'hours');\n      endTime = moment(startTime, 'HH:mm:ss')\n        .add(during, 'minutes');\n    }\n\n    return fromJS({\n      id: sid,\n      startTime: moment(startTime, 'HH:mm:ss').format('HH:mm'),\n      endTime: moment(startTime, 'HH:mm:ss')\n        .add(spotsData.find((data) => data.get('id') === sid).get('during'), 'minutes').format('HH:mm'),\n      driveTimeText: moment('00:00', 'HH:mm').add(spotsData.find((data) => data.get('id') === sid).get('driveTime'), 'hours').format('HH時mm分'),\n      walkTimeText: moment('00:00', 'HH:mm').add(spotsData.find((data) => data.get('id') === sid).get('walkTime'), 'hours').format('HH時mm分'),\n    });\n  });\n\n  return travelingData;\n};\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Map, List } from 'immutable';\nimport moveIconPath from 'assets/move_icon.svg';\nimport { getTravelingData } from './utils';\n\nexport const HEIGHT_SPOT_CARD = 60;\nexport const HEIGHT_SPOT_TRAVEL_TIME = 40;\n\nconst StyledSpotCard = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .spot-card__card-row {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0px 15px;\n    box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n    border-radius: 10px;\n  }\n  .spot-card__card-body-spot-title {\n    font-size: 16px;\n    font-weight: 500;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: rgba(170, 170, 170, 1);\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__move-icon {\n    cursor: move;\n  }\n`;\n\nconst SpotCard = (props) => {\n  const {\n    isOwner,\n    plan,\n    index,\n    spotIndexInfo,\n    spots,\n    handleFetchSpotById,\n  } = props;\n  const spot = spots.get(String(spotIndexInfo.get('spot_id')));\n  useEffect(() => {\n    if (!spot) {\n      handleFetchSpotById(spotIndexInfo.get('spot_id'));\n    }\n  }, []);\n  if (!spot) {\n    return null;\n  }\n\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const planIndex = day - 1;\n  const dayPlan = plan.get(planIndex);\n  if (!dayPlan) {\n    return <div>dayPlan is null</div>;\n  }\n  const dayStartTime = dayPlan.get('start_time');\n  const arrange = dayPlan.get('arrange');\n  if (!arrange.size) {\n    return null;\n  }\n  const spotIds = arrange.map((arr) => arr.get('spot_id'));\n  const isAllSpotsReady = spotIds\n    .map((sid) => Boolean(spots.get(sid.toString())))\n    .toJS()\n    .reduce((a, b) => a === true && b === true);\n\n  if (!isAllSpotsReady) {\n    return null;\n  }\n  const travelingData = getTravelingData({\n    spotIds,\n    dayStartTime,\n    spots,\n    arrange,\n  });\n  const spotInfo = travelingData.find((td) => td.get('id') === spotIndexInfo.get('spot_id'));\n\n  return (\n    <StyledSpotCard>\n      <div className=\"spot-card__card-row\">\n        <div className=\"spot-card__start-end-time-wrapper\">\n          <div>{spotInfo.get('startTime')}</div>\n          <div>|</div>\n          <div>{spotInfo.get('endTime')}</div>\n        </div>\n        <div className=\"spot-card__card-body\">\n          <div>\n            <div className=\"spot-card__card-body-spot-title\">{spot.get('name')}</div>\n            <div className=\"spot-card__card-body-address\">{spot.get('address')}</div>\n          </div>\n          {\n            isOwner && <img src={moveIconPath} className=\"spot-card__move-icon my-handle\" alt=\"\" />\n          }\n        </div>\n      </div>\n      {\n        !(arrange.size - 1 === index) &&\n        <div className=\"spot-card__travel-row-wrapper\">\n          <div className=\"spot-card__travel-time-wrapper\">\n            <i className=\"fas fa-car spot-card__travel-time-icon\" />\n            <div>{spotInfo.get('driveTimeText')}</div>\n          </div>\n          <div className=\"spot-card__travel-time-wrapper\">\n            <i className=\"fas fa-running spot-card__travel-time-icon\" />\n            <div>{spotInfo.get('walkTimeText')}</div>\n          </div>\n        </div>\n      }\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  isOwner: PropTypes.bool,\n  index: PropTypes.number,\n  plan: PropTypes.instanceOf(List),\n  spotIndexInfo: PropTypes.instanceOf(Map),\n  spots: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func,\n};\n\nSpotCard.defaultProps = {\n  isOwner: false,\n  index: 0,\n  plan: List(),\n  spotIndexInfo: Map(),\n  spots: Map(),\n  handleFetchSpotById: () => { },\n};\n\nexport default SpotCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst SpotOperationBtnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0px 15px;\n  .spot-operation__button {\n    background: white;\n    border-radius: 10px;\n    line-height: 40px;\n    font-size: 16px;\n    color: #333333;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    &:hover {\n      background: #eee;\n    }\n  }\n  .spot-operation__button--normal {\n    margin-top: 5px;\n  }\n  .spot-operation__button--cancel {\n    color: #EB715A;\n    margin: 15px 0px;\n  }\n`;\n\nconst SpotOperationBtn = ({\n  handleHideModal,\n  handleDeleteSpot,\n  handleUpdate,\n}) => (\n  <SpotOperationBtnContainer>\n    <button className=\"spot-operation__button\" type=\"button\" onClick={handleUpdate}>\n      <span>景點設定</span>\n    </button>\n    <button className=\"spot-operation__button spot-operation__button--normal\" type=\"button\" onClick={handleDeleteSpot}>\n      <span>刪除此行程</span>\n    </button>\n    <button className=\"spot-operation__button spot-operation__button--cancel\" type=\"button\" onClick={handleHideModal}>\n      <span>取消</span>\n    </button>\n  </SpotOperationBtnContainer>\n);\n\nSpotOperationBtn.propTypes = {\n  handleHideModal: PropTypes.func,\n  handleDeleteSpot: PropTypes.func,\n  handleUpdate: PropTypes.func,\n};\n\nSpotOperationBtn.defaultProps = {\n  handleHideModal: () => { },\n  handleDeleteSpot: () => { },\n  handleUpdate: () => { },\n};\n\nexport default SpotOperationBtn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'components/Modal';\nimport SpotOperationBtn from '../SpotOperationBtn';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n};\n\nconst EditExistingSpotModal = ({\n  onDeleteSpotClick,\n  onCancelClick,\n  onEditSpotClick,\n}) => (\n  <Modal\n    id=\"SpotOperationBtn\"\n    optionStyle={modalStyle}\n    isVisible\n  >\n    <SpotOperationBtn\n      handleDeleteSpot={onDeleteSpotClick}\n      handleHideModal={onCancelClick}\n      handleUpdate={onEditSpotClick}\n    />\n  </Modal>\n);\n\nEditExistingSpotModal.propTypes = {\n  onDeleteSpotClick: PropTypes.func,\n  onCancelClick: PropTypes.func,\n  onEditSpotClick: PropTypes.func,\n};\n\nexport default EditExistingSpotModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Modal from 'components/Modal';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  padding: '15px',\n};\n\nconst Button = styled.button`\n  font-size: 16px;\n  padding: 10px 0;\n  width: 100%;\n  background-color: #FFFFFF;\n  border-radius: 10px;\n  cursor: pointer;\n  outline: none;\n  border: 0;\n`;\n\nconst AddFromFavoriteButton = styled(Button)`\n  color: #333333;\n  margin-bottom: 5px;\n`;\n\nconst CreateSpotButton = styled(Button)`\n  color: #333333;\n  margin-bottom: 15px;\n`;\n\nconst CancelButton = styled(Button)`\n  color: #EB715A;\n`;\n\nconst AddSpotModal = ({\n  onAddFromFavoriteClick,\n  onCreateSpotButtonClick,\n  onCancelClick,\n}) => (\n  <Modal\n    id=\"SpotOperationBtn\"\n    optionStyle={modalStyle}\n    isVisible\n  >\n    <AddFromFavoriteButton onClick={onAddFromFavoriteClick}>從收藏添加景點</AddFromFavoriteButton>\n    <CreateSpotButton onClick={onCreateSpotButtonClick}>自建景點</CreateSpotButton>\n    <CancelButton onClick={onCancelClick}>取消</CancelButton>\n  </Modal>\n);\n\nAddSpotModal.propTypes = {\n  onAddFromFavoriteClick: PropTypes.func,\n  onCreateSpotButtonClick: PropTypes.func,\n  onCancelClick: PropTypes.func,\n};\n\nexport default AddSpotModal;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport DragSortableList from 'components/DragSortableList';\nimport { List, Map, fromJS } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport AntdModal from 'antd/lib/modal';\nimport history from 'utils/history';\nimport mapPlusIconPath from 'assets/map_plus_icon.svg';\nimport arrowLeftGreyIconPath from 'assets/arrow_left_grey_icon.svg';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nimport\nSpotCard,\n{\n  HEIGHT_SPOT_CARD,\n  HEIGHT_SPOT_TRAVEL_TIME,\n} from './SpotCard';\nimport EditExistingSpotModal from './EditExistingSpotModal';\nimport AddSpotModal from './AddSpotModal';\n\nconst { confirm } = AntdModal;\n\nconst ADD_SPOT_MODAL = 'ADD_SPOT_MODAL';\nconst EDIT_EXISTING_SPOT_MODAL = 'EDIT_EXISTING_SPOT_MODAL';\n\nconst StyledContent = styled.div`\n  padding: 15px 15px;\n  padding-top: 0;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n\n  .content__default-message-wrapper {\n    display: flex;\n    padding: 0px 15px;\n    align-items: center;\n  }\n  .content__default-message-text {\n    font-size: 18px;\n    color: #AAAAAA;\n    font-weight: 400;\n  }\n  .content__arrow-left_grey-icon {\n    width: 20px;\n    height: 14px;\n    margin-right: 9px;\n  }\n`;\n\nconst SpotOperator = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  .operator__number-wrapper {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 2px solid rgba(51, 51, 51, 1);\n    color: rgba(51, 51, 51, 1);\n    font-size: 16px;\n    font-weight: 500;\n    border-radius: 100%;\n    width: 29px;\n    height: 29px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: rgba(51, 51, 51, 1);\n      color: ${(props) => props.theme.mainColor};\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 2px;\n    background: rgba(170, 170, 170, 1);\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    height: 33px;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n`;\n\nconst Content = (props) => {\n  const [modal, setModal] = useState(null);\n  const [addSpotAfterIndex, setAddSpotAfterIndex] = useState(null);\n  const [selectedSpotId, setSelectedSpotId] = useState();\n  const [arrangeState, setArrangeState] = useState(Map());\n  const {\n    isOwner,\n    match,\n    plan,\n    spots,\n    location,\n    handleSubmitUpdateProject,\n  } = props;\n  const { projectId } = match.params;\n  const searchParams = new URLSearchParams(location.search);\n  const { search } = location;\n  const day = parseInt(searchParams.get('day'), 10);\n  const arrange = plan.getIn([day - 1, 'arrange']);\n\n  useEffect(() => {\n    setArrangeState(arrange);\n  }, [day, arrange]);\n  const handleShowAddSpotModal = useCallback((event) => {\n    const insertAfterIndex = findAttributeInEvent(event, 'data-index');\n    setModal(ADD_SPOT_MODAL);\n    setAddSpotAfterIndex(insertAfterIndex);\n  }, []);\n  const handleShowEditExistingSpotModal = useCallback((event) => {\n    const spotId = parseInt(findAttributeInEvent(event, 'data-spotid'), 10);\n    setSelectedSpotId(spotId);\n    setModal(EDIT_EXISTING_SPOT_MODAL);\n  }, []);\n  const handleHideEditExistingSpotModal = useCallback(() => {\n    setModal(null);\n  }, []);\n  const handleDeleteSelectedSpot = useCallback(() => {\n    const foundSpot = spots.get(selectedSpotId.toString());\n    confirm({\n      title: '刪除景點',\n      content: `確認是否刪除 \"${foundSpot.get('name')}\"？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        const newArrange = arrangeState.filter((arr) => arr.get('spot_id') !== selectedSpotId);\n        const updatedPlan = plan.setIn([day - 1, 'arrange'], newArrange);\n        handleSubmitUpdateProject(projectId, fromJS({ plan: updatedPlan }));\n        setModal(null);\n        setArrangeState(newArrange);\n      },\n    });\n  }, [selectedSpotId, projectId]);\n  const handleGoToUpdatingPage = useCallback(() => {\n    const updatingSpotCardPagePath = `/${PAGE_NAME.UPDATING_SPOT_CARD.name}/${projectId}`;\n    history.push({\n      pathname: updatingSpotCardPagePath,\n      search,\n      state: { selectedSpotId },\n    });\n  }, [selectedSpotId, projectId, search]);\n  const handleOnDragUpdate = useCallback((order) => {\n    const updatedArrange = order.map((item) => JSON.parse(item));\n    setArrangeState(fromJS(updatedArrange));\n    const updatedPlan = plan.setIn([day - 1, 'arrange'], updatedArrange);\n    handleSubmitUpdateProject(projectId, fromJS({ plan: updatedPlan }));\n  }, [plan, day]);\n\n  if (!arrangeState || arrangeState.size === 0) {\n    return (\n      <StyledContent>\n        <div className=\"content__spot-cards-wrapper\">\n          {\n            isOwner\n              ? (\n                <>\n                  <SpotOperator>\n                    <div\n                      role=\"presentation\"\n                      className=\"operator__map-marker-wrapper\"\n                      data-index={1}\n                      onClick={handleShowAddSpotModal}\n                    >\n                      <img src={mapPlusIconPath} className=\"operator__map-marker-icon\" alt=\"\" />\n                    </div>\n                  </SpotOperator>\n                  <div className=\"content__default-message-wrapper\">\n                    <img className=\"content__arrow-left_grey-icon\" src={arrowLeftGreyIconPath} alt=\"\" />\n                    <div className=\"content__default-message-text\">按左側按鈕開始添加你的行程</div>\n                  </div>\n                  {modal === ADD_SPOT_MODAL && (\n                    <AddSpotModal\n                      onAddFromFavoriteClick={() => {\n                        setModal(null);\n                        history.push({\n                          pathname: `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/${projectId}`,\n                          search: `${search}&afterIndex=${addSpotAfterIndex}`,\n                          state: { afterIndex: addSpotAfterIndex },\n                        });\n                        setAddSpotAfterIndex(null);\n                      }}\n                      onCreateSpotButtonClick={() => {\n                        history.push({\n                          pathname: `/${PAGE_NAME.CREATE_SPOT.name}/${projectId}`,\n                          search: `${search}&afterIndex=${addSpotAfterIndex}`,\n                          state: { afterIndex: addSpotAfterIndex },\n                        });\n                      }}\n                      onCancelClick={() => setModal(null)}\n                    />\n                  )}\n                </>\n              )\n              : (\n                <div className=\"content__default-message-wrapper\">\n                  <div className=\"content__default-message-text\">尚未添加行程</div>\n                </div>\n              )\n          }\n\n        </div>\n      </StyledContent>\n    );\n  }\n\n  return (\n    <StyledContent>\n      <div className=\"content__spot-cards-wrapper\">\n        <div>\n          {\n            arrangeState.map((spot, index) => (\n              <SpotOperator key={`day-${day}-${spot.get('spot_id')}-${index}`}>\n                <div className=\"operator__number-wrapper\">\n                  {\n                    Boolean(index) &&\n                    <div className=\"operator__divider-line operator__divider-line-top\" />\n                  }\n                  <div\n                    role=\"presentation\"\n                    className=\"operator__number-circle-border\"\n                    data-spotid={spot.get('spot_id')}\n                    onClick={isOwner ? handleShowEditExistingSpotModal : () => { }}\n                  >\n                    <span>{index + 1}</span>\n                  </div>\n                  {\n                    ((arrangeState.size - 1 !== index) || isOwner) &&\n                    <div className=\"operator__divider-line operator__divider-line-bottom\" />\n                  }\n                </div>\n                <div\n                  role=\"presentation\"\n                  className=\"operator__map-marker-wrapper\"\n                  data-index={index + 1}\n                  onClick={handleShowAddSpotModal}\n                >\n                  <img src={isOwner ? mapPlusIconPath : ''} className=\"operator__map-marker-icon\" alt=\"\" />\n                </div>\n              </SpotOperator>\n            ))\n          }\n        </div>\n        <DragSortableList\n          dataSource={arrangeState}\n          row={(spot, index) => (\n            <SpotCard\n              key={spot.get('spot_id')}\n              spotIndexInfo={spot}\n              index={index}\n              {...props}\n            />\n          )}\n          onChange={(updatedItems) => {\n            handleOnDragUpdate(updatedItems);\n          }}\n          {...props}\n        />\n      </div>\n      {modal === EDIT_EXISTING_SPOT_MODAL && (\n        <EditExistingSpotModal\n          onDeleteSpotClick={handleDeleteSelectedSpot}\n          onCancelClick={handleHideEditExistingSpotModal}\n          onEditSpotClick={handleGoToUpdatingPage}\n        />\n      )}\n      {modal === ADD_SPOT_MODAL && (\n        <AddSpotModal\n          onAddFromFavoriteClick={() => {\n            setModal(null);\n            history.push({\n              pathname: `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/${projectId}`,\n              search: `${search}&afterIndex=${addSpotAfterIndex}`,\n              state: { afterIndex: addSpotAfterIndex },\n            });\n            setAddSpotAfterIndex(null);\n          }}\n          onCreateSpotButtonClick={() => {\n            history.push({\n              pathname: `/${PAGE_NAME.CREATE_SPOT.name}/${projectId}`,\n              search: `${search}&afterIndex=${addSpotAfterIndex}`,\n              state: { afterIndex: addSpotAfterIndex },\n            });\n          }}\n          onCancelClick={() => setModal(null)}\n        />\n      )}\n    </StyledContent>\n  );\n};\n\nContent.propTypes = {\n  isOwner: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  location: PropTypes.object,\n  match: PropTypes.object,\n  spots: PropTypes.instanceOf(Map),\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nContent.defaultProps = {\n  isOwner: false,\n  plan: List(),\n  location: {},\n  match: {},\n  spots: Map(),\n  handleSubmitUpdateProject: () => { },\n};\n\n\nconst mapStateToProps = createStructuredSelector({\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Content);\n","import styled from 'styled-components';\n\nexport const DetailPlanningPageContainer = styled.div`\n  position: relative;\n  height: 100%;\n  .detail-planning__cover {\n    position: relative;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n\n    height: 190px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n      color: white;\n      font-weight: 600;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n      color: white;\n      font-weight: 500;\n    }\n  }\n  .detail-planning__info_wrapper {\n    transform: translateY(32px);\n  }\n\n  .detail-planning__info_direction_wrapper {\n    display: inline-flex;\n    margin-bottom: 15px;\n    cursor: pointer;\n  }\n\n  .detail-planning__info_title_wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 45px;\n  }\n\n  .detail-planning__favicon {\n    width: 45px;\n    height: 45px;\n    background-image: url(${(props) => props.faviconPath});\n    background-size: contain;\n    background-position: center;\n    border-radius: 100%;\n    margin-right: 5px;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport history from 'utils/history';\nimport peopleIconPath from 'assets/people_icon_100.svg';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  fetchSpotById,\n  fetchProjectById,\n  fetchUserById,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n  selectSpots,\n  selectUser,\n  selectUsers,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport DateTabs from './DateTabs';\nimport DateTimeInfo from './DateTimeInfo';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\nimport boraImage from './default-cover-images/bora.jpg';\nimport columbiaImage from './default-cover-images/british-columbia.jpg';\nimport fernImage from './default-cover-images/fern.jpg';\nimport mountainImage from './default-cover-images/mountain.jpg';\nimport skyImage from './default-cover-images/sky.jpg';\nimport sunrise1Image from './default-cover-images/sunrise-1.jpg';\nimport sunrise2Image from './default-cover-images/sunrise-2.jpg';\nimport taiwan1Image from './default-cover-images/taiwan-1.jpg';\nimport taiwan2Image from './default-cover-images/taiwan-2.jpg';\nimport southPeakImage from './default-cover-images/the-odd-knight-of-the-south-peak.jpg';\n\nconst coverImagePaths = [\n  boraImage,\n  columbiaImage,\n  fernImage,\n  mountainImage,\n  skyImage,\n  sunrise1Image,\n  sunrise2Image,\n  taiwan1Image,\n  taiwan2Image,\n  southPeakImage,\n];\n\nconst DetailPlanningPage = (props) => {\n  const {\n    user,\n    users,\n    match,\n    ownProjectsMeta,\n    projects,\n    handleFetchProjectById,\n    handleFetchUser,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!projects.get(projectId)) {\n      handleFetchProjectById(projectId);\n    }\n  }, [projectId]);\n\n  const owner = projects.getIn([projectId, 'owner']);\n  useEffect(() => {\n    if (owner && !users.get(String(owner))) {\n      handleFetchUser(owner);\n    }\n  }, [owner, users]);\n\n  const [coverImage, serCoverImage] = useState(null);\n  if (coverImage === null) {\n    serCoverImage(coverImagePaths[Math.floor(Math.random() * (coverImagePaths.length - 1))]);\n  }\n\n  if (!projects || !projects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  if (!user) {\n    return null;\n  }\n\n  const project = projects.get(projectId);\n  if (!project) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n\n  const userId = user.get('user_id');\n  const isOwner = userId === owner;\n\n  const handleGoToTravelerPage = () => {\n    const travelerPagePath = `/${PAGE_NAME.TRAVELER.name}/${owner}`;\n    history.push(travelerPagePath);\n  };\n\n  const name = project.get('name');\n  const days = project.get('plan').size;\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const plan = project.get('plan');\n  const faviconPath = users.getIn([owner.toString(), 'portrait_link']) || peopleIconPath;\n\n  return (\n    <DetailPlanningPageContainer\n      faviconPath={faviconPath}\n      coverImagePath={coverImage}\n    >\n      {\n        isLoading &&\n        <Spinner type=\"opacity\" />\n      }\n      <div className=\"detail-planning__cover\">\n        <div className=\"detail-planning__info_wrapper\">\n          <div role=\"presentation\" className=\"detail-planning__info_direction_wrapper\" onClick={handleGoToTravelerPage}>\n            <img src=\"\" className=\"detail-planning__favicon\" alt=\"\" />\n            <div className=\"detail-planning__info_title_wrapper\">\n              <div className=\"detail-planning__cover-title\">\n                <span>{name}</span>\n              </div>\n              <div className=\"detail-planning__cover-period\">\n                {`${startDay} - ${endDay} / ${days}天`}\n              </div>\n            </div>\n          </div>\n          <DateTabs projectId={projectId} isOwner={isOwner} days={days} {...props} />\n        </div>\n      </div>\n      <DateTimeInfo isOwner={isOwner} plan={plan} startDay={startDay} {...props} />\n      <Content isOwner={isOwner} plan={plan} {...props} />\n    </DetailPlanningPageContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  users: PropTypes.instanceOf(Map).isRequired,\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.instanceOf(Map),\n  projects: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func,\n  handleFetchProjectById: PropTypes.func,\n  handleFetchUser: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  user: Map(),\n  match: {},\n  ownProjectsMeta: Map(),\n  handleFetchOwnProjects: () => { },\n  handleFetchProjectById: () => { },\n  handleFetchUser: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n  projects: selectProjects(),\n  spots: selectSpots(),\n  user: selectUser(),\n  users: selectUsers(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n  handleFetchProjectById: (id) => dispatch(fetchProjectById(id)),\n  handleFetchUser: (userId) => dispatch(fetchUserById(userId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst InputBoxWrapper = styled.div`\n  display: flex;\n  height: 40px;\n  color: #707070;\n  margin-top: 15px;\n  border-radius: 20px;\n  .input-box__label-box {\n    background: rgba(238, 238, 238, 1);\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    border-radius: 20px 0px 0px 20px;\n    padding-left: 10px;\n  }\n  .input-box__input {\n    background: rgba(238, 238, 238, 1);\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    border-radius: 0px 20px 20px 0px;\n  }\n`;\n\nconst InputBox = ({\n  title, inputType, value, handleOnChange, handleOnClick, readonly,\n}) => (\n  <InputBoxWrapper className=\"input-box__input-wrapper\">\n    <div className=\"input-box__label-box\"><span>{title}</span></div>\n    <input\n      type={inputType}\n      value={value}\n      className=\"input-box__input\"\n      onChange={handleOnChange}\n      onClick={handleOnClick}\n      readOnly={readonly}\n    />\n  </InputBoxWrapper>\n);\n\nInputBox.propTypes = {\n  title: PropTypes.string,\n  inputType: PropTypes.string,\n  value: PropTypes.string,\n  readonly: PropTypes.bool,\n  handleOnChange: PropTypes.func,\n  handleOnClick: PropTypes.func,\n};\n\nInputBox.defaultProps = {\n  title: '',\n  inputType: 'text',\n  value: '',\n  readonly: false,\n  handleOnChange: () => { },\n  handleOnClick: () => { },\n};\n\nexport default InputBox;\n","import React, { useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Map } from 'immutable';\nimport styled from 'styled-components';\nimport InputBox from 'components/InputBox';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\n\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPageWrapper = styled.div`\n  padding: 0px 15px;\n`;\n\nconst UpdatePlanningPage = ({\n  match,\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const handleOnNameChange = useCallback((event) => {\n    const name = event.target.value;\n    setUpdateProject((updateProject) => updateProject.set('name', name));\n  }, []);\n  const handleOnDateChange = useCallback((event) => {\n    const starDay = event.target.value;\n    setUpdateProject((data) => data.set('start_day', moment(starDay).format('YYYY/MM/DD 00:00:00')));\n  }, []);\n\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    setUpdateProject(Map());\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY-MM-DD'); // value format must be YYYY-MM-DD\n  return (\n    <UpdatePlanningPageWrapper>\n      <InputBox\n        title=\"旅程名稱\"\n        value={name}\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        value={startDay}\n        handleOnChange={handleOnDateChange}\n      />\n    </UpdatePlanningPageWrapper>\n  );\n};\n\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport Context from 'containers/Spotlight/Context';\nimport InputBox from 'components/InputBox';\n\nconst { SpotlightContext } = Context;\n\nconst StyledCreateProjectPage = styled.div`\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n`;\n\nconst CreateProjectPage = () => {\n  const context = useContext(SpotlightContext);\n  const [name, setName] = useState();\n  const [startDay, setStartDay] = useState();\n  const [days, setDays] = useState(1);\n  const {\n    setNewProject,\n  } = context;\n  const handleOnNameChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setName(currentValue);\n    setNewProject((newProject) => newProject.set('name', currentValue));\n  };\n  const handleOnStartDayChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setStartDay(currentValue);\n    setNewProject((newProject) => newProject.set('start_day', currentValue));\n  };\n  const handleOnDaysChange = (event) => {\n    const currentValue = event.currentTarget.value > 0 ? parseInt(event.currentTarget.value, 10) : 0;\n    setDays(currentValue);\n    setNewProject((newProject) => newProject.set('tot_days', currentValue));\n  };\n  return (\n    <StyledCreateProjectPage>\n      <InputBox\n        title=\"旅程名稱\"\n        value={name}\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        value={startDay}\n        handleOnChange={handleOnStartDayChange}\n      />\n      <InputBox\n        title=\"天數\"\n        value={days.toString()}\n        handleOnChange={handleOnDaysChange}\n      />\n    </StyledCreateProjectPage>\n  );\n};\n\nexport default CreateProjectPage;\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport Spinner from 'components/Spinner';\nimport Carousel from 'nuka-carousel';\nimport Context from 'containers/Spotlight/Context';\n\nimport redHeartCircleIconPath from 'assets/red_heart_circle_icon.svg';\nimport checkCircleIconPath from 'assets/check_circle_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst getRandom = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\n\nconst HEIGHT_SPOT_CARD = 140;\n\nconst LikedSpotCardContainer = styled.div`\n  width: 100%;\n  height: ${HEIGHT_SPOT_CARD}px;\n  position: relative;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  border-radius: 10px;\n  cursor: pointer;\n\n  .liked-spot-card__card-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100px;\n    border-radius: 10px;\n  }\n\n  .image-gallery-image {\n    height: 100px;\n    max-height: 100px;\n  }\n\n  .liked-spot-card__card-cover {\n    height: 100%;\n    border-radius: 10px 10px 0px 0px;\n    overflow: hidden;\n  }\n  .liked-spot-card__card-title-wrapper {\n    height: 40px;\n    background: white;\n    border-radius: 0px 0px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0px 10px;\n  }\n  .liked-spot-card__card-title {\n    font-size: 14px;\n    color: #333333;\n    font-weight: 500;\n\n    overflow : hidden;\n    text-overflow : ellipsis;\n    white-space : nowrap;\n  }\n  .liked-spot-card__card-like-wrapper {\n    display: flex;\n    align-items: center;\n  }\n  .liked-spot-card__card-heart-icon {\n    width: 30px;\n    height: 30px;\n  }\n  .liked-spot-card__mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #000000;\n    opacity: 0.7;\n    border: 4px solid #AAAAAA;\n    border-radius: 10px;\n  }\n  .liked-spot-card__check-icon {\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    right: 0px;\n    margin: 5px;\n  }\n`;\n\nconst LikedSpotCard = ({\n  spotId,\n  spots,\n  match,\n  handleFetchSpotById,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  const foundSpotDetail = spots.get(String(spotId));\n  const handleSelectLikedSpot = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    setSelectedLikedSpotId({\n      spotId,\n      projectId: match.params.projectId,\n      day: searchParams.get('day'),\n      afterIndex: searchParams.get('afterIndex'),\n      elapsedTime: '02:00',\n    });\n  }, []);\n  useEffect(() => {\n    if (!foundSpotDetail) {\n      handleFetchSpotById(spotId);\n    }\n  }, []);\n  if (!foundSpotDetail) {\n    return <Spinner height={HEIGHT_SPOT_CARD} />;\n  }\n  let showMask = false;\n  if (selectedLikedSpotId) {\n    showMask = selectedLikedSpotId.spotId === spotId;\n  }\n\n  return (\n    <LikedSpotCardContainer>\n      <div role=\"presentation\" className=\"liked-spot-card__card-wrapper\" onClick={handleSelectLikedSpot}>\n        <div className=\"liked-spot-card__card-cover\">\n          <Carousel\n            autoplay\n            wrapAround\n            withoutControls\n            autoplayInterval={getRandom(3000, 5000)}\n            speed={450}\n          >\n            {foundSpotDetail.get('pic').map((pic, index) => (\n              <img\n                key={index}\n                className=\"image-gallery-image\"\n                src={pic}\n                alt={foundSpotDetail.get('name')}\n              />\n            ))}\n          </Carousel>\n        </div>\n        <div className=\"liked-spot-card__card-title-wrapper\">\n          <div className=\"liked-spot-card__card-title\">{foundSpotDetail.get('name')}</div>\n          <div className=\"liked-spot-card__card-like-wrapper\">\n            <img src={redHeartCircleIconPath} className=\"liked-spot-card__card-heart-icon\" alt=\"\" />\n            <div>{foundSpotDetail.get('like_num')}</div>\n          </div>\n        </div>\n      </div>\n      {\n        showMask &&\n        <>\n          <div className=\"liked-spot-card__mask\" />\n          <img className=\"liked-spot-card__check-icon\" src={checkCircleIconPath} alt=\"\" />\n        </>\n      }\n    </LikedSpotCardContainer>\n  );\n};\n\nLikedSpotCard.propTypes = {\n  match: PropTypes.object,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  spots: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func,\n};\n\nLikedSpotCard.defaultProps = {\n  match: {},\n  spots: Map(),\n  handleFetchSpotById: () => { },\n};\n\nexport default LikedSpotCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport {\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteSpotIds,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchFavoriteSpotIds,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport LikedSpotCard from './LikedSpotCard';\n\nconst AddSpotToPlanPageContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  padding: 15px 13px;\n  grid-gap: 7px 7px;\n`;\n\nconst AddSpotToPlanPage = (props) => {\n  const {\n    favoriteSpotIdsMeta,\n    favoriteSpotIds,\n    handleFetchFavoriteSpotIds,\n  } = props;\n  const isLoaded = favoriteSpotIdsMeta.get('isLoaded');\n  const isLoading = favoriteSpotIdsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchFavoriteSpotIds();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  return (\n    <AddSpotToPlanPageContainer>\n      {\n        favoriteSpotIds.map((spotId) => (\n          <LikedSpotCard\n            key={spotId}\n            spotId={spotId}\n            {...props}\n          />\n        ))\n      }\n    </AddSpotToPlanPageContainer>\n  );\n};\n\nAddSpotToPlanPage.propTypes = {\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List),\n};\n\nAddSpotToPlanPage.defaultProps = {\n  favoriteSpotIds: List(),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddSpotToPlanPage);\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst { SpotlightContext } = Context;\n\nconst SettingSpotCardPageContainer = styled.div`\n  padding: 15px;\n`;\n\nconst TimePickerInput = styled.div`\n  display: flex;\n  background: rgba(238, 238, 238, 1);\n  align-items: center;\n  height: 40px;\n  border-radius: 20px;\n  padding: 0px 10px;\n  .time-picker-input__label-box {\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    padding-left: 10px;\n    padding-right: 20px;\n  }\n  .time-picker-input__input {\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    cursor: pointer;\n  }\n`;\n\nconst SettingSpotCardPage = (props) => {\n  const {\n    isModalVisible,\n    handleSetModalVisible,\n  } = props;\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  if (!selectedLikedSpotId) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const {\n    elapsedTime,\n  } = selectedLikedSpotId;\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const time = value.split(':');\n    setSelectedLikedSpotId((spot) => ({\n      ...spot,\n      elapsedTime: `${time[0]}:${time[1]}`,\n    }));\n    handleSetModalVisible(false);\n  }, []);\n  return (\n    <SettingSpotCardPageContainer>\n      <TimePickerInput>\n        <div className=\"time-picker-input__label-box\">停留時間</div>\n        <div\n          role=\"presentation\"\n          className=\"time-picker-input__input\"\n          onClick={handleShowModal}\n        >\n          {elapsedTime}\n        </div>\n        <Modal\n          id=\"TimePicker\"\n          optionStyle={modalStyle}\n          isVisible={isModalVisible}\n          heightGrowing\n        >\n          <TimePicker\n            startTime={elapsedTime}\n            handleOnCancel={handleHideModal}\n            handleOnOk={handleOnPickerCheck}\n          />\n        </Modal>\n      </TimePickerInput>\n    </SettingSpotCardPageContainer>\n  );\n};\n\nSettingSpotCardPage.propTypes = {\n  isModalVisible: PropTypes.bool,\n  handleSetModalVisible: PropTypes.func,\n};\n\nSettingSpotCardPage.defaultProps = {\n  isModalVisible: false,\n  handleSetModalVisible: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingSpotCardPage);\n","import React, {\n  useContext, useCallback, useEffect, useState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { List, Map, fromJS } from 'immutable';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport moment from 'moment';\nimport {\n  selectIsModalVisible,\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst { SpotlightContext } = Context;\n\nconst UpdatingSpotCardPageContainer = styled.div`\n  padding: 15px;\n`;\n\nconst TimePickerInput = styled.div`\n  display: flex;\n  background: rgba(238, 238, 238, 1);\n  align-items: center;\n  height: 40px;\n  border-radius: 20px;\n  padding: 0px 10px;\n  .time-picker-input__label-box {\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    padding-left: 10px;\n    padding-right: 20px;\n  }\n  .time-picker-input__input {\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    cursor: pointer;\n  }\n`;\n\nconst UpdatingSpotCardPage = (props) => {\n  const [elapsedTime, setElapsedTime] = useState();\n  const {\n    match,\n    location,\n    isModalVisible,\n    ownProjects,\n    ownProjectsMeta,\n    handleSetModalVisible,\n    handleFetchOwnProjects,\n  } = props;\n  const {\n    selectedSpotId,\n  } = location.state;\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n\n  const { projectId } = match.params;\n  const isOwnProjectLoaded = ownProjectsMeta.get('isLoaded');\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    if (!value) {\n      return;\n    }\n    // set elapsedTime\n    const time = value.split(':');\n    setElapsedTime(`${time[0]}:${time[1]}`);\n\n    // set updatedPlan\n    const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n    const plan = ownProject.get('plan');\n    const updatedPlan = plan.updateIn([day - 1, 'arrange'], (arrange) => arrange.map((arr) => {\n      if (arr.get('spot_id') === selectedSpotId) {\n        return arr.set('during', parseInt(time[0], 10) * 60 + parseInt(time[1], 10));\n      }\n      return arr;\n    }));\n    setUpdateProject(fromJS({\n      plan: updatedPlan,\n    }));\n\n    // hide modal\n    handleSetModalVisible(false);\n  }, []);\n  useEffect(() => {\n    if (!selectedSpotId || !projectId || !ownProjects.size) {\n      history.push(`/${PAGE_NAME.PLANNING.name}`);\n      return;\n    }\n    if (!isOwnProjectLoaded) {\n      handleFetchOwnProjects();\n      return;\n    }\n\n\n    const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n    const plan = ownProject.get('plan');\n    const arrange = plan.getIn([day - 1, 'arrange']);\n    const during = arrange.find((arr) => arr.get('spot_id') === selectedSpotId).get('during');\n    const hhmmTime = moment('00:00', 'HH:mm').add(during, 'minutes').format('HH:mm');\n    setElapsedTime(hhmmTime);\n  }, [selectedSpotId, projectId]);\n\n  return (\n    <UpdatingSpotCardPageContainer>\n      <TimePickerInput>\n        <div className=\"time-picker-input__label-box\">停留時間</div>\n        <div\n          role=\"presentation\"\n          className=\"time-picker-input__input\"\n          onClick={handleShowModal}\n        >\n          {elapsedTime}\n        </div>\n        <Modal\n          id=\"TimePicker\"\n          optionStyle={modalStyle}\n          isVisible={isModalVisible}\n          heightGrowing\n        >\n          <TimePicker\n            startTime={elapsedTime}\n            handleOnCancel={handleHideModal}\n            handleOnOk={handleOnPickerCheck}\n          />\n        </Modal>\n      </TimePickerInput>\n    </UpdatingSpotCardPageContainer>\n  );\n};\n\nUpdatingSpotCardPage.propTypes = {\n  match: PropTypes.object,\n  location: PropTypes.object,\n  isModalVisible: PropTypes.bool,\n  ownProjects: PropTypes.instanceOf(List),\n  ownProjectsMeta: PropTypes.object,\n  handleSetModalVisible: PropTypes.func,\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatingSpotCardPage.defaultProps = {\n  match: {},\n  location: {},\n  isModalVisible: false,\n  ownProjects: List(),\n  ownProjectsMeta: Map(),\n  handleSetModalVisible: () => { },\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n  ownProjects: selectOwnProjects(),\n  ownProjectsMeta: selectOwnProjectsMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatingSpotCardPage);\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport { List, Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectOwnProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { DEFAULT_PLAN } from 'containers/Spotlight/constants';\n\nimport plusIconPath from 'assets/plus_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst EditPlanningDayContainer = styled.div`\n  padding: 4px 15px;\n  font-size: 14px;\n  .edit-planning-day__row {\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid #EEEEEE;\n    line-height: 40px;\n    cursor: pointer;\n    &:hover {\n      background: #EEEEEE;\n    }\n  }\n  .edit-planning-day__add-btn-wrapper {\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n  }\n  .edit-planning-day__add-icon {\n    height: 18px;\n    width: 18px;\n    margin-right: 6px;\n  }\n  .edit-planning-day__check-icon {\n    height: 40px;\n    width: 16px;\n  }\n`;\n\nconst EditPlanningDayPage = (props) => {\n  const { SpotlightContext } = Context;\n  const {\n    updateProject,\n    setUpdateProject,\n    selectedDays,\n    setSelectedDays,\n  } = useContext(SpotlightContext);\n  const {\n    match,\n    ownProjects,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  if (!ownProjects.size) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const handleOnDayRowClick = useCallback((event) => {\n    const day = parseInt(findAttributeInEvent(event, 'data-day'), 10);\n    setSelectedDays((d) => (d.includes(day) ? d.delete(d.indexOf(day)) : d.push(day)));\n  });\n  const handleAddDay = useCallback(() => {\n    setUpdateProject((proj) => fromJS({\n      plan: proj.get('plan').push(fromJS(DEFAULT_PLAN)),\n      tot_days: proj.get('tot_days') + 1,\n    }));\n  }, [updateProject]);\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const plan = ownProject.get('plan');\n  useEffect(() => {\n    setUpdateProject(Map({\n      plan,\n      tot_days: ownProject.get('tot_days'),\n    }));\n  }, [plan]);\n  if (!updateProject.size) {\n    return null;\n  }\n\n  return (\n    <EditPlanningDayContainer>\n      {\n        updateProject.get('plan').map((dayPlan, index) => (\n          <div\n            role=\"presentation\"\n            key={`${dayPlan}-${index}`}\n            className=\"edit-planning-day__row\"\n            data-day={index + 1}\n            onClick={handleOnDayRowClick}\n          >\n            <div>{`第${index + 1}天`}</div>\n            {\n              selectedDays.includes(index + 1) &&\n              <img className=\"edit-planning-day__check-icon\" src={checkIconPath} alt=\"\" />\n            }\n          </div>\n        ))\n      }\n      <div\n        role=\"presentation\"\n        className=\"edit-planning-day__row\"\n        onClick={handleAddDay}\n      >\n        <div className=\"edit-planning-day__add-btn-wrapper\">\n          <img className=\"edit-planning-day__add-icon\" src={plusIconPath} alt=\"\" />\n          <span>增加天數</span>\n        </div>\n      </div>\n    </EditPlanningDayContainer>\n  );\n};\n\nEditPlanningDayPage.propTypes = {\n  match: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n};\n\nEditPlanningDayPage.defaultProps = {\n  match: {},\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPlanningDayPage);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport Likes from 'components/Likes';\nimport { HEIGHT_NAVIGATION } from 'Styled/Settings/constants';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  position: relative;\n`;\n\nexport const Content = styled.div`\n  height: calc(100vh - ${HEIGHT_NAVIGATION}px);\n  overflow-y: auto;\n`;\n\nexport const Feature = styled.div`\n  position: relative;\n  padding-top: 175px;\n  margin-bottom: 20px;\n`;\n\nexport const BackButton = styled.button`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #333333;\n  left: 15px;\n  top: 14px;\n  background-color: rgba(255, 255, 255, .6);\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border: 0;\n`;\n\nexport const AddButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #333333;\n  right: 15px;\n  top: 14px;\n  background-color: rgba(255, 255, 255, .6);\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const FeatureImage = styled.img`\n  position: absolute;\n  top: 0;\n  display: block;\n  height: 205px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const FeatureInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  font-size: 16px;\n  margin: 0 38px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  z-index: 1;\n`;\n\nexport const SpotName = styled.span`\n  color: #333333;\n  font-size: 18px;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: bold;\n`;\n\nexport const Title = styled.div`\n  padding: 0 15px;\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #333333;\n  font-weight: bold;\n`;\n\nexport const LikeButton = styled(Likes)`\n  flex-shrink: 0;\n`;\n\nexport const Paragraph = styled.p`\n  padding: 0 15px;\n  margin-bottom: 15px;\n  color: #AAAAAA;\n  line-height: 1.75;\n\n  &:last-child {\n    margin-bottom: 0;\n    padding-bottom: 35px;\n  }\n`;\n","import React, { useEffect, useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport { selectSpotMeta, selectSpots, selectFavoriteSpotIds } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n  fetchFavoriteSpotIds,\n  likeSpot,\n  cancelLikeSpot,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\n\nimport {\n  Feature,\n  FeatureImage,\n  FeatureInfo,\n  Title,\n  LikeButton,\n  Paragraph,\n  SpotName,\n  Container,\n  BackButton,\n  AddButton,\n  Content,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst SpotPage = ({\n  match,\n  spots,\n  handleFetchSpotById,\n  setSpotMeta,\n  location,\n  handleFetchFavoriteSpotIds,\n  favoriteSpotIds,\n  handleLikeSpot,\n  handleCancelLikeSpot,\n}) => {\n  const { setIsHeaderVisible } = useContext(SpotlightContext);\n  const { spotId } = match.params;\n  const isSpotFavorite = favoriteSpotIds.includes(Number(spotId));\n\n  useEffect(() => {\n    handleFetchSpotById(spotId);\n    handleFetchFavoriteSpotIds();\n    setIsHeaderVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n    };\n  }, []);\n\n  const handleLikeOnClick = useCallback(() => {\n    if (isSpotFavorite) {\n      handleCancelLikeSpot(Number(spotId));\n    } else {\n      handleLikeSpot(Number(spotId));\n    }\n  });\n\n  if (setSpotMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  const spot = spots.get(spotId, Map());\n  if (!spot.size) {\n    return <div>找不到該景點資料</div>;\n  }\n  return (\n    <Container>\n      <BackButton onClick={() => history.goBack()}>\n        <i className=\"fas fa-arrow-left\" />\n      </BackButton>\n      <AddButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`}>\n        <i className=\"fas fa-plus\" />\n      </AddButton>\n      <Content>\n        <Feature>\n          <FeatureImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n          <FeatureInfo>\n            <SpotName>{spot.get('name')}</SpotName>\n            <LikeButton\n              onClick={handleLikeOnClick}\n              isActive={isSpotFavorite}\n              likeNumber={spot.get('like_num')}\n            />\n          </FeatureInfo>\n        </Feature>\n        <Title>景點介紹</Title>\n        <Paragraph>\n          {spot.get('describe')}\n        </Paragraph>\n        <Title>地址</Title>\n        <Paragraph>{spot.get('address')}</Paragraph>\n        <Title>電話</Title>\n        <Paragraph>{spot.get('tel')}</Paragraph>\n        {\n          spot.get('website') &&\n          <>\n            <Title>網址</Title>\n            <Paragraph>\n              <a href={spot.get('website')}>{spot.get('website')}</a>\n            </Paragraph>\n          </>\n        }\n      </Content>\n    </Container>\n  );\n};\n\nSpotPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  setSpotMeta: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleCancelLikeSpot: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n  setSpotMeta: selectSpotMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleCancelLikeSpot: (id) => dispatch(cancelLikeSpot(id)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SpotPage));\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n`;\n\nexport const Project = styled(Link)`\n  display: block;\n  padding: 19px 0 12px;\n  margin: 0 15px;\n  border-bottom: solid 1px #DFDFDF;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n`;\n\nexport const ProjectName = styled.div`\n  color: #333333;\n  font-size: 14px;\n`;\n\nexport const ProjectDate = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n\nexport const CreateProjectButton = styled(Link)`\n  margin: 0 15px;\n  padding: 25px 0;\n  border-bottom: solid 1px #DFDFDF;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n  }\n`;\n\nexport const AddIcon = styled.i`\n  font-size: 18px;\n  margin-right: 6px;\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport { withRouter } from 'react-router';\nimport moment from 'moment';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  Container,\n  Project,\n  ProjectName,\n  ProjectDate,\n  CreateProjectButton,\n  AddIcon,\n} from './Styled';\n\nconst AddSpotToProjectPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  ownProjects,\n  location,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  if (ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container>\n      {ownProjects.map((project) => (\n        <Project\n          key={project.get('proj_id')}\n          to={`${location.pathname}/${project.get('proj_id')}`}\n        >\n          <ProjectName>{project.get('name')}</ProjectName>\n          <ProjectDate>\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .format('YYYY年MM月DD日')\n            }\n            -\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .add(project.get('tot_days') - 1, 'days')\n              .format('YYYY年MM月DD日')\n            }\n            {' / '}\n            {project.get('tot_days')}\n            天\n          </ProjectDate>\n        </Project>\n      ))}\n      <CreateProjectButton to={`/${PAGE_NAME.CREATE_PROJECT.name}`}>\n        <AddIcon className=\"fas fa-plus\" />\n        增加旅程\n      </CreateProjectButton>\n    </Container>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPage));\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const ProjectTitle = styled.div`\n  padding: 9px 0;\n  font-size: 16px;\n  color: #EEEEEE;\n  text-align: center;\n  background-color: #333333;\n`;\n\nexport const Plan = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  margin: 0 15px;\n  border-bottom: solid 1px lightgray;\n  color: #333333;\n  font-size: 14px;\n`;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjectById,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  ProjectTitle,\n  Plan,\n  Container,\n} from './Styled';\n\nconst DEFAULT_SPOT_DURATION = 60;\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  project,\n  match,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded') && !ownProjectsMeta.get('isLoading')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  const { setUpdateProject } = useContext(SpotlightContext);\n  const [daySelection, setDaySelection] = useState(List());\n\n  useEffect(() => {\n    if (project) {\n      setUpdateProject(project.update('plan', (plan) => plan.map((day, index) => {\n        const { spotId } = match.params;\n        const arrange = day.get('arrange');\n        const isSpotAlreadyArranged = arrange.filter((spotArrange) => spotArrange.get('spot_id') === spotId).size > 0;\n\n        if (!isSpotAlreadyArranged && daySelection.get(index)) {\n          return day.set(\n            'arrange',\n            arrange.push(Map({ spot_id: spotId, during: DEFAULT_SPOT_DURATION })),\n          );\n        }\n        return day;\n      })));\n    }\n\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, [daySelection]);\n\n  if (!ownProjectsMeta.get('isLoaded') || ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  if (!project) {\n    return '沒有這個旅程';\n  }\n\n  return (\n    <Container>\n      <ProjectTitle>{project.get('name')}</ProjectTitle>\n      {project.get('plan').map((_plan, index) => (\n        <Plan key={index /* eslint-disable-line react/no-array-index-key */}>\n          {`第${index + 1}天`}\n          <input\n            type=\"checkbox\"\n            checked={daySelection.get(index) || false}\n            onChange={(event) => (\n              setDaySelection(daySelection.set(index, event.currentTarget.checked))\n            )}\n          />\n        </Plan>\n      ))}\n    </Container>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  project: PropTypes.instanceOf(Map),\n  match: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ownProjectsMeta: selectOwnProjectsMeta()(state),\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled(Link)`\n  display: block;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  overflow: hidden;\n`;\n\nexport const Image = styled.img`\n  display: block;\n  height: 140px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const Info = styled.div`\n  padding: 9px 15px;\n  background-color: #fff;\n`;\n\nexport const Title = styled.div`\n  color: #333333;\n  font-size: 16px;\n  font-weight: bold;\n`;\n\nexport const Subtitle = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport defaultBackgroundImagePath from 'assets/default_background_3x.png';\n\nimport {\n  Container,\n  Image,\n  Info,\n  Title,\n  Subtitle,\n} from './Styled';\n\nconst ProjectCard = ({\n  className,\n  to,\n  image,\n  title,\n  subtitle,\n}) => (\n  <Container to={to} className={className}>\n    <Image src={image} alt={title} />\n    <Info>\n      <Title>{title}</Title>\n      <Subtitle>{subtitle}</Subtitle>\n    </Info>\n  </Container>\n);\n\nProjectCard.propTypes = {\n  className: PropTypes.string,\n  to: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  subtitle: PropTypes.string,\n};\n\nProjectCard.defaultProps = {\n  image: defaultBackgroundImagePath,\n  title: '標題',\n  subtitle: '副標題',\n};\n\nexport default ProjectCard;\n","import styled from 'styled-components';\nimport ProjectCardComponent from 'components/ProjectCard';\nimport headerImage from './header-image.png';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const Header = styled.div`\n  background-image: url(${headerImage});\n  background-repeat: no-repeat;\n  background-size: cover;\n  padding: 80px 15px 20px;\n`;\n\nexport const Cards = styled.div`\n  padding: 15px;\n`;\n\nexport const ProjectCard = styled(ProjectCardComponent)`\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, List } from 'immutable';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport UserCard from 'components/UserCard';\nimport { fetchUserById, fetchUserStats, fetchProjects } from 'containers/Spotlight/actions';\nimport { selectUsers, selectProjectsByUserId } from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  Container,\n  Header,\n  Cards,\n  ProjectCard,\n} from './Styled';\n\nconst TravelerPage = ({\n  match,\n  users,\n  handleFetchUser,\n  handleFetchUserStats,\n  handleFetchUserProjects,\n  projects,\n}) => {\n  const { userId } = match.params;\n  const user = users.get(userId);\n  useEffect(() => {\n    if (!user || !user.get('name')) {\n      handleFetchUser(userId);\n    }\n    if (!user || !user.get('stats')) {\n      handleFetchUserStats(userId);\n    }\n    if (!projects || !projects.size) {\n      handleFetchUserProjects(userId);\n    }\n  }, []);\n\n  return (\n    <Container>\n      <Header>\n        <UserCard\n          userName={user && user.get('name')}\n          publishedProjectsCount={user && user.getIn(['stats', 'published_projs_count'])}\n          collectedCount={(user && user.get('stats')) && (\n            user.getIn(['stats', 'collected_projs_count']) +\n            user.getIn(['stats', 'collected_spots_count'])\n          )}\n          projectsLikedCount={user && user.getIn(['stats', 'projs_liked_count'])}\n          userImage={(user && user.get('portrait_link')) || undefined}\n        />\n      </Header>\n      <Cards>\n        {projects && projects.map(((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            to={`/${PAGE_NAME.DETAIL_PLANNING.name}/${project.get('proj_id')}?day=1`}\n            title={project.get('name')}\n            subtitle={`${moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日')}-${moment(project.get('start_day'), 'YYYY-MM-DD').add(project.get('tot_days') - 1, 'days').format('YYYY年MM月DD日')} / ${project.get('tot_days')}天`}\n          />\n        )))}\n      </Cards>\n    </Container>\n  );\n};\n\nTravelerPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  users: PropTypes.instanceOf(Map),\n  handleFetchUser: PropTypes.func.isRequired,\n  handleFetchUserStats: PropTypes.func.isRequired,\n  handleFetchUserProjects: PropTypes.func.isRequired,\n  projects: PropTypes.instanceOf(List),\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  users: selectUsers()(state),\n  projects: selectProjectsByUserId(ownProps.match.params.userId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchUser: (userId) => dispatch(fetchUserById(userId)),\n  handleFetchUserStats: (userId) => dispatch(fetchUserStats(userId)),\n  handleFetchUserProjects: (userId) => dispatch(fetchProjects({ owner: userId, onlyPublic: true })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TravelerPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst Header = ({\n  isLoaded,\n  handleGoBack,\n  handleCheck,\n}) => (\n  <HeaderContainer>\n    <div className=\"header-container__icon-wrapper icon-left\">\n      <div role=\"presentation\" onClick={handleGoBack}>\n        <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n      </div>\n    </div>\n    <div className=\"header-container__title\">景點設定</div>\n    {\n        isLoaded &&\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <div role=\"presentation\" onClick={handleCheck}>\n            <img className=\"icon-style\" src={checkIconPath} alt=\"\" />\n          </div>\n        </div>\n      }\n  </HeaderContainer>\n);\n\nHeader.propTypes = {\n  isLoaded: PropTypes.bool,\n  handleGoBack: PropTypes.func,\n  handleCheck: PropTypes.func,\n};\n\nexport default Header;\n","import React, { useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport InputBox from 'components/InputBox';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport Spinner from 'components/Spinner';\nimport moment from 'moment';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst Container = styled.div`\n  padding: 15px;\n`;\n\nconst Content = ({ isLoading, duringTime, setDurintTime }) => {\n  const [isTimePickerModalVisible, setIsTimePickerModalVisible] = useState(false);\n  const handleHideTimePickerModal = useCallback(() => {\n    setIsTimePickerModalVisible(false);\n  }, []);\n  const handleShowTimePickerModal = useCallback(() => {\n    setIsTimePickerModalVisible(true);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const hhmmTime = moment(value, 'HH:mm:ss').format('HH:mm');\n    const hour = parseInt(hhmmTime.split(':')[0], 10);\n    const minutes = parseInt(hhmmTime.split(':')[1], 10);\n    setDurintTime(hour * 60 + minutes);\n    setIsTimePickerModalVisible(false);\n  }, [setDurintTime]);\n  const value = moment('00:00:00', 'HH:mm:ss').add(duringTime, 'minutes').format('HH時mm分').toString();\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n  return (\n    <>\n      <Container>\n        <InputBox\n          title=\"停留時間\"\n          value={value}\n          readonly\n          handleOnClick={handleShowTimePickerModal}\n        />\n\n      </Container>\n      <Modal\n        id=\"TimePicker\"\n        optionStyle={modalStyle}\n        isVisible={isTimePickerModalVisible}\n        heightGrowing\n      >\n        <TimePicker\n          startTime={moment('00:00:00', 'HH:mm:ss').add(duringTime, 'minutes').format('HH:mm').toString()}\n          handleOnCancel={handleHideTimePickerModal}\n          handleOnOk={handleOnPickerCheck}\n        />\n      </Modal>\n    </>\n  );\n};\n\nContent.propTypes = {\n  duringTime: PropTypes.number,\n  isLoading: PropTypes.bool,\n  setDurintTime: PropTypes.func,\n};\n\nexport default Content;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, fromJS } from 'immutable';\nimport Modal from 'components/Modal';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  submitUpdateProject,\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport {\n  selectProjects,\n  selectCreateSpotMeta,\n  selectCreatedSpotId,\n} from 'containers/Spotlight/selectors';\nimport message from 'antd/lib/message';\n\nimport Header from './Header';\nimport Content from './Content';\n\nconst modalStyle = {\n  height: '100%',\n  width: '100%',\n  background: 'white',\n};\n\n\nconst AddCreatedSpotToProjectPlanPage = ({\n  match,\n  location,\n  isVisible,\n  setIsVisible,\n  projects,\n  createSpotMeta,\n  createdSpotId,\n  handleFetchOwnProjects,\n  handleSubmitUpdateProject,\n}) => {\n  const isLoaded = createSpotMeta.get('isLoaded');\n  const isLoading = createSpotMeta.get('isLoading');\n  const [duringTime, setDurintTime] = useState(120);\n  const { projectId } = match.params;\n  useEffect(() => {\n    if (!projects.get(projectId.toString())) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  const handleGoBack = useCallback(() => {\n    setIsVisible(false);\n  }, []);\n  const handleCheck = useCallback(() => {\n    if (duringTime <= 0) {\n      message.error('時間格式錯誤');\n    }\n    const { afterIndex } = location.state;\n    const searchParams = new URLSearchParams(location.search);\n    const day = parseInt(searchParams.get('day'), 10);\n    const plan = projects.getIn([projectId.toString(), 'plan']);\n    const updatedPlan = plan.updateIn([day - 1, 'arrange'], (arrange) => {\n      const createdSpot = fromJS({\n        spot_id: createdSpotId,\n        during: duringTime,\n      });\n      return arrange.insert(parseInt(afterIndex, 10), createdSpot);\n    });\n    handleSubmitUpdateProject(projectId, fromJS({\n      plan: updatedPlan,\n    }));\n    setIsVisible(false);\n    history.replace({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: location.search,\n    });\n  }, [match, location, projects, duringTime, createdSpotId]);\n\n  return (\n    <Modal\n      id=\"AddCreatedSpotToProjectPlanPage\"\n      optionStyle={modalStyle}\n      isVisible={isVisible}\n    >\n      <Header\n        handleGoBack={handleGoBack}\n        handleCheck={handleCheck}\n        isLoaded={isLoaded}\n      />\n      <Content\n        duringTime={duringTime}\n        setDurintTime={setDurintTime}\n        setIsVisible={setIsVisible}\n        isLoading={isLoading}\n      />\n    </Modal>\n  );\n};\n\nAddCreatedSpotToProjectPlanPage.propTypes = {\n  match: PropTypes.object,\n  location: PropTypes.object,\n  isVisible: PropTypes.bool,\n  projects: PropTypes.instanceOf(Map),\n  createSpotMeta: PropTypes.instanceOf(Map),\n  createdSpotId: PropTypes.number,\n  setIsVisible: PropTypes.func,\n  handleFetchOwnProjects: PropTypes.func,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\n\nconst mapStateToProps = createStructuredSelector({\n  projects: selectProjects(),\n  createSpotMeta: selectCreateSpotMeta(),\n  createdSpotId: selectCreatedSpotId(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddCreatedSpotToProjectPlanPage);\n","import styled from 'styled-components';\nimport {\n  HeaderContainer as StyledHeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  HEIGHT_HEADER,\n  MAX_WIDTH,\n} from 'Styled/Settings/constants';\n\nexport const Container = styled.div`\n  padding-top: ${HEIGHT_HEADER}px;\n`;\n\nexport const HeaderContainer = styled(StyledHeaderContainer)`\n  height: ${HEIGHT_HEADER}px;\n  background-color: #F9D94A;\n  font-weight: bold;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n\nexport const ContentContainer = styled.div`\n  overflow-y: auto;\n  height: calc(100vh - ${HEIGHT_HEADER}px);\n`;\n\nexport const Cover = styled.div`\n  position: relative;\n  height: 200px;\n  ${(props) => {\n    if (props.coverImage) {\n      return `\n      background-image: url(${props.coverImage});\n      background-size: cover;\n      `;\n    }\n    return 'background-color: #eee;';\n  }}\n  color: #707070;\n  font-size: 18px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 43px;\n`;\n\nexport const DefaultImage = styled.img`\n  display: block;\n  margin: 0 auto 15px;\n`;\n\nexport const UploadImageButton = styled.button`\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  margin: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  appearance: none;\n  border: 0;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  cursor: pointer;\n  outline: none;\n  .upload-image-button__image-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nexport const Fields = styled.div`\n  padding: 15px;\n`;\n\nexport const Field = styled.div`\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0;\n  display: flex;\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n\nexport const FieldName = styled.div`\n  color: #333333;\n  font-size: 14px;\n  font-weight: bold;\n  flex-basis: 25%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const TextInput = styled.input`\n  color: #AAAAAA;\n  font-size: 14px;\n  background-color: transparent;\n  appearance: none;\n  outline: none;\n  border: 0;\n  flex-basis: 75%;\n\n  &::placeholder {\n    color: #AAAAAA;\n  }\n`;\n\nexport const TextArea = styled.textarea`\n  color: #AAAAAA;\n  font-size: 14px;\n  background-color: transparent;\n  appearance: none;\n  outline: none;\n  border: 0;\n  height: 78px;\n  flex-basis: 75%;\n\n  &::placeholder {\n    color: #AAAAAA;\n  }\n`;\n\nexport const Select = styled.select`\n  appearance: none;\n  background-color: transparent;\n  border: 0;\n  color: #AAAAAA;\n  flex-grow: 1;\n  outline: 0;\n`;\n\nexport const ArrowIcon = styled.i`\n  flex-shrink: 0;\n  margin-right: 20px;\n  font-size: 18px;\n  color: #333333;\n`;\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from 'containers/Spotlight/Header/Styled';\nimport { submitCreateSpot } from 'containers/Spotlight/actions';\nimport { ZONES } from 'containers/Spotlight/constants';\nimport history from 'utils/history';\n// import { PAGE_NAME } from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\nimport ModalAddCreatedSpotToProjectPlanPage from './AddCreatedSpotToProjectPlanPage';\n\nimport {\n  Container,\n  Cover,\n  DefaultImage,\n  UploadImageButton,\n  Fields,\n  Field,\n  FieldName,\n  TextInput,\n  TextArea,\n  HeaderContainer,\n  ContentContainer,\n  Select,\n  ArrowIcon,\n} from './Styled';\nimport defaultImageSrc from './default-image.svg';\nimport cameraImageSrc from './camera.svg';\n\nconst { SpotlightContext } = Context;\n\nconst CreateSpotPage = ({ match, location, handleSubmitCreateSpot }) => {\n  const [uploadImageBase64, setUploadImageBase64] = useState('');\n  const [spotName, setSpotName] = useState('');\n  const [spotZone, setSpotZone] = useState(Object.keys(ZONES)[0]);\n  const [spotAddress, setSpotAddress] = useState('');\n  const [spotPhoneNumber, setSpotPhoneNumber] = useState('');\n  const [spotUrl, setSpotUrl] = useState('');\n  const [spotNote, setSpotNote] = useState('');\n  const [isAddCreatedSpotModalVisible, setIsAddCreatedSpotModalVisible] = useState(false);\n  const inputRef = React.createRef();\n  const { setIsHeaderVisible, setIsNavVisible } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsHeaderVisible(false);\n    setIsNavVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleTriggerUpload = () => {\n    inputRef.current.click();\n  };\n  const handleReadURL = () => {\n    const inputFiles = inputRef.current.files;\n    if (inputFiles && inputFiles[0]) {\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        setUploadImageBase64(e.target.result);\n      };\n\n      reader.readAsDataURL(inputFiles[0]);\n    }\n  };\n  const handleOnSubmit = () => {\n    if (!spotName || !spotZone) {\n      message.error('景點名稱及景點地區為必填');\n      return;\n    }\n    setIsAddCreatedSpotModalVisible(true);\n    handleSubmitCreateSpot({\n      uploadImageBase64,\n      spotName,\n      spotZone,\n      spotAddress,\n      spotPhoneNumber,\n      spotUrl,\n      spotNote,\n    });\n  };\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <HeaderLeftButtons>\n          <HeaderButton onClick={() => history.goBack()}>\n            <i className=\"fas fa-arrow-left\" />\n          </HeaderButton>\n        </HeaderLeftButtons>\n        <HeaderTitle>\n          自建景點\n        </HeaderTitle>\n        <HeaderRightButtons>\n          <HeaderButton onClick={handleOnSubmit}>\n            <i className=\"fas fa-arrow-right\" />\n          </HeaderButton>\n        </HeaderRightButtons>\n      </HeaderContainer>\n      <ContentContainer>\n        <Cover coverImage={uploadImageBase64}>\n          {\n            !uploadImageBase64 &&\n            <>\n              <DefaultImage src={defaultImageSrc} />\n              請上傳景點照片\n            </>\n          }\n          <UploadImageButton type=\"file\" onClick={handleTriggerUpload}>\n            <input ref={inputRef} type=\"file\" onChange={handleReadURL} accept=\"image/*\" style={{ display: 'none' }} />\n            <img src={cameraImageSrc} alt=\"上傳照片\" />\n          </UploadImageButton>\n        </Cover>\n        <Fields>\n          <Field>\n            <FieldName>景點名稱</FieldName>\n            <TextInput\n              value={spotName}\n              placeholder=\"請輸入景點名稱\"\n              onChange={(e) => setSpotName(e.currentTarget.value)}\n            />\n          </Field>\n          <Field>\n            <FieldName>景點地區</FieldName>\n            <Select value={spotZone} onChange={(e) => setSpotZone(e.currentTarget.value)}>\n              {Object.keys(ZONES).map((zone) => (\n                <option key={zone} value={zone}>{zone}</option>\n              ))}\n            </Select>\n            <ArrowIcon className=\"fas fa-caret-right\" />\n          </Field>\n          <Field>\n            <FieldName>景點地址</FieldName>\n            <TextInput\n              value={spotAddress}\n              placeholder=\"請輸入具體地址\"\n              onChange={(e) => setSpotAddress(e.currentTarget.value)}\n            />\n          </Field>\n          <Field>\n            <FieldName>電話</FieldName>\n            <TextInput\n              value={spotPhoneNumber}\n              onChange={(e) => setSpotPhoneNumber(e.currentTarget.value)}\n            />\n          </Field>\n          <Field>\n            <FieldName>網址</FieldName>\n            <TextInput\n              value={spotUrl}\n              onChange={(e) => setSpotUrl(e.currentTarget.value)}\n            />\n          </Field>\n          <Field>\n            <FieldName>景點備註</FieldName>\n            <TextArea\n              value={spotNote}\n              onChange={(e) => setSpotNote(e.currentTarget.value)}\n              placeholder=\"可以寫上與景點有關資訊。例如遊玩方式、交通轉乘資訊或是景點相關簡介等等。\"\n            />\n          </Field>\n        </Fields>\n      </ContentContainer>\n      <ModalAddCreatedSpotToProjectPlanPage\n        match={match}\n        location={location}\n        isVisible={isAddCreatedSpotModalVisible}\n        setIsVisible={setIsAddCreatedSpotModalVisible}\n      />\n    </Container>\n  );\n};\n\nCreateSpotPage.propTypes = {\n  handleSubmitCreateSpot: PropTypes.func.isRequired,\n  match: PropTypes.object,\n  location: PropTypes.object,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateSpot: (spot) => dispatch(submitCreateSpot({\n    name: spot.spotName,\n    zone: spot.spotZone,\n    describe: spot.spotNote,\n    tel: spot.spotPhoneNumber,\n    website: spot.spotUrl,\n    address: spot.spotAddress,\n    pic1: spot.uploadImageBase64.split('base64,')[1],\n  })),\n});\n\nexport default connect(null, mapDispatchToProps)(CreateSpotPage);\n","import imageBuilding from 'containers/Spotlight/Content/ArticlesPage/photo/buildings-1846728_640@3x.png';\nimport imageSleepCat from 'containers/Spotlight/Content/ArticlesPage/photo/taiwan-667563_640@3x.png';\n\nimport imageYehliu from 'containers/Spotlight/Content/ArticlesPage/photo/yehliu-geopark-257886_640@3x.png';\nimport imageTofu from 'containers/Spotlight/Content/ArticlesPage/photo/taiwan-1057813_640@3x.png';\nimport imageCow from 'containers/Spotlight/Content/ArticlesPage/photo/chingtienkang-1784872_640@3x.png';\n\nexport const articles = [\n  {\n    id: 0,\n    title: '象山好風景！',\n    content: '今天是美好的一天，早晨朦朧的陽光灑在青青的草地上，彷彿綠色畫布上油墨的驚然一撇。',\n    timestamp: '2019/05/11 15:26',\n    images: [\n      imageBuilding,\n      imageSleepCat,\n    ],\n  },\n  {\n    id: 1,\n    title: '野柳 - 郊外踏青好去處',\n    content: '野柳是北海岸的著名觀光景點之一，現在的規劃也是非常好,趁著假日天氣好來這邊玩，私密景點跟美食這邊偷偷告訴你...',\n    timestamp: '2019/04/28 11:54',\n    images: [\n      imageYehliu,\n      imageTofu,\n      imageCow,\n    ],\n  },\n];\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst CardContainer = styled.div`\n  box-shadow: 0px 3px 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n  margin-bottom: 10px;\n  padding: 10px;\n  .article-card__title {\n    color: #333333;\n    font-size: 16px;\n    font-weight: 500;\n  }\n  .article-card__timestamp {\n    font-size: 12px;\n    color: #AAAAAA;\n  }\n  .article-card__content {\n    font-size: 12px;\n    color: #333333;\n    margin: 5px 0px;\n  }\n  .article-card__images-wrapper {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    justify-content: space-between;\n    grid-gap: 5px;\n    width: 100%;\n  }\n  .article-card__image {\n  }\n`;\n\nconst Image = styled.div`\n  background-image: url(${(props) => props.imagePath});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 100px;\n  width: auto;\n`;\n\nconst Card = ({\n  title,\n  content,\n  timestamp,\n  images,\n}) => (\n  <CardContainer>\n    <div className=\"article-card__title\">{title}</div>\n    <div className=\"article-card__timestamp\">{timestamp}</div>\n    <div className=\"article-card__content\">{content}</div>\n    <div className=\"article-card__images-wrapper\">\n      {\n        images.map((imagePath, index) => (\n          <Image\n            key={`${imagePath}-${index}`}\n            imagePath={imagePath}\n          />\n        ))\n      }\n    </div>\n  </CardContainer>\n);\n\nCard.propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  timestamp: PropTypes.string,\n  images: PropTypes.array,\n};\n\nCard.defaultProps = {\n  title: '',\n  content: '',\n  timestamp: '',\n  images: [],\n};\n\nexport default Card;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { articles } from './mockData';\nimport Card from './Card';\n\nconst Container = styled.div`\n  padding: 14px 15px;\n`;\n\nconst ArticlesPage = () => (\n  <Container>\n    {\n      articles.map((article) => (\n        <Card\n          key={article.id}\n          title={article.title}\n          content={article.content}\n          timestamp={article.timestamp}\n          images={article.images}\n        />\n      ))\n    }\n  </Container>\n);\n\nexport default ArticlesPage;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  padding: 0 15px;\n`;\n\nexport const UserImage = styled.img`\n  width: 40px;\n  height: 40px;\n  object-fit: contain;\n  border-radius: 50%;\n  margin-right: 10px;\n`;\n\nexport const Row = styled.div`\n  padding: 15px 0;\n  display: flex;\n  align-items: center;\n\n  &:not(:last-child) {\n    border-bottom: solid 1px #DFDFDF;\n  }\n`;\n\nexport const UserName = styled.div`\n  color: #333333;\n  font-weight: bold;\n  font-size: 14px;\n`;\n\nexport const Comment = styled.div`\n  color: #333333;\n  font-size: 14px;\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\n\nimport Spinner from 'components/Spinner';\nimport { fetchProjects } from 'containers/Spotlight/actions';\nimport { selectProjects } from 'containers/Spotlight/selectors';\n\nimport {\n  Container,\n  UserImage,\n  UserName,\n  Comment,\n  Row,\n} from './Styled';\n\nconst CommentPage = ({\n  match,\n  handleFetchProjects,\n  projects,\n}) => {\n  const { projectId } = match.params;\n  const comments = projects.getIn([projectId, 'comments']);\n\n  useEffect(() => {\n    if (!comments) {\n      handleFetchProjects();\n    }\n  }, []);\n\n  if (!comments) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container>\n      {comments.map((comment, i) => (\n        <Row key={i}>\n          <UserImage src={comment.get('userImage')} alt={comment.get('userName')} />\n          <div>\n            <UserName>{comment.get('userName')}</UserName>\n            <Comment>{comment.get('comment')}</Comment>\n          </div>\n        </Row>\n      ))}\n    </Container>\n  );\n};\n\nCommentPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  handleFetchProjects: PropTypes.func.isRequired,\n  projects: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  projects: selectProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchProjects: () => dispatch(fetchProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentPage);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Content/PersonalPage/SettingPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Content/PlanningPage/CreateProjectPage';\nimport AddSpotToPlanPage from 'containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage';\nimport SettingSpotCardPage from 'containers/Spotlight/Content/PlanningPage/SettingSpotCardPage';\nimport UpdatingSpotCardPage from 'containers/Spotlight/Content/PlanningPage/UpdatingSpotCardPage';\nimport EditPlanningDayPage from 'containers/Spotlight/Content/PlanningPage/EditPlanningDayPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Content/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Content/AddSpotToProjectPlanPage';\nimport TravelerPage from 'containers/Spotlight/Content/TravelerPage';\nimport CreateSpotPage from 'containers/Spotlight/Content/CreateSpotPage';\nimport ArticlesPage from 'containers/Spotlight/Content/ArticlesPage';\nimport CommentPage from 'containers/Spotlight/Content/CommentPage';\n\nexport const routePathConfig = {\n  loginPagePath: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE.name}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING.name}`,\n  articlesPagePath: `/${PAGE_NAME.ARTICLES.name}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL.name}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE.name}`,\n  settingPath: `/${PAGE_NAME.SETTING.name}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING.name}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING.name}/:projectId`,\n  addSpotToPlanPagePath: `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/:projectId`,\n  settingSpotCardPagePath: `/${PAGE_NAME.SETTING_SPOT_CARD.name}/:projectId`,\n  updatingSpotCardPagePath: `/${PAGE_NAME.UPDATING_SPOT_CARD.name}/:projectId`,\n  editPlanningDayPagePath: `/${PAGE_NAME.EDIT_PLANNING_DAY.name}/:projectId`,\n  createProjectPagePath: `/${PAGE_NAME.CREATE_PROJECT.name}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId`,\n  addSpotToProjectPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`,\n  addSpotToProjectPlanPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}/:projectId`,\n  travelerPagePath: `/${PAGE_NAME.TRAVELER.name}/:userId`,\n  createSpotPath: `/${PAGE_NAME.CREATE_SPOT.name}/:projectId`,\n  commentPath: `/${PAGE_NAME.COMMENT.name}/:projectId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.articlesPagePath} component={ArticlesPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.settingSpotCardPagePath} component={SettingSpotCardPage} />\n      <Route exact path={routePathConfig.updatingSpotCardPagePath} component={UpdatingSpotCardPage} />\n      <Route exact path={routePathConfig.editPlanningDayPagePath} component={EditPlanningDayPage} />\n      <Route exact path={routePathConfig.addSpotToPlanPagePath} component={AddSpotToPlanPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n      <Route exact path={routePathConfig.travelerPagePath} component={TravelerPage} />\n      <Route exact path={routePathConfig.createSpotPath} component={CreateSpotPage} />\n      <Route exact path={routePathConfig.commentPath} component={CommentPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport ArticlesPage from 'containers/Spotlight/Header/ArticlesPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Header/PersonalPage/SettingPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Header/PlanningPage/CreateProjectPage';\nimport AddSpotToPlanPage from 'containers/Spotlight/Header/PlanningPage/AddSpotToPlanPage';\nimport SettingSpotCardPage from 'containers/Spotlight/Header/PlanningPage/SettingSpotCardPage';\nimport EditPlanningDayPage from 'containers/Spotlight/Header/PlanningPage/EditPlanningDayPage';\nimport UpdatingSpotCardPage from 'containers/Spotlight/Header/PlanningPage/UpdatingSpotCardPage';\nimport SpotPage from 'containers/Spotlight/Header/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Header/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Header/AddSpotToProjectPlanPage';\nimport TravelerPage from 'containers/Spotlight/Header/TravelerPage';\nimport CommentPage from 'containers/Spotlight/Header/CommentPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.articlesPagePath} component={ArticlesPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.settingSpotCardPagePath} component={SettingSpotCardPage} />\n      <Route exact path={routePathConfig.editPlanningDayPagePath} component={EditPlanningDayPage} />\n      <Route exact path={routePathConfig.updatingSpotCardPagePath} component={UpdatingSpotCardPage} />\n      <Route exact path={routePathConfig.addSpotToPlanPagePath} component={AddSpotToPlanPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n      <Route exact path={routePathConfig.travelerPagePath} component={TravelerPage} />\n      <Route exact path={routePathConfig.commentPagePath} component={CommentPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: ${(props) => props.theme.mainColor};\n  font-weight: 600;\n  color: rgba(51, 51, 51, 1);\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst setNavTabActive = (isActive) => (isActive ? 'nav-tab__active' : '');\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n    background-image: url(${(props) => props.iconPath.normal});\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    &:hover {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n    &:active {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n  }\n  .nav-tab__active {\n    background-image: url(${(props) => props.iconPath.hover});\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    page,\n    iconPath,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  };\n  const isActive = window.location.pathname.includes(page.name);\n  const { t } = useTranslation();\n  return (\n    <NavTabWrapper iconPath={iconPath} data-page-path={page.name} onClick={handleRedirect}>\n      <div className={`nav-tab__image ${setNavTabActive(isActive)}`} />\n      <div>{t(`navigation:${page.text}`)}</div>\n    </NavTabWrapper>\n  );\n};\n\nNavTab.propTypes = {\n  page: PropTypes.object.isRequired,\n  iconPath: PropTypes.object.isRequired,\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\nimport {\n  NavIcon,\n} from 'containers/Spotlight/constants';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.16);\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab page={PAGE_NAME.EXPLORE} iconPath={NavIcon.explore} />\n    <NavTab page={PAGE_NAME.PLANNING} iconPath={NavIcon.planning} />\n    <NavTab page={PAGE_NAME.ARTICLES} iconPath={NavIcon.articles} />\n    <NavTab page={PAGE_NAME.TRAVEL_WALL} iconPath={NavIcon.travelWall} />\n    <NavTab page={PAGE_NAME.PERSONAL_PAGE} iconPath={NavIcon.personal} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n  MAX_WIDTH,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  max-width: ${MAX_WIDTH}px;\n  margin: 0 auto;\n  ${(props) => (`\n    grid-template-rows:\n      ${props.isHeaderVisible ? HEIGHT_HEADER : 0}px\n      auto\n      ${props.isNavVisible ? HEIGHT_NAVIGATION : 0}px\n    ;\n  `)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    display: flex;\n    justify-content: center;\n    position: fixed;\n    width: 100%;\n    max-width: ${MAX_WIDTH}px;\n    bottom: 0;\n    background-color: white;\n    z-index: 1;\n    height: ${HEIGHT_NAVIGATION}px;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchLoginStatus,\n} from './actions';\nimport {\n  selectLoginStatusMeta,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  handleFetchLoginStatus,\n  loginStatusMeta,\n}) => {\n  useEffect(() => {\n    if (!loginStatusMeta.get('isLoading')) {\n      handleFetchLoginStatus();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible, isHeaderVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible} isHeaderVisible={isHeaderVisible}>\n              {\n                isHeaderVisible &&\n                <div className=\"spot-light__header-container\">\n                  <Header />\n                </div>\n              }\n              <div className=\"spot-light__content-container\">\n                {\n                  (loginStatusMeta.get('isLoading'))\n                    ? <Spinner />\n                    : <Content />\n                }\n              </div>\n              {\n                isNavVisible &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  handleFetchLoginStatus: PropTypes.func.isRequired,\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nSpotlight.defaultProps = {\n};\n\nconst mapStateToProps = createStructuredSelector({\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchLoginStatus: () => dispatch(fetchLoginStatus()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Spotlight));\n","import React from 'react';\nimport { Router } from 'react-router';\nimport Spotlight from 'containers/Spotlight/';\nimport history from './utils/history';\nimport './App.css';\n\nconst App = () => (\n  <Router history={history}>\n    <Spotlight />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport en from './en';\nimport zhHant from './zh-Hant';\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources: {\n      en,\n      'zh-Hant': zhHant,\n    },\n    lng: 'en',\n    fallbackLng: 'en',\n\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\n\nexport default i18n;\n","export default {\n  translation: {\n    chooseCounty: 'choose county',\n    searchForSpot: 'search for spot',\n    favoriteWithCount: '{{count}} person likes',\n    favoriteWithCount_plural: '{{count}} people like',\n    skip: 'skip',\n    wantToGo: 'like',\n    noSpotFound: 'No spots were found.  >\"<',\n    南部縣市: 'southern city',\n    中部縣市: 'central city',\n    北部縣市: 'northern city',\n    東部縣市: 'eastern city',\n    外島縣市: 'island city',\n    基隆市: 'Keelung City',\n    臺北市: 'Taipei City',\n    新北市: 'New Taipei City',\n    桃園市: 'Taoyuan City',\n    新竹市: 'Hsinchu City',\n    新竹縣: 'Hsinchu County',\n    苗栗縣: 'Miaoli County',\n    南投縣: 'Nantou County',\n    臺中市: 'Taichung City',\n    彰化縣: 'Changhua County',\n    雲林縣: 'Yunlin County',\n    嘉義市: 'Chiayi City',\n    嘉義縣: 'Chiayi County',\n    臺南市: 'Tainan City',\n    高雄市: 'Kaohsiung City',\n    屏東縣: 'Pingtung County',\n    宜蘭縣: 'Yilan County',\n    花蓮縣: 'Hualien County',\n    臺東縣: 'Taitung County',\n    連江縣: 'Lianjiang County',\n    金門縣: 'Jinmen County',\n    澎湖縣: 'Penghu County',\n    chooseAtMost5: 'choose at most 5!',\n    探索景點: 'Explore spot',\n    旅遊牆: 'Posts',\n    計劃旅程: 'Plan',\n    遊記: 'Articles',\n    我的: 'Me',\n    設定: 'Setting',\n    一般設定: 'General Setting',\n    登出: 'Log Out',\n  },\n  navigation: {\n    探索景點: 'explore',\n    計劃旅程: 'plan',\n    遊記: 'articles',\n    旅遊牆: 'posts',\n    我的: 'me',\n  },\n};\n","export default {\n  translation: {\n    chooseCounty: '縣市選擇',\n    searchForSpot: '搜尋景點關鍵字',\n    favoriteWithCount: '{{count}}人收藏',\n    favoriteWithCount_plural: '{{count}}人收藏',\n    skip: '跳過',\n    wantToGo: '想去',\n    noSpotFound: '找不到景點  >\"<',\n    南部縣市: '南部縣市',\n    中部縣市: '中部縣市',\n    北部縣市: '北部縣市',\n    東部縣市: '東部縣市',\n    外島縣市: '外島縣市',\n    基隆市: '基隆市',\n    臺北市: '臺北市',\n    新北市: '新北市',\n    桃園市: '桃園市',\n    新竹市: '新竹市',\n    新竹縣: '新竹縣',\n    苗栗縣: '苗栗縣',\n    南投縣: '南投縣',\n    臺中市: '臺中市',\n    彰化縣: '彰化縣',\n    雲林縣: '雲林縣',\n    嘉義市: '嘉義市',\n    嘉義縣: '嘉義縣',\n    臺南市: '臺南市',\n    高雄市: '高雄市',\n    屏東縣: '屏東縣',\n    宜蘭縣: '宜蘭縣',\n    花蓮縣: '花蓮縣',\n    臺東縣: '臺東縣',\n    連江縣: '連江縣',\n    金門縣: '金門縣',\n    澎湖縣: '澎湖縣',\n    chooseAtMost5: '最多可選 5 個！',\n    探索景點: '探索景點',\n    計劃旅程: '計劃旅程',\n    遊記: '我的遊記',\n    旅遊牆: '旅遊牆',\n    我的: '我的',\n    設定: '設定',\n    一般設定: '一般設定',\n    登出: '登出',\n  },\n  navigation: {\n    探索景點: '探索景點',\n    計劃旅程: '計劃旅程',\n    遊記: '遊記',\n    旅遊牆: '旅遊牆',\n    我的: '我的',\n  },\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport store from 'store';\nimport { defaultTheme } from 'Styled/Settings/colors';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './i18n';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={defaultTheme}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/check_icon.8abe62d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_left_icon.dbcf3f98.svg\";"],"sourceRoot":""}