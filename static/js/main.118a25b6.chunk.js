(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,n){e.exports=n(561)},523:function(e,t,n){},559:function(e,t,n){},561:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(26),i=n.n(o),l=n(28),u=n(57),p=n(150),s=n(13),d=n(110),f=n(203),m=n(111),g=function(e){return e.set("isLoading",!0).set("isLoaded",!1).set("error",null)},v=function(e){return e.set("isLoading",!1).set("isLoaded",!0).set("error",null)},h=function(e){return e.set("isLoading",!1).set("isLoaded",!1).set("error",!0)},b=(a={},Object(m.a)(a,"isLoading",!1),Object(m.a)(a,"isLoaded",!1),Object(m.a)(a,"error",null),a),_="".concat("spotlight","/INIT"),E="".concat("spotlight","/FETCH_SPOT_BY_ID"),j="".concat("spotlight","/SET_SPOT_LOADING"),x="".concat("spotlight","/SET_SPOT_DONE"),O="".concat("spotlight","/FETCH_SPOTS"),y="".concat("spotlight","/SET_SPOTS_LOADING"),w="".concat("spotlight","/SET_SPOTS_DONE"),P="".concat("spotlight","/LOGIN"),S="".concat("spotlight","/SET_LOGIN_LOADING"),N="".concat("spotlight","/SET_LOGIN_DONE"),k="".concat("spotlight","/FETCH_LOGIN_STATUS"),M="".concat("spotlight","/SET_LOGIN_STATUS_LOADING"),T="".concat("spotlight","/SET_LOGIN_STATUS_DONE"),C="".concat("spotlight","/REGISTER"),I="".concat("spotlight","/SET_REGISTER_LOADING"),D="".concat("spotlight","/SET_REGISTER_DONE"),z="".concat("spotlight","/EXPLORE_NEXT_SPOT"),R="".concat("spotlight","/SET_EXPLORING_SPOT_ID"),L="".concat("spotlight","/FETCH_OWN_PROJECTS"),Y="".concat("spotlight","/SET_OWN_PROJECTS_LOADING"),A="".concat("spotlight","/SET_OWN_PROJECTS_DONE"),F="".concat("spotlight","/SUBMIT_CREATE_PROJECT"),J="".concat("spotlight","/CREATE_PROJECT_LOADING"),B="".concat("spotlight","/CREATE_PROJECT_DONE"),G="".concat("spotlight","/SUBMIT_DELETE_PROJECT"),U="".concat("spotlight","/DELETE_PROJECT_LOADING"),V="".concat("spotlight","/DELETE_PROJECT_DONE"),q="".concat("spotlight","/LIKE_SPOT"),H="".concat("spotlight","/SET_LIKE_SPOT_DONE"),W="".concat("spotlight","/FETCH_FAVORITE_SPOT_IDS"),Z="".concat("spotlight","/SET_FAVORITE_SPOT_IDS_LOADING"),K="".concat("spotlight","/SET_FAVORITE_SPOT_IDS_DONE"),X={name:"",start_day:"",tot_days:0},$=("\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_")),Q=Object(s.fromJS)({setSpotMeta:b,setSpotsMeta:b,spots:{},spotsResult:[],loginMeta:b,registerMeta:b,loginStatusMeta:b,ownProjectsMeta:b,createProjectMeta:b,deleteProjectMeta:b,user:null,ownProjects:[],exploringSpotId:0,setFavoriteSpotIdsMeta:b,favoriteSpotIds:[]});var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return e.update("setSpotMeta",g);case x:var n=t.payload,a=n.error,r=n.spot;return a?e.update("setSpotMeta",h):r?e.mergeDeepIn(["spots",r.spot_id],Object(s.fromJS)(r)).update("setSpotMeta",v):e.update("setSpotMeta",v);case y:return e.update("setSpotsMeta",g);case w:var c=t.payload,o=c.error,i=c.entities,l=c.result;return o?e.update("setSpotsMeta",h):e.mergeDeepIn(["spots"],Object(s.fromJS)(i.spots)).set("spotsResult",Object(s.fromJS)(l)).update("setSpotsMeta",v).set("exploringSpotId",l[0]);case S:return e.update("loginMeta",g);case N:var u=t.payload,p=u.error,d=u.user;return p?e.set("user",null).update("loginMeta",h):e.set("user",d&&Object(s.fromJS)(d)).update("loginMeta",null===d?h:v);case I:return e.update("registerMeta",g);case D:var f=t.payload,m=f.error,b=f.user;return m?e.set("user",null).update("registerMeta",h):e.set("user",b&&Object(s.fromJS)(b)).update("registerMeta",null===b?h:v);case M:return e.update("loginStatusMeta",g);case T:var _=t.payload,E=_.error,O=_.user;return E?e.set("user",null).update("loginStatusMeta",h):e.set("user",O&&Object(s.fromJS)(O)).update("loginStatusMeta",v);case R:return e.set("exploringSpotId",t.payload);case Y:return e.update("ownProjectsMeta",g);case A:var P=t.payload,k=P.error,C=P.ownProjects;return k?e.update("ownProjectsMeta",h):e.set("ownProjects",Object(s.fromJS)(C)).update("ownProjectsMeta",v);case J:return e.update("createProjectMeta",g);case B:return t.payload.error?e.update("createProjectMeta",h):e.update("createProjectMeta",v);case U:return e.update("deleteProjectMeta",g);case V:return t.payload.error?e.update("deleteProjectMeta",h):e.update("deleteProjectMeta",v);case H:var z=t.payload,L=z.error,F=z.id;return L?e:e.updateIn(["spots",String(F),"like_num"],function(e){return e+1});case Z:return e.update("setFavoriteSpotIdsMeta",g);case K:var G=t.payload,q=G.error,W=G.ids;return q?e.update("setFavoriteSpotIdsMeta",h):e.set("favoriteSpotIds",Object(s.fromJS)(W)).update("setFavoriteSpotIdsMeta",h);default:return e}};var te=n(208),ne=n(565),ae=n(566),re=n(209),ce=n(112),oe=(n(230),n(89)),ie=n(31),le=n(174),ue=n(53),pe=n(21),se=function(e){if("undefined"===typeof localStorage)return"";if(!e)throw new Error("should provide a valid key");try{return JSON.parse(localStorage.getItem(e))}catch(t){console.warn(t)}return""},de=function(e){if("undefined"!==typeof localStorage)try{localStorage.removeItem(e)}catch(t){console.warn(t)}},fe=function(){return se("token")},me=function(){de("token"),de("user")},ge="APP_API_STATUS",ve=(new Headers({"Content-Type":"application/json"}),function(e){return{type:ge,payload:e}});function he(e){this.action=e,this.name="ActionException"}var be=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return oe.a.apply(void 0,[e.action].concat(n))},_e=function(e){return e instanceof FormData},Ee=function(e){if(e instanceof he)throw e;throw navigator.onLine?new he(ve(503)):new he(ve(420))},je=function(e){return xe(e)},xe=function(e){var t=e.method,n=e.url,a=e.data,r=e.options,c=e.download,o=void 0!==c&&c,i=function(e,t,n){var a={method:e,headers:new Headers(t)};return"get"===e.toLowerCase()?a:_e(n)?Object(ce.a)({},a,{body:n}):{method:e,headers:new Headers(t),body:JSON.stringify(n)}}(t,function(e,t){var n={Authorization:fe()};return _e(e)||(n=Object(ce.a)({},n,{"Content-Type":"application/json"})),"undefined"!==typeof t&&t&&(n=Object(ce.a)({},n,t.headers)),n}(a,r),a),l=function(e,t,n,a){var r="".concat(ye(a)).concat(t);return n&&"get"===e.toLowerCase()&&(r="".concat(r).concat(Oe(n))),r}(t,n,a,r);return Object(ie.a)(fetch(l,i).then(function(e){if(401===e.status)throw new he({type:(me(),ge),payload:401});if(e.status>=500)throw new he(ve(e.status));return e})).pipe(Object(le.a)(Ee),Object(ue.a)(function(e){return o?Object(ie.a)(e.blob()):Object(ie.a)(e.json())}),Object(pe.a)(function(e){if(o)return e;if(e.code)throw new he({type:"APP_ERROR_CODE",payload:e});return e}))},Oe=function(e){if("undefined"===typeof e||!e)return"";var t=Object.keys(e).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&");return t?"?".concat(t):""},ye=function(e){if("undefined"===typeof e||!e)return"/api";var t=e.customPrefix;e.isAdmin;return t||"/api"},we=n(204),Pe=n(205),Se=n(77),Ne=n(176),ke=n(61),Me=n.n(ke),Te=n(151),Ce=new Te.b.Entity("spots",{},{idAttribute:"spot_id"}),Ie=new Te.b.Array(Ce),De=function(e,t){return{type:x,payload:{error:e,spot:t}}},ze=function(e,t){return{type:w,payload:Object(ce.a)({error:e},Object(Te.a)(t,Ie))}},Re=function(e,t){return{type:N,payload:{error:e,user:t}}},Le=function(e,t){return{type:D,payload:{error:e,user:t}}},Ye=function(e,t){return{type:T,payload:{error:e,user:t}}},Ae=function(){return{type:z}},Fe=function(e){return{type:R,payload:e}},Je=function(){return{type:L}},Be=function(e,t){return{type:A,payload:{error:e,ownProjects:t}}},Ge=function(e,t){return{type:B,payload:{error:e,user:t}}},Ue=function(e){return{type:G,payload:{projectId:e}}},Ve=function(e){return{type:V,payload:{error:e}}},qe=function(e,t){return{type:H,payload:{error:e,id:t}}},He=function(e,t){return{type:K,payload:{error:e,ids:t}}},We=function(e){return"string"===typeof e&&e.length>0?"kw=".concat(e):""},Ze=function(e){return e.map(function(e){return"zone=".concat(e)}).join("&")},Ke=function(e){var t=e.zones,n=e.keyword,a=[We(n),Ze(t)].filter(function(e){return""!==e}).join("&");return a.length>0?"?".concat(a):""},Xe=[function(e){return e.ofType(_).switchMap(function(){return we.Observable.empty()})},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(L),Object(Se.a)(function(){return a({method:"get",url:"/own/projs"}).pipe(Object(ue.a)(function(e){return Object(oe.a)(Be(null,e.content))}),Object(le.a)(function(e){return r(e,Be(e))}),Object(Ne.a)({type:Y}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(E),Object(Se.a)(function(e){return a({method:"get",url:"/spot/".concat(e.payload.id)}).pipe(Object(ue.a)(function(e){return Object(oe.a)(De(null,e.content))}),Object(le.a)(function(e){return r(e,De(e))}),Object(Ne.a)({type:j}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(O),Object(Se.a)(function(e){return a({method:"get",url:"/spots".concat(Ke({zones:e.payload.zones,keyword:e.payload.kw}))}).pipe(Object(ue.a)(function(e){return Object(oe.a)(ze(null,e.content))}),Object(le.a)(function(e){return r(e,ze(e))}),Object(Ne.a)({type:y}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(P),Object(Se.a)(function(e){return a({method:"post",url:"/login",data:e.payload}).pipe(Object(ue.a)(function(e){var t="success"===e.status?{name:e.content.user}:null;return Object(oe.a)(Re(null,t))}),Object(le.a)(function(e){return r(e,Re(e))}),Object(Ne.a)({type:S}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(C),Object(Se.a)(function(e){return a({method:"post",url:"/register",data:e.payload}).pipe(Object(ue.a)(function(t){var n="success"===t.status?{name:e.payload.acc}:null;return Object(oe.a)(Le(null,n))}),Object(le.a)(function(e){return r(e,Le(e))}),Object(Ne.a)({type:I}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(k),Object(Se.a)(function(){return a({method:"get",url:"/check_login"}).pipe(Object(ue.a)(function(e){var t="success"===e.status?e.content:null;return Object(oe.a)(Ye(null,t))}),Object(le.a)(function(e){return r(e,Ye(e))}),Object(Ne.a)({type:M}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(F),Object(Se.a)(function(e){var t=e.payload.newProject;return a({method:"post",url:"/own/proj",data:t}).pipe(Object(ue.a)(function(e){return Me.a.success("\u5275\u5efa\u6210\u529f"),Object(oe.a)(Ge(null,e),Je())}),Object(le.a)(function(e){return Me.a.error("\u5275\u5efa\u5931\u6557"),r(e,Ge(e))}),Object(Ne.a)({type:J}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(G),Object(Se.a)(function(e){var t=e.payload.projectId;return a({method:"delete",url:"/proj/".concat(t)}).pipe(Object(ue.a)(function(){return Me.a.success("\u522a\u9664\u6210\u529f"),Object(oe.a)(Ve(null),Je())}),Object(le.a)(function(e){return Me.a.error("\u522a\u9664\u5931\u6557"),r(e,Ve(e))}),Object(Ne.a)({type:U}))}))},function(e,t,n){var a=n.request;return e.pipe(Object(Pe.a)(q),Object(ue.a)(function(e){return a({method:"post",url:"/like/spot/".concat(e.payload)}).pipe(Object(ue.a)(function(t){return Object(oe.a)("success"===t.status?qe(null,e.payload):qe(t))}))}))},function(e,t,n){var a=n.request,r=n.fetchErrorEpic;return e.pipe(Object(Pe.a)(W),Object(Se.a)(function(){return a({method:"get",url:"/like/spots"}).pipe(Object(ue.a)(function(e){return"success"===e.status?Object(oe.a)(He(null,e.content.map(function(e){return e.spot_id}))):Object(oe.a)(He(e))}),Object(le.a)(function(e){return r(e,He(e))}),Object(Ne.a)({type:Z}))}))},function(e,t){return e.pipe(Object(Pe.a)(z),Object(pe.a)(function(){var e=t.value.get("spotlight"),n=e.get("favoriteSpotIds"),a=e.get("spotsResult"),r=e.get("exploringSpotId"),c=a.slice(a.indexOf(r)+1).map(function(t){return e.getIn(["spots",String(t)])}).find(function(e){return!n.includes(e.get("spot_id"))});return Fe(c?c.get("spot_id"):r)}))}],$e=Object(p.a)(Xe);var Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=new te.BehaviorSubject(ne.a.apply(void 0,Object(p.a)($e))),a=Object(ae.a)({dependencies:{request:je,fetchErrorEpic:be}}),r=[a,Object(re.routerMiddleware)(t)],c=[d.a.apply(void 0,r)],o=d.c,i=Object(d.d)(Object(f.combineReducers)({spotlight:ee}),Object(s.fromJS)(e),o.apply(void 0,c));return a.run(function(e,t,a){return n.mergeMap(function(n){return n(e,t,a).catch(function(e,t){return setTimeout(function(){throw e},0),t})})}),i}(),et=(n(523),n(18)),tt=n(17),nt=n(5),at=n(6);function rt(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 300px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n"]);return rt=function(){return e},e}var ct=at.a.div(rt()),ot=function(){return c.a.createElement(ct,null,c.a.createElement("i",{className:"fa fa-spinner fa-spin"}))},it=function(e){return e.get("spotlight")},lt=function(){return Object(tt.a)(it,function(e){return e.get("loginStatusMeta")})},ut=function(){return Object(tt.a)(it,function(e){return e.get("ownProjects")})},pt=function(){return Object(tt.a)(it,function(e){return e.get("ownProjectsMeta")})},st=n(62),dt=Object(r.createContext)(),ft=dt.Provider,mt=dt.Consumer,gt=function(e){var t=e.children,n=function(){var e=Object(r.useState)(""),t=Object(st.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),o=Object(st.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(Object(s.fromJS)(X)),p=Object(st.a)(u,2),d=p[0],f=p[1],m=Object(r.useState)(!1),g=Object(st.a)(m,2);return{headerTitle:n,setHeaderTitle:a,isNavVisible:i,setIsNavVisible:l,newProject:d,setNewProject:f,isEditMode:g[0],setIsEditMode:g[1]}}();return c.a.createElement(ft,{value:n},t)};gt.defaultProps={children:null};var vt={SpotlightProvider:gt,SpotlightConsumer:mt,SpotlightContext:dt},ht="\u63a2\u7d22\u666f\u9ede",bt="\u8a08\u756b\u65c5\u7a0b",_t="\u65c5\u904a\u7246",Et="\u6211\u7684",jt="\u65c5\u7a0b\u5167\u5bb9",xt="\u589e\u52a0\u65c5\u7a0b",Ot="\u52a0\u5230\u6211\u7684\u884c\u7a0b",yt=function(){return"\n  width: 100%;\n  max-width: ".concat(1024,"px;\n")},wt=n(46),Pt=Object(wt.a)({basename:""});function St(){var e=Object(nt.a)(["\n  padding: 0;\n  border: 0;\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #fff;\n    background-color: transparent;\n  }\n"]);return St=function(){return e},e}function Nt(){var e=Object(nt.a)(["\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #fff;\n  }\n"]);return Nt=function(){return e},e}function kt(){var e=Object(nt.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n"]);return kt=function(){return e},e}function Mt(){var e=Object(nt.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 14px;\n"]);return Mt=function(){return e},e}function Tt(){var e=Object(nt.a)(["\n  flex-basis: 1;\n  flex-shrink: 0;\n  text-align: center;\n"]);return Tt=function(){return e},e}function Ct(){var e=Object(nt.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n  }\n  .icon-style {\n    color: white;\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n"]);return Ct=function(){return e},e}var It=at.a.div(Ct()),Dt=at.a.div(Tt()),zt=at.a.div(Mt()),Rt=at.a.div(kt()),Lt=Object(at.a)(u.b)(Nt()),Yt=at.a.button(St()),At=vt.SpotlightContext,Ft=function(){var e=Object(r.useContext)(At).setIsNavVisible;return Object(r.useEffect)(function(){return e(!1),function(){e(!0)}},[]),c.a.createElement(It,null,"\u767b\u5165")},Jt=n(149),Bt=n.n(Jt),Gt=Object(et.withRouter)(function(e){var t=e.location,n=Bt.a.parse(t.search).menu;return c.a.createElement(It,null,c.a.createElement(zt,null,"zone"===n&&c.a.createElement(Lt,{to:"/".concat(ht)},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement(Dt,null,"zone"===n?"\u7e23\u5e02\u9078\u64c7":ht),c.a.createElement(Rt,null,"zone"===n&&c.a.createElement(Lt,{to:"/".concat(ht)},c.a.createElement("i",{className:"fas fa-check"}))))}),Ut=function(e,t){for(var n=e.currentTarget,a=e.target,r=a.getAttribute(t);a!==n&&!r&&null!==(a=a.parentElement);)r=a.getAttribute(t);return r},Vt=vt.SpotlightContext,qt=function(){var e=Object(r.useContext)(Vt),t=e.isEditMode,n=e.setIsEditMode,a=e.setIsNavVisible,o=Object(r.useCallback)(function(e){var t=Ut(e,"data-redirect-path");Pt.push(t)},[]),i=Object(r.useCallback)(function(){n(!0),a(!1)},[]),l=Object(r.useCallback)(function(){n(!1),a(!0)},[]);return Object(r.useEffect)(function(){return function(){n(!1),a(!0)}},[]),t?c.a.createElement(It,null,c.a.createElement("div",null,"\u8abf\u6574\u65c5\u7a0b"),c.a.createElement("div",{className:"header-container__icon-wrapper icon-right"},c.a.createElement("i",{role:"presentation",className:"fas fa-check icon-style",onClick:l}))):c.a.createElement(It,null,c.a.createElement("div",null,bt),c.a.createElement("div",{className:"header-container__icon-wrapper icon-right"},c.a.createElement("i",{role:"presentation",className:"fas fa-pen icon-style",onClick:i}),c.a.createElement("i",{role:"presentation",className:"fas fa-plus icon-style","data-redirect-path":xt,onClick:o})))},Ht=function(){return c.a.createElement(It,null,_t)},Wt=function(){return c.a.createElement(It,null,c.a.createElement("div",null,Et),c.a.createElement("div",{className:"header-container__icon-wrapper icon-right"},c.a.createElement("i",{className:"fas fa-cog icon-style"})))},Zt=vt.SpotlightContext,Kt=function(){var e=Object(r.useContext)(Zt).setIsNavVisible;Object(r.useEffect)(function(){return e(!1),function(){e(!0)}},[]);var t=Object(r.useCallback)(function(){Pt.push("/".concat(bt))},[]);return c.a.createElement(It,null,c.a.createElement("div",{className:"header-container__icon-wrapper icon-left"},c.a.createElement("i",{role:"presentation",className:"fas fa-arrow-left icon-style",onClick:t})),c.a.createElement("div",null,jt),c.a.createElement("div",{className:"header-container__icon-wrapper icon-right"},c.a.createElement("i",{className:"far fa-map icon-style"})))},Xt=n(55),$t=n.n(Xt),Qt=vt.SpotlightContext,en=function(e){var t=Object(r.useContext)(Qt),n=t.setIsNavVisible,a=t.newProject,o=t.setNewProject;return Object(r.useEffect)(function(){return n(!1),o(Object(s.fromJS)(X)),function(){n(!0)}},[]),c.a.createElement(It,null,c.a.createElement("div",{className:"header-container__icon-wrapper icon-left"},c.a.createElement("i",{role:"presentation",className:"fas fa-times icon-style",onClick:function(){Pt.push(bt)}})),c.a.createElement("div",null,xt),c.a.createElement("div",{className:"header-container__icon-wrapper icon-right"},c.a.createElement("i",{role:"presentation",className:"fas fa-check icon-style",onClick:function(){var t=e.handleSubmitCreateProject,n=a.get("name"),r=$t()(a.get("start_day")).format("YYYY/MM/DD 00:mm:ss"),c=a.get("tot_days");n&&a.get("start_day")?c<=0?Me.a.error("\u5929\u6578\u683c\u5f0f\u932f\u8aa4"):(t({name:n,start_day:r,tot_days:c}),Pt.push("/".concat(bt))):Me.a.error("\u6b04\u4f4d\u7686\u70ba\u5fc5\u586b")}})))};en.defaultProps={handleSubmitCreateProject:function(){}};var tn=Object(tt.b)({}),nn=Object(l.connect)(tn,function(e){return{handleSubmitCreateProject:function(t){return e(function(e){return{type:F,payload:{newProject:e}}}(t))}}})(en),an=Object(et.withRouter)(function(e){var t=e.location;return c.a.createElement(It,null,c.a.createElement(zt,null,c.a.createElement(Lt,{to:"/".concat(ht)},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement(Rt,null,c.a.createElement(Lt,{to:"".concat(t.pathname,"/").concat(Ot)},c.a.createElement("i",{className:"fas fa-plus"}))))}),rn=Object(et.withRouter)(function(){return c.a.createElement(It,null,c.a.createElement(zt,null,c.a.createElement(Yt,{type:"button",onClick:function(){return Pt.goBack()}},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement(Dt,null,"\u52a0\u5230\u6211\u7684\u884c\u7a0b"),c.a.createElement(Rt,null))}),cn=Object(et.withRouter)(function(){return c.a.createElement(It,null,c.a.createElement(zt,null,c.a.createElement(Yt,{type:"button",onClick:function(){return Pt.goBack()}},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement(Dt,null,"\u52a0\u5230\u6211\u7684\u884c\u7a0b"),c.a.createElement(Rt,null,c.a.createElement(Yt,{type:"button",onClick:function(){return Pt.goBack()}},c.a.createElement("i",{className:"fas fa-check"}))))});function on(){var e=Object(nt.a)(["\n  width: 125px;\n  display: block;\n  margin: 0 auto;\n  border-radius: 50%;\n  margin-top: 24px;\n"]);return on=function(){return e},e}function ln(){var e=Object(nt.a)(["\n  ","\n  color: red;\n"]);return ln=function(){return e},e}function un(){var e=Object(nt.a)(["\n  ","\n  display: flex;\n  justify-content: center;\n"]);return un=function(){return e},e}function pn(){var e=Object(nt.a)(["\n  ","\n  line-height: 1.5;\n  background-color: lightgray;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n"]);return pn=function(){return e},e}function sn(){var e=Object(nt.a)(["\n  ","\n  border: solid 1px lightgray;\n  font-size: 16px;\n"]);return sn=function(){return e},e}function dn(){var e=Object(nt.a)(["\n  ","\n  margin-top: 24px;\n  border: solid 1px lightgray;\n  font-size: 16px;\n"]);return dn=function(){return e},e}var fn="\n  width: 300px;\n  display: block;\n  margin: 0 auto 24px;\n",mn=at.a.input(dn(),fn),gn=at.a.input(sn(),fn),vn=at.a.button(pn(),fn),hn=at.a.div(un(),fn),bn=at.a.div(ln(),fn),_n=at.a.img(on()),En=function(e){var t=Object(r.createRef)(),n=Object(r.createRef)(),a=e.user,o=e.loginMeta,i=e.loginStatusMeta;return Object(r.useEffect)(function(){i.get("isLoaded")&&a&&Pt.push("/".concat(ht))},[a]),i.get("isLoaded")&&!a?c.a.createElement(c.a.Fragment,null,c.a.createElement(_n,{src:"https://avatars0.githubusercontent.com/u/48876369?s=200&v=4"}),c.a.createElement(mn,{ref:t,type:"email",placeholder:"\u8f38\u5165\u96fb\u5b50\u4fe1\u7bb1/\u7528\u6236\u540d"}),c.a.createElement(gn,{ref:n,type:"password",placeholder:"\u8f38\u5165\u5bc6\u78bc"}),c.a.createElement(vn,{onClick:function(){(0,e.handleSubmitLogin)({acc:t.current.value,pwd:n.current.value})}},"\u767b\u5165"),c.a.createElement(hn,null,c.a.createElement("a",{href:"/#",onClick:function(){(0,e.handleSubmitRegister)({acc:t.current.value,pwd:n.current.value})}},"\u7acb\u5373\u8a3b\u518a")),o.get("error")&&c.a.createElement(bn,null,"\u767b\u5165\u5931\u6557")):null};En.defaultProps={handleSubmitLogin:function(){}};var jn=Object(tt.b)({user:Object(tt.a)(it,function(e){return e.get("user")}),loginMeta:Object(tt.a)(it,function(e){return e.get("loginMeta")}),loginStatusMeta:lt()}),xn=Object(l.connect)(jn,function(e){return{handleSubmitLogin:function(t){var n=t.acc,a=t.pwd;return e(function(e){var t=e.acc,n=void 0===t?"admin":t,a=e.pwd;return{type:P,payload:{acc:n,pwd:void 0===a?"admin":a}}}({acc:n,pwd:a}))},handleSubmitRegister:function(t){var n=t.acc,a=t.pwd;return e(function(e){var t=e.acc,n=void 0===t?"admin":t,a=e.pwd;return{type:C,payload:{acc:n,pwd:void 0===a?"admin":a}}}({acc:n,pwd:a}))}}})(En);function On(){var e=Object(nt.a)(["\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 12px 9px;\n  padding-bottom: 9px;\n  border-bottom: solid 1px lightgray;\n\n  &:last-child {\n    border-bottom: 0;\n  }\n"]);return On=function(){return e},e}function yn(){var e=Object(nt.a)(["\n  font-size: 14px;\n  margin: 18px 12px 12px;\n"]);return yn=function(){return e},e}var wn=at.a.div(yn()),Pn=at.a.label(On()),Sn=function(e){var t=e.zonesState,n=e.dispatch,a=t.map(function(e){return e.get("region")}).toSet();return c.a.createElement("div",null,a.map(function(e){return c.a.createElement(c.a.Fragment,{key:e},c.a.createElement(wn,null,e),t.filter(function(t){return t.get("region")===e}).map(function(e){return c.a.createElement(Pn,{key:e.get("name")},e.get("name"),c.a.createElement("input",{type:"checkbox",onChange:function(a){5===t.filter(function(e){return e.get("selected")}).size&&a.currentTarget.checked?Me.a.warning("\u6700\u591a\u53ef\u9078 5 \u500b\uff01",2):n({type:a.currentTarget.checked?"SELECT_ZONE":"CANCEL_ZONE",payload:{zone:e.get("name")}})},checked:e.get("selected",!1)}))}).toList())}))},Nn=function(e,t){switch(t.type){case"SELECT_ZONE":return e.setIn([t.payload.zone,"selected"],!0);case"CANCEL_ZONE":return e.setIn([t.payload.zone,"selected"],!1);default:return e}},kn={"\u57fa\u9686\u5e02":{name:"\u57fa\u9686\u5e02",region:"\u5317\u90e8\u7e23\u5e02"},"\u81fa\u5317\u5e02":{name:"\u81fa\u5317\u5e02",region:"\u5317\u90e8\u7e23\u5e02"},"\u65b0\u5317\u5e02":{name:"\u65b0\u5317\u5e02",region:"\u5317\u90e8\u7e23\u5e02"},"\u6843\u5712\u5e02":{name:"\u6843\u5712\u5e02",region:"\u5317\u90e8\u7e23\u5e02"},"\u65b0\u7af9\u5e02":{name:"\u65b0\u7af9\u5e02",region:"\u5317\u90e8\u7e23\u5e02"},"\u65b0\u7af9\u7e23":{name:"\u65b0\u7af9\u7e23",region:"\u5317\u90e8\u7e23\u5e02"},"\u82d7\u6817\u7e23":{name:"\u82d7\u6817\u7e23",region:"\u4e2d\u90e8\u7e23\u5e02"},"\u5357\u6295\u7e23":{name:"\u5357\u6295\u7e23",region:"\u4e2d\u90e8\u7e23\u5e02"},"\u81fa\u4e2d\u5e02":{name:"\u81fa\u4e2d\u5e02",region:"\u4e2d\u90e8\u7e23\u5e02"},"\u5f70\u5316\u7e23":{name:"\u5f70\u5316\u7e23",region:"\u4e2d\u90e8\u7e23\u5e02"},"\u96f2\u6797\u7e23":{name:"\u96f2\u6797\u7e23",region:"\u4e2d\u90e8\u7e23\u5e02"},"\u5609\u7fa9\u5e02":{name:"\u5609\u7fa9\u5e02",region:"\u5357\u90e8\u7e23\u5e02"},"\u5609\u7fa9\u7e23":{name:"\u5609\u7fa9\u7e23",region:"\u5357\u90e8\u7e23\u5e02"},"\u81fa\u5357\u5e02":{name:"\u81fa\u5357\u5e02",region:"\u5357\u90e8\u7e23\u5e02"},"\u9ad8\u96c4\u5e02":{name:"\u9ad8\u96c4\u5e02",region:"\u5357\u90e8\u7e23\u5e02"},"\u5c4f\u6771\u7e23":{name:"\u5c4f\u6771\u7e23",region:"\u5357\u90e8\u7e23\u5e02"},"\u5b9c\u862d\u7e23":{name:"\u5b9c\u862d\u7e23",region:"\u6771\u90e8\u7e23\u5e02"},"\u82b1\u84ee\u7e23":{name:"\u82b1\u84ee\u7e23",region:"\u6771\u90e8\u7e23\u5e02"},"\u81fa\u6771\u7e23":{name:"\u81fa\u6771\u7e23",region:"\u6771\u90e8\u7e23\u5e02"},"\u9023\u6c5f\u7e23":{name:"\u9023\u6c5f\u7e23",region:"\u5916\u5cf6\u7e23\u5e02"},"\u91d1\u9580\u7e23":{name:"\u91d1\u9580\u7e23",region:"\u5916\u5cf6\u7e23\u5e02"},"\u6f8e\u6e56\u7e23":{name:"\u6f8e\u6e56\u7e23",region:"\u5916\u5cf6\u7e23\u5e02"}};function Mn(){var e=Object(nt.a)(["\n  display: inline-block;\n  background-color: lightgray;\n  font-size: 14px;\n  padding: 3px;\n  margin-right: 6px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n"]);return Mn=function(){return e},e}function Tn(){var e=Object(nt.a)(["\n  padding: 12px;\n  margin-bottom: 12px;\n"]);return Tn=function(){return e},e}function Cn(){var e=Object(nt.a)(["\n  flex-grow: 1;\n  padding: 6px;\n"]);return Cn=function(){return e},e}function In(){var e=Object(nt.a)(["\n  flex-shrink: 0;\n  padding: 6px 24px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n"]);return In=function(){return e},e}function Dn(){var e=Object(nt.a)(["\n  width: 100%;\n  display: flex;\n  background-color: #000;\n"]);return Dn=function(){return e},e}function zn(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: center;\n  background-color: lightgray;\n  padding: 12px;\n"]);return zn=function(){return e},e}function Rn(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Rn=function(){return e},e}function Ln(){var e=Object(nt.a)(["\n  margin-right: 16px;\n  text-align: center;\n  font-size: 14px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n"]);return Ln=function(){return e},e}function Yn(){var e=Object(nt.a)(["\n  display: block;\n  width: 50px;\n  height: 50px;\n  background: lightgray;\n  border-radius: 50%;\n  font-size: 18px;\n  color: #fff;\n  margin-bottom: 3px;\n"]);return Yn=function(){return e},e}function An(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 16px;\n"]);return An=function(){return e},e}function Fn(){var e=Object(nt.a)(["\n  flex-shrink: 0;\n"]);return Fn=function(){return e},e}function Jn(){var e=Object(nt.a)(["\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return Jn=function(){return e},e}function Bn(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 6px 12px;\n  background: lightgray;\n"]);return Bn=function(){return e},e}function Gn(){var e=Object(nt.a)(["\n  width: 100%;\n  height: 210px;\n  object-fit: cover;\n"]);return Gn=function(){return e},e}function Un(){var e=Object(nt.a)(["\n  display: block;\n  width: 250px;\n"]);return Un=function(){return e},e}function Vn(){var e=Object(nt.a)(["\n"]);return Vn=function(){return e},e}var qn=at.a.div(Vn()),Hn=at.a.div(Un()),Wn=at.a.img(Gn()),Zn=at.a.div(Bn()),Kn=at.a.span(Jn()),Xn=at.a.span(Fn()),$n=at.a.div(An()),Qn=at.a.button(Yn()),ea=at.a.label(Ln()),ta=at.a.div(Rn()),na=at.a.div(zn()),aa=at.a.div(Dn()),ra=at.a.button(In()),ca=at.a.input(Cn()),oa=at.a.div(Tn()),ia=at.a.span(Mn()),la=Object(tt.b)({spot:Object(tt.a)(it,Object(tt.a)(it,function(e){return e.get("exploringSpotId")}),function(e,t){return e.getIn(["spots",String(t)],Object(s.Map)())}),setSpotsMeta:Object(tt.a)(it,function(e){return e.get("setSpotsMeta")}),favoriteSpotIdsMeta:Object(tt.a)(it,function(e){return e.get("setFavoriteSpotIdsMeta")})}),ua=Object(et.withRouter)(Object(l.connect)(la,function(e){return{handleSwipeLeft:function(){return e(Ae())},createHandleSwipeRight:function(t){return function(){e({type:q,payload:t}),e(Ae())}},handleFetchSpots:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.kw,a=t.zones;return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.zones,n=void 0===t?[]:t,a=e.kw;return{type:O,payload:{zones:n,kw:void 0===a?"":a}}}({kw:n,zones:a}))},handleFetchFavoriteSpotIds:function(){return e({type:W})}}})(function(e){var t=e.spot,n=e.handleSwipeLeft,a=e.createHandleSwipeRight,o=e.handleFetchSpots,i=e.setSpotsMeta,l=e.location,p=e.history,d=e.handleFetchFavoriteSpotIds,f=e.favoriteSpotIdsMeta,m=Object(r.useReducer)(Nn,Object(s.fromJS)(kn)),g=Object(st.a)(m,2),v=g[0],h=g[1],b=v.filter(function(e){return e.get("selected")}).map(function(e){return e.get("name")}).toList().toJS(),_=Object(r.useState)(""),E=Object(st.a)(_,2),j=E[0],x=E[1];return Object(r.useEffect)(function(){i.get("isLoading")||o(),f.get("isLoading")||d()},[]),"zone"===Bt.a.parse(l.search).menu?c.a.createElement(Sn,{location:l,history:p,zonesState:v,dispatch:h}):c.a.createElement(qn,null,c.a.createElement(na,null,c.a.createElement(aa,null,c.a.createElement(ra,{onClick:function(){return p.push("".concat(l.pathname,"?menu=zone"))}},"\u7e23\u5e02\u9078\u64c7",c.a.createElement("i",{className:"fas fa-caret-right"})),c.a.createElement(ca,{type:"text",placeholder:"\u4f60\u60f3\u53bb\u7684\u666f\u9ede\u6216\u8857\u9053\u540d\u7a31",value:j,onChange:function(e){return x(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(o({kw:j,zones:b}),e.currentTarget.blur())}}))),c.a.createElement(oa,null,b.map(function(e){return c.a.createElement(ia,{key:e},e,c.a.createElement("i",{className:"fas fa-times"}))})),i.get("isLoading")?c.a.createElement(ot,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(ta,null,c.a.createElement(u.b,{to:"/".concat(ht,"/").concat(t.get("spot_id"))},c.a.createElement(Hn,null,c.a.createElement(Wn,{src:t.getIn(["pic",0])||"https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg"}),c.a.createElement(Zn,null,c.a.createElement(Kn,null,t.get("name")),c.a.createElement(Xn,null,t.get("like_num"),"\u4eba\u6536\u85cf"))))),c.a.createElement($n,null,c.a.createElement(ea,null,c.a.createElement(Qn,{onClick:n},c.a.createElement("i",{className:"fas fa-times"})),c.a.createElement("span",null,"\u8df3\u904e")),c.a.createElement(ea,null,c.a.createElement(Qn,{onClick:a(t.get("spot_id"))},c.a.createElement("i",{className:"fas fa-heart"})),c.a.createElement("span",null,"\u60f3\u53bb")))))})),pa=n(213);function sa(){var e=Object(nt.a)(['\n  background-image: url("https://www.telegraph.co.uk/content/dam/Travel/2017/May/taipei-night-market.jpg?imwidth=450");\n  background-size: cover;\n\n  height: 160px;\n  margin-top: 10px;\n  position: relative;\n  cursor: ',";\n  .project-card__info-row-wrapper {\n    background: white;\n    opacity: 0.9;\n    position: absolute;\n    width: 100%;\n    bottom: 0px;\n    height: 50px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    font-size: 16px\n  }\n  .project-card__info-period {\n    font-size: 12px\n  }\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.6;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 25px;\n    height: 25px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: white;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n  }\n"]);return sa=function(){return e},e}var da=n.n(pa).a.confirm,fa=vt.SpotlightContext,ma=at.a.div(sa(),function(e){return e.isEditMode?"":"pointer"}),ga=function(e){var t=Object(r.useContext)(fa).isEditMode,n=e.project,a=e.handleDeleteProject,o=n.get("proj_id"),i=n.get("name"),l=n.get("tot_days"),u=$t()(n.get("start_day"),"YYYY-MM-DD").format("YYYY\u5e74MM\u6708DD\u65e5"),p=$t()(n.get("start_day"),"YYYY-MM-DD").add(l-1,"days").format("YYYY\u5e74MM\u6708DD\u65e5"),s=Object(r.useCallback)(function(){if(!t){var e="/".concat(jt);Pt.push({pathname:"".concat(e,"/").concat(o),search:"?day=".concat(1)})}},[o,t]),d=Object(r.useCallback)(function(e){var t=Ut(e,"data-project-id");da({title:"\u522a\u9664\u65c5\u7a0b\u8a08\u756b",content:'\u78ba\u8a8d\u662f\u5426\u522a\u9664 "'.concat(i,'" \uff1f'),okText:"\u522a\u9664",okType:"danger",onOk:function(){a(t)}})},[]);return c.a.createElement(ma,{isEditMode:t,onClick:s},c.a.createElement("div",{role:"presentation",className:"project-card__info-row-wrapper"},c.a.createElement("div",{className:"project-card__info-row"},c.a.createElement("div",{className:"project-card__info-title"},i),c.a.createElement("div",{className:"project-card__info-period"},"".concat(u,"-").concat(p," / ").concat(l,"\u5929")))),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"project-card__mask"}),c.a.createElement("div",{role:"presentation",className:"project-card__trash-icon-wrapper","data-project-id":o,onClick:d},c.a.createElement("i",{className:"fas fa-trash-alt project-card__trash-icon"}))))};ga.defaultProps={project:Object(s.Map)(),handleDeleteProject:function(){}};var va=ga;function ha(){var e=Object(nt.a)(["\n  padding: 0px 28px;\n  overflow: scroll;\n"]);return ha=function(){return e},e}var ba=at.a.div(ha()),_a=function(e){var t=e.ownProjectsMeta,n=e.ownProjects,a=e.handleFetchOwnProjects,o=e.handleDeleteProject,i=t.get("isLoaded"),l=t.get("isLoading");return Object(r.useEffect)(function(){i||a()},[]),l?c.a.createElement(ot,null):n.size?c.a.createElement(ba,null,n.map(function(e){return c.a.createElement(va,{key:e.get("proj_id"),project:e,handleDeleteProject:o})})):c.a.createElement("div",null,"\u5c1a\u7121\u4efb\u4f55\u65c5\u884c\u8a08\u5283")};_a.defaultProps={ownProjectsMeta:null,ownProjects:Object(s.List)(),handleFetchOwnProjects:function(){},handleDeleteProject:function(){}};var Ea=Object(tt.b)({ownProjectsMeta:pt(),ownProjects:ut()}),ja=Object(et.withRouter)(Object(l.connect)(Ea,function(e){return{handleFetchOwnProjects:function(){return e(Je())},handleDeleteProject:function(t){return e(Ue(t))}}})(_a));function xa(){var e=Object(nt.a)(["\n  margin-top: 10px;\n  .travel-card__header-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 5px 10px;\n    background: #D3D3D3;\n    .travel-card__header-image {\n      font-size: 30px;\n      color: white;\n    }\n    .travel-card__profile-wrapper {\n      margin-left: 10px;\n    }\n    .travel-card__header-name {\n      font-size: 12px;\n      color: #707070;\n    }\n    .travel-card__header-time {\n      font-size: 12px;\n      color: #A4A4A4;\n    }\n  }\n  .travel-card__body-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    height: 120px;\n    background: black;\n    color: white;\n    position: relative;\n    cursor: pointer;\n    .travel-card__body-cover {\n      opacity: 0.5;\n      background-image: url(",");\n      background-size: cover;\n      height: 100%;\n    }\n    .travel-card__body-text-wrapper {\n      position: absolute;\n      padding: 10px;\n      .travel-card__body-title {\n        font-size: 16px;\n        color: white;\n      }\n      .travel-card__body-period {\n        font-size: 12px;\n      }\n    }\n  }\n  .travel-card__footer-wrapper {\n    background: #D3D3D3;\n    padding: 13px 12px;\n    display: flex;\n    align-items: center;\n    .travel-card__footer-icon {\n      font-size: 16px;\n      color: #707070;\n    }\n    .travel-card__footer-number {\n      font-size: 12px;\n      color: #707070;\n      margin-left: 5px;\n    }\n  }\n"]);return xa=function(){return e},e}var Oa=at.a.div(xa(),function(e){return e.imagePath}),ya=function(e){var t=e.projectId,n=Object(r.useCallback)(function(){var e="/".concat(jt);Pt.push({pathname:"".concat(e,"/").concat(t),search:"?day=".concat(1)})});return c.a.createElement(Oa,{imagePath:"https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg"},c.a.createElement("div",{className:"travel-card__header-wrapper"},c.a.createElement("i",{className:"fas fa-user-circle travel-card__header-image"}),c.a.createElement("div",{className:"travel-card__profile-wrapper"},c.a.createElement("div",{className:"travel-card__header-name"},"\u9019\u88e1\u662f\u540d\u5b57"),c.a.createElement("div",{className:"travel-card__header-time"},"1\u5929\u524d"))),c.a.createElement("div",{role:"presentation",className:"travel-card__body-wrapper",onClick:n},c.a.createElement("div",{className:"travel-card__body-cover"}),c.a.createElement("div",{className:"travel-card__body-text-wrapper"},c.a.createElement("div",{className:"travel-card__body-title"},"\u53f0\u5317\u8cfc\u7269\u4e4b\u65c5"),c.a.createElement("div",{className:"travel-card__body-period"},"2019\u5e746\u67085\u65e5-2019\u5e746\u67089\u65e5 / 4\u5929"))),c.a.createElement("div",{className:"travel-card__footer-wrapper"},c.a.createElement("i",{className:"far fa-heart travel-card__footer-icon"}),c.a.createElement("div",{className:"travel-card__footer-number"},"666")))};function wa(){var e=Object(nt.a)(["\n  padding: 5px 28px;\n"]);return wa=function(){return e},e}var Pa=at.a.div(wa()),Sa=function(){var e=new Array(10).fill(0).map(function(e,t){return t});return c.a.createElement(Pa,null,e.map(function(e,t){return c.a.createElement(ya,{key:e,projectId:t})}))},Na=function(){return c.a.createElement("div",{className:"personal-page__favicon-wrapper"},c.a.createElement("img",{className:"personal-page__favicon",alt:""}))},ka=function(){return c.a.createElement("div",{className:"personal-page__info-wrapper"},c.a.createElement(Na,null),c.a.createElement("div",{className:"personal-page__profile-wrapper"},c.a.createElement("div",{className:"personal-page__profile-name"},"\u9019\u88e1\u662f\u540d\u5b57"),c.a.createElement("div",{className:"personal-page__profile-travel-info"},c.a.createElement("div",{className:" personal-page__profile-travel-info-item-wrapper personal-page__profile-travel-info-item-divier personal-page__profile-travel-info-item-padding-right "},c.a.createElement("div",{className:"personal-page__profile-travel-info-item-title"},"\u65c5\u7a0b\u767c\u8868"),c.a.createElement("div",{className:"personal-page__profile-travel-info-item-number"},"99")),c.a.createElement("div",{className:" personal-page__profile-travel-info-item-wrapper personal-page__profile-travel-info-item-divier personal-page__profile-travel-info-item-padding-right personal-page__profile-travel-info-item-padding-left "},c.a.createElement("div",{className:"personal-page__profile-travel-info-item-title"},"\u6536\u85cf\u6578"),c.a.createElement("div",{className:"personal-page__profile-travel-info-item-number"},"99")),c.a.createElement("div",{className:" personal-page__profile-travel-info-item-wrapper personal-page__profile-travel-info-item-padding-left "},c.a.createElement("div",{className:"personal-page__profile-travel-info-item-title"},"\u88ab\u6536\u85cf"),c.a.createElement("div",{className:"personal-page__profile-travel-info-item-number"},"99")))))},Ma=function(e){return e?"personal-page__collection-tab--active":""},Ta=function(e){var t=e.handleOnClick,n=new URLSearchParams(window.location.search).get("collectionType")||"spot";return c.a.createElement("div",{className:"personal-page__collection-group"},c.a.createElement("div",{role:"presentation",className:"personal-page__collection-tab ".concat(Ma("spot"===n)),"data-collection-type":"spot",onClick:t},c.a.createElement("span",null,"\u6536\u85cf\u666f\u9ede")),c.a.createElement("div",{role:"presentation",className:"personal-page__collection-tab ".concat(Ma("planning"===n)),"data-collection-type":"planning",onClick:t},c.a.createElement("span",null,"\u6536\u85cf\u65c5\u7a0b")))};function Ca(){var e=Object(nt.a)(["\n  height: 100px;\n  background-image: url(",");\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .spot-card__title {\n    font-size: 11px;\n  }\n"]);return Ca=function(){return e},e}var Ia=at.a.div(Ca(),function(e){return e.imagePath}),Da=function(e){var t=e.spotId,n=e.handleOnClick;return c.a.createElement(Ia,{imagePath:"https://www.taipei-101.com.tw/upload/jn_now/201801/2018010102515956G575BF.jpg","data-id":t,"data-redirect-path":ht,onClick:n},c.a.createElement("div",{className:"spot-card__title-wrapper"},c.a.createElement("span",{className:"spot-card__title"},"\u53f0\u5317101")))};function za(){var e=Object(nt.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n"]);return za=function(){return e},e}var Ra=at.a.div(za()),La=function(e){var t=e.handleOnClick,n=new Array(11).fill(0).map(function(e,t){return t});return c.a.createElement(Ra,null,n.map(function(e){return c.a.createElement(Da,{key:e,spotId:e,handleOnClick:t})}))};function Ya(){var e=Object(nt.a)(["\n  height: 100px;\n  background-image: url(",");\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .planning-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .planning-card__title {\n    font-size: 11px;\n  }\n\n  .planning-card__profile-wrapper {\n    display: flex;\n    color: white;\n    padding: 10px;\n    .planning-card__profile-favicon {\n      height: 20px;\n      width: 20px;\n      background-image: url(",");\n      background-size: cover;\n      border-radius: 100%;\n    }\n    .planning-card__profile-name {\n      color: white;\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n"]);return Ya=function(){return e},e}var Aa=at.a.div(Ya(),function(e){return e.imagePath},function(e){return e.faviconPath}),Fa=function(e){var t=e.planningId,n=e.handleOnClick;return c.a.createElement(Aa,{imagePath:"https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg","data-id":t,"data-redirect-path":jt,onClick:n},c.a.createElement("div",{className:"planning-card__profile-wrapper"},c.a.createElement("img",{className:"planning-card__profile-favicon",src:"https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg",alt:""}),c.a.createElement("div",{className:"planning-card__profile-name"},"\u9019\u88e1\u662f\u540d\u5b57")),c.a.createElement("div",{className:"planning-card__title-wrapper"},c.a.createElement("span",{className:"planning-card__title"},"\u53f0\u5317\u8cfc\u7269\u4e4b\u65c5")))};function Ja(){var e=Object(nt.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n"]);return Ja=function(){return e},e}var Ba=at.a.div(Ja()),Ga=function(e){var t=e.handleOnClick,n=new Array(11).fill(0).map(function(e,t){return t});return c.a.createElement(Ba,null,n.map(function(e){return c.a.createElement(Fa,{key:e,planningId:e,handleOnClick:t})}))},Ua=function(){var e=function(e){var t=Ut(e,"data-id"),n=Ut(e,"data-redirect-path");Pt.push({pathname:"".concat(n,"/").concat(t)})};return"planning"===new URLSearchParams(window.location.search).get("collectionType")?c.a.createElement(Ga,{handleOnClick:e}):c.a.createElement(La,{handleOnClick:e})};function Va(){var e=Object(nt.a)(["\n  .personal-page__cover-image {\n    height: 120px;\n    background-image: url(",");\n    background-size: cover;\n  }\n  .personal-page__info-wrapper {\n    display: flex;\n    position: relative;\n    padding: 0px 20px;\n    .personal-page__favicon-wrapper {\n      width: 150px;\n    }\n    .personal-page__favicon {\n      border-radius: 100%;\n      border: 3px solid white;\n      background-image: url(",");\n      background-size: cover;\n      height: ","px;\n      width: ","px;\n      position: absolute;\n      top: -30px;\n    }\n    .personal-page__profile-wrapper {\n      padding: 10px 10px;\n      width: 100%;\n      .personal-page__profile-name {\n        font-size: 16px;\n        color: #707070;\n        margin-bottom: 10px;\n      }\n      .personal-page__profile-travel-info {\n        display: flex;\n        .personal-page__profile-travel-info-item-wrapper {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          .personal-page__profile-travel-info-item-title {\n            font-size: 12px;\n            color: #707070;\n            margin-bottom: 3px;\n          }\n          .personal-page__profile-travel-info-item-number {\n            font-size: 12px;\n            color: #707070;\n          }\n        }\n        .personal-page__profile-travel-info-item-divier {\n          border-right: 1px solid #D1D1D1;\n        }\n        .personal-page__profile-travel-info-item-padding-right {\n          padding-right: 20px;\n        }\n        .personal-page__profile-travel-info-item-padding-left {\n          padding-left: 20px;\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n"]);return Va=function(){return e},e}var qa=at.a.div(Va(),function(e){return e.coverImagePath},function(e){return e.faviconPath},function(e){return e.faviconSize},function(e){return e.faviconSize}),Ha=function(){var e=Object(r.useState)("spot"),t=Object(st.a)(e,2),n=t[0],a=t[1];return c.a.createElement(qa,{coverImagePath:"http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg",faviconPath:"http://i.imgur.com/EUAd2ht.jpg",faviconSize:90},c.a.createElement("div",{className:"personal-page__cover-image"}),c.a.createElement(ka,null),c.a.createElement(Ta,{handleOnClick:function(e){var t=Ut(e,"data-collection-type");a(t);var n="/".concat(Et);Pt.push({pathname:n,search:"?collectionType=".concat(t)})}}),c.a.createElement(Ua,{activeCollectionType:n}))};function Wa(){var e=Object(nt.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  cursor: pointer;\n  .tab__number {\n    font-size: 14px;\n    background: #f9f9f9;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n"]);return Wa=function(){return e},e}var Za=at.a.div(Wa()),Ka=function(e){var t=e.id,n=e.location;return c.a.createElement(Za,{onClick:function(){Pt.push({pathname:"".concat(n.pathname),search:"?day=".concat(t+1)})}},c.a.createElement("div",{className:"tab__number"},c.a.createElement("div",{className:"tab__text"},"\u7b2c".concat(t+1,"\u5929"))))};Ka.defaultProps={id:1,location:{}};var Xa=Ka;function $a(){var e=Object(nt.a)(["\n  background: #e4e4e4;\n  height: 50px;\n  padding: 0px 10px;\n  display: flex;\n  overflow-x: auto;\n"]);return $a=function(){return e},e}var Qa=at.a.div($a()),er=function(e){var t=e.days,n=new Array(t).fill(0).map(function(e,t){return t});return c.a.createElement(Qa,null,n.map(function(t){return c.a.createElement(Xa,Object.assign({key:t,id:t},e))}))};er.defaultProps={days:0};var tr=er;function nr(){var e=Object(nt.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding: 0px 30px;\n  justify-content: space-between;\n"]);return nr=function(){return e},e}var ar=at.a.div(nr()),rr=function(e){var t=e.startDay,n=new URLSearchParams(window.location.search),a=parseInt(n.get("day"),10),r=$t()(t,"YYYY-MM-DD").add(a-1,"days").format("YYYY\u5e74MM\u6708DD\u65e5"),o=$[$t()(t,"YYYY-MM-DD").add(a-1,"days").get("weekday")];return c.a.createElement(ar,null,c.a.createElement("div",null,"".concat(r," ").concat(o)))};rr.defaultProps={startDay:""};var cr=rr,or=n(214),ir=n.n(or);n(558);function lr(){var e=Object(nt.a)(["\n  height: ","px;\n  .spot-card__card-row {\n    height: ","px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    background: #D3D3D3;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 0px 15px;\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ","px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: #707070;\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n  }\n"]);return lr=function(){return e},e}var ur=at.a.div(lr(),100,60,40),pr=function(e){var t=e.spot;return c.a.createElement(ur,null,c.a.createElement("div",{className:"spot-card__card-row"},c.a.createElement("div",{className:"spot-card__start-end-time-wrapper"},c.a.createElement("div",null,"8:00"),c.a.createElement("div",null,"|"),c.a.createElement("div",null,"10:00")),c.a.createElement("div",{className:"spot-card__card-body"},c.a.createElement("div",null,t.get("name")),c.a.createElement("div",{className:"spot-card__card-body-address"},t.get("address")))),c.a.createElement("div",{className:"spot-card__travel-row-wrapper"},c.a.createElement("div",{className:"spot-card__travel-time-wrapper"},c.a.createElement("i",{className:"fas fa-car spot-card__travel-time-icon"}),c.a.createElement("div",null,"1\u664215\u5206")),c.a.createElement("div",{className:"spot-card__travel-time-wrapper"},c.a.createElement("i",{className:"fas fa-running spot-card__travel-time-icon"}),c.a.createElement("div",null,"6\u664215\u5206"))))};pr.defaultProps={spot:{}};var sr=pr;function dr(){var e=Object(nt.a)(["\n  height: ","px;\n  .operator__number-wrapper {\n    height: ","px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 1px solid grey;\n    border-radius: 100%;\n    width: 28px;\n    height: 28px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: #eee;\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 1px;\n    background: black;\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ","px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    font-size: 30px;\n    color: #707070;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n"]);return dr=function(){return e},e}function fr(){var e=Object(nt.a)(["\n  padding: 15px 30px;\n  padding-top: 0;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n"]);return fr=function(){return e},e}var mr=at.a.div(fr()),gr=at.a.div(dr(),100,60,40),vr=Object(s.fromJS)([{id:0,name:"\u53f0\u5317101",address:"110\u53f0\u5317\u5e02\u4fe1\u7fa9\u5340\u4fe1\u7fa9\u8def\u4e94\u6bb57\u865f",startTime:"09:00"},{id:1,name:"\u5b8f\u4e9e\u98df\u54c1\u5de7\u514b\u529b\u89c0\u5149\u5de5\u5ee0",address:"\u6843\u5712\u7e23\u516b\u5fb7\u5e02\u5efa\u570b\u8def386\u865f",startTime:"10:00"},{id:2,name:"\u81fa\u7063\u83f8\u9152(\u80a1)\u516c\u53f8\u6797\u53e3\u89c0\u5149\u9152\u5ee0",address:"\u6843\u5712\u7e23\u9f9c\u5c71\u9109\u6587\u5316\u4e00\u8def55\u865f",startTime:"12:00"},{id:3,name:"\u53f0\u7063\u91d1\u5c6c\u5275\u610f\u9928",address:"\u53f0\u5357\u5e02\u6c38\u5eb7\u5340\u6c38\u79d1\u74b0\u8def598\u865f",startTime:"15:00"}]),hr=function(){return c.a.createElement(mr,null,c.a.createElement("div",{className:"content__spot-cards-wrapper"},c.a.createElement("div",null,vr.map(function(e,t){return c.a.createElement(gr,{key:e.get("id")},c.a.createElement("div",{className:"operator__number-wrapper"},Boolean(t)&&c.a.createElement("div",{className:"operator__divider-line operator__divider-line-top"}),c.a.createElement("div",{className:"operator__number-circle-border"},c.a.createElement("span",null,e.get("id")+1)),c.a.createElement("div",{className:"operator__divider-line operator__divider-line-bottom"})),c.a.createElement("div",{className:"operator__map-marker-wrapper"},c.a.createElement("i",{className:"fas fa-map-marker-alt operator__map-marker-icon"})))})),c.a.createElement(ir.a,{dataSource:vr,row:function(e,t){return c.a.createElement(sr,{key:e.get("id"),spot:e,index:t})},handles:!1,className:"simple-drag content__spot-simple-drag",rowClassName:"simple-drag-row",onUpdate:function(){}})))};hr.defaultProps={};var br=hr;function _r(){var e=Object(nt.a)(["\n  .detail-planning__cover {\n    background: lightgray;\n    height: 150px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n    }\n    .icon__pen {\n      font-size: 14px;\n      margin: 0px 10px;\n    }\n  }\n"]);return _r=function(){return e},e}var Er=at.a.div(_r()),jr=function(e){var t=e.match,n=e.ownProjectsMeta,a=e.ownProjects,o=e.handleFetchOwnProjects,i=t.params.projectId,l=n.get("isLoaded"),u=n.get("isLoading");if(Object(r.useEffect)(function(){l||o()},[]),u)return c.a.createElement(ot,null);if(!a.size)return c.a.createElement("div",null,"\u5c1a\u7121\u4efb\u4f55\u65c5\u884c\u8a08\u5283");var p=a.find(function(e){return e.get("proj_id").toString()===i});if(!p)return c.a.createElement("div",null,"\u627e\u4e0d\u5230\u8a72\u65c5\u884c\u8a08\u5283\u8cc7\u6599");var s=p.get("name"),d=p.get("tot_days"),f=$t()(p.get("start_day"),"YYYY-MM-DD").format("YYYY\u5e74MM\u6708DD\u65e5"),m=$t()(p.get("start_day"),"YYYY-MM-DD").add(d-1,"days").format("YYYY\u5e74MM\u6708DD\u65e5");return c.a.createElement(Er,null,c.a.createElement("div",{className:"detail-planning__cover"},c.a.createElement("div",{className:"detail-planning__cover-title"},c.a.createElement("span",null,s),c.a.createElement("i",{className:"fas fa-pen icon__pen"})),c.a.createElement("div",{className:"detail-planning__cover-period"},"".concat(f," - ").concat(m," / ").concat(d,"\u5929"))),c.a.createElement(tr,Object.assign({days:d},e)),c.a.createElement(cr,Object.assign({startDay:f},e)),c.a.createElement(br,e))};jr.defaultProps={match:{},ownProjectsMeta:null,ownProjects:Object(s.List)(),handleFetchOwnProjects:function(){}};var xr=Object(tt.b)({ownProjectsMeta:pt(),ownProjects:ut()}),Or=Object(l.connect)(xr,function(e){return{handleFetchOwnProjects:function(){return e(Je())}}})(jr);function yr(){var e=Object(nt.a)(["\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n"]);return yr=function(){return e},e}var wr=vt.SpotlightContext,Pr=at.a.div(yr()),Sr=function(){var e=Object(r.useContext)(wr).setNewProject;return c.a.createElement(Pr,null,c.a.createElement("div",{className:"create-project__input-wrapper"},c.a.createElement("div",{className:"create-project__label-box"},c.a.createElement("span",null,"\u65c5\u7a0b\u540d\u7a31")),c.a.createElement("input",{type:"text",className:"create-project__input",onChange:function(t){var n=t.currentTarget.value;e(function(e){return e.set("name",n)})}})),c.a.createElement("div",{className:"create-project__input-wrapper"},c.a.createElement("div",{className:"create-project__label-box"},c.a.createElement("span",null,"\u51fa\u767c\u65e5\u671f")),c.a.createElement("input",{type:"date",className:"create-project__input",onChange:function(t){var n=t.currentTarget.value;e(function(e){return e.set("start_day",n)})}})),c.a.createElement("div",{className:"create-project__input-wrapper"},c.a.createElement("div",{className:"create-project__label-box"},c.a.createElement("span",null,"\u5929\u6578")),c.a.createElement("input",{type:"text",className:"create-project__input",onChange:function(t){var n=t.currentTarget.value>0?parseInt(t.currentTarget.value,10):0;e(function(e){return e.set("tot_days",n)})}})))};function Nr(){var e=Object(nt.a)(["\n  padding: 0 12px;\n  margin-bottom: 24px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return Nr=function(){return e},e}function kr(){var e=Object(nt.a)(["\n  margin-right: 3px;\n"]);return kr=function(){return e},e}function Mr(){var e=Object(nt.a)(["\n  padding: 0 12px;\n  margin-bottom: 6px;\n  font-size: 15px;\n"]);return Mr=function(){return e},e}function Tr(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  font-size: 16px;\n"]);return Tr=function(){return e},e}function Cr(){var e=Object(nt.a)(["\n  display: block;\n  height: 150px;\n  width: 100%;\n  object-fit: cover;\n"]);return Cr=function(){return e},e}function Ir(){var e=Object(nt.a)(["\n  position: relative;\n"]);return Ir=function(){return e},e}var Dr=at.a.div(Ir()),zr=at.a.img(Cr()),Rr=at.a.div(Tr()),Lr=at.a.div(Mr()),Yr=at.a.i(kr()),Ar=at.a.p(Nr()),Fr=Object(tt.b)({spots:Object(tt.a)(it,function(e){return e.get("spots")}),setSpotMeta:Object(tt.a)(it,function(e){return e.get("setSpotMeta")})}),Jr=Object(l.connect)(Fr,function(e){return{handleFetchSpotById:function(t){return e(function(e){return{type:E,payload:{id:e}}}(t))}}})(function(e){var t=e.match,n=e.spots,a=e.handleFetchSpotById,o=e.setSpotMeta;if(Object(r.useEffect)(function(){a(t.params.spotId)},[]),o.get("isLoading"))return c.a.createElement(ot,null);var i=n.get(Number(t.params.spotId),Object(s.Map)());return i.size?c.a.createElement("div",null,c.a.createElement(Dr,null,c.a.createElement(zr,{src:i.getIn(["pic",0])||"https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg"}),c.a.createElement(Rr,null,i.get("name"),c.a.createElement("label",null,c.a.createElement(Yr,{className:"fas fa-heart"}),"666"))),c.a.createElement(Lr,null,"\u666f\u9ede\u4ecb\u7d39"),c.a.createElement(Ar,null,i.get("describe")),c.a.createElement(Lr,null,"\u5730\u5740"),c.a.createElement(Ar,null,i.get("address")),c.a.createElement(Lr,null,"\u96fb\u8a71"),c.a.createElement(Ar,null,i.get("tel")),c.a.createElement(Lr,null,"\u7db2\u5740"),c.a.createElement(Ar,null,c.a.createElement("a",{href:i.get("website")},i.get("website")))):c.a.createElement("div",null,"\u627e\u4e0d\u5230\u8a72\u666f\u9ede\u8cc7\u6599")});function Br(){var e=Object(nt.a)(["\n  display: block;\n  padding: 12px;\n  border-bottom: solid 1px lightgray;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n"]);return Br=function(){return e},e}var Gr=Object(at.a)(u.b)(Br()),Ur=function(e){return"".concat(e.getFullYear(),"\u5e74").concat(e.getMonth(),"\u6708").concat(e.getDate(),"\u65e5")},Vr=Object(tt.b)({ownProjectsMeta:pt(),ownProjects:ut()}),qr=Object(et.withRouter)(Object(l.connect)(Vr,function(e){return{handleFetchOwnProjects:function(){return e(Je())},handleDeleteProject:function(t){return e(Ue(t))}}})(function(e){var t=e.ownProjectsMeta,n=e.handleFetchOwnProjects,a=e.ownProjects,o=e.location;return Object(r.useEffect)(function(){t.get("isLoaded")||n()},[]),t.get("isLoading")?c.a.createElement(ot,null):c.a.createElement("div",null,c.a.createElement("div",null,a.map(function(e){return c.a.createElement(Gr,{key:e.get("proj_id"),to:"".concat(o.pathname,"/").concat(e.get("proj_id"))},c.a.createElement("div",null,e.get("name")),c.a.createElement("div",null,Ur(new Date(e.get("start_day")))," - ",Ur(new Date((t=new Date(e.get("start_day")),n=e.get("tot_days"),t.setDate(t.getDate()+n))))," / ",e.get("tot_days"),"\u5929"));var t,n})))}));function Hr(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  border-bottom: solid 1px lightgray;\n"]);return Hr=function(){return e},e}function Wr(){var e=Object(nt.a)(["\n  padding: 9px 0;\n  text-align: center;\n  background-color: #bbb;\n"]);return Wr=function(){return e},e}var Zr=at.a.div(Wr()),Kr=at.a.label(Hr()),Xr=Object(l.connect)(function(e,t){return{ownProjectsMeta:pt()(e),project:(n=t.match.params.projectId,Object(tt.a)(it,function(e){return e.get("ownProjects").find(function(e){return e.get("proj_id")===Number(n)})}))(e)};var n},function(e){return{handleFetchOwnProjects:function(){return e(Je())},handleDeleteProject:function(t){return e(Ue(t))}}})(function(e){var t=e.ownProjectsMeta,n=e.handleFetchOwnProjects,a=e.project;return Object(r.useEffect)(function(){t.get("isLoaded")||t.get("isLoading")||n()},[]),!t.get("isLoaded")||t.get("isLoading")?c.a.createElement(ot,null):a?c.a.createElement("div",null,c.a.createElement(Zr,null,a.get("name")),a.get("plan").map(function(e,t){return c.a.createElement(Kr,{key:t},"\u7b2c".concat(t+1,"\u5929"),c.a.createElement("input",{type:"checkbox"}))})):"\u6c92\u6709\u9019\u500b\u65c5\u7a0b"}),$r={loginPagePath:"/",explorePagePath:"/".concat(ht),planningPagePath:"/".concat(bt),travelWallPagePath:"/".concat(_t),personalPagePath:"/".concat(Et),detailPlanningPagePath:"/".concat(jt,"/:projectId"),createProjectPagePath:"/".concat(xt),spotPagePath:"/".concat(ht,"/:spotId"),addSpotToProjectPagePath:"/".concat(ht,"/:spotId/").concat(Ot),addSpotToProjectPlanPagePath:"/".concat(ht,"/:spotId/").concat(Ot,"/:projectId")},Qr=function(){return c.a.createElement(et.Router,{history:Pt},c.a.createElement(et.Switch,null,c.a.createElement(et.Route,{exact:!0,path:$r.loginPagePath,component:xn}),c.a.createElement(et.Route,{exact:!0,path:$r.explorePagePath,component:ua}),c.a.createElement(et.Route,{exact:!0,path:$r.planningPagePath,component:ja}),c.a.createElement(et.Route,{exact:!0,path:$r.travelWallPagePath,component:Sa}),c.a.createElement(et.Route,{exact:!0,path:$r.personalPagePath,component:Ha}),c.a.createElement(et.Route,{exact:!0,path:$r.detailPlanningPagePath,component:Or}),c.a.createElement(et.Route,{exact:!0,path:$r.createProjectPagePath,component:Sr}),c.a.createElement(et.Route,{exact:!0,path:$r.spotPagePath,component:Jr}),c.a.createElement(et.Route,{exact:!0,path:$r.addSpotToProjectPagePath,component:qr}),c.a.createElement(et.Route,{exact:!0,path:$r.addSpotToProjectPlanPagePath,component:Xr})))},ec=function(){return c.a.createElement(et.Router,{history:Pt},c.a.createElement(et.Switch,null,c.a.createElement(et.Route,{exact:!0,path:$r.loginPagePath,component:Ft}),c.a.createElement(et.Route,{exact:!0,path:$r.explorePagePath,component:Gt}),c.a.createElement(et.Route,{exact:!0,path:$r.planningPagePath,component:qt}),c.a.createElement(et.Route,{exact:!0,path:$r.travelWallPagePath,component:Ht}),c.a.createElement(et.Route,{exact:!0,path:$r.personalPagePath,component:Wt}),c.a.createElement(et.Route,{exact:!0,path:$r.detailPlanningPagePath,component:Kt}),c.a.createElement(et.Route,{exact:!0,path:$r.createProjectPagePath,component:nn}),c.a.createElement(et.Route,{exact:!0,path:$r.spotPagePath,component:an}),c.a.createElement(et.Route,{exact:!0,path:$r.addSpotToProjectPagePath,component:rn}),c.a.createElement(et.Route,{exact:!0,path:$r.addSpotToProjectPlanPagePath,component:cn})))};function tc(){var e=Object(nt.a)(["\n  background: lightgray;\n  ","\n"]);return tc=function(){return e},e}var nc=at.a.div(tc(),yt()),ac=function(){return c.a.createElement(nc,null,c.a.createElement(ec,null))};function rc(){var e=Object(nt.a)(["\n  ","\n"]);return rc=function(){return e},e}var cc=at.a.div(rc(),yt()),oc=function(){return c.a.createElement(cc,null,c.a.createElement(Qr,null))};function ic(){var e=Object(nt.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background: #D3D3D3;\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n  }\n"]);return ic=function(){return e},e}var lc=at.a.div(ic()),uc=function(e){var t=e.title;return c.a.createElement(lc,{"data-page-path":t,onClick:function(e){var t=Ut(e,"data-page-path");Pt.push("/".concat(t))}},c.a.createElement("img",{className:"nav-tab__image",src:"https://freeiconshop.com/wp-content/uploads/edd/bulb-curvy-flat.png",alt:""}),c.a.createElement("div",null,t))};function pc(){var e=Object(nt.a)(["\n  display: flex;\n  justify-content: space-around;\n  ","\n"]);return pc=function(){return e},e}var sc=at.a.div(pc(),yt()),dc=function(){return c.a.createElement(sc,null,c.a.createElement(uc,{title:ht}),c.a.createElement(uc,{title:bt}),c.a.createElement(uc,{title:_t}),c.a.createElement(uc,{title:Et}))};function fc(){var e=Object(nt.a)(["\n  display: grid;\n  ",'\n  grid-template-areas:\n    "header"\n    "content"\n    "navigation";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n  }\n']);return fc=function(){return e},e}var mc=at.a.div(fc(),function(e){return e.isNavVisible?"grid-template-rows: ".concat(50,"px auto ").concat(60,"px;"):"grid-template-rows: ".concat(50,"px auto 0px")}),gc=vt.SpotlightProvider,vc=vt.SpotlightConsumer,hc=function(e){var t=e.handleFetchLoginStatus,n=e.loginStatusMeta;return Object(r.useEffect)(function(){n.get("isLoading")||t()},[]),c.a.createElement(gc,null,c.a.createElement(vc,null,function(e){var t=e.isNavVisible;return c.a.createElement(mc,{isNavVisible:t},c.a.createElement("div",{className:"spot-light__header-container"},c.a.createElement(ac,null)),c.a.createElement("div",{className:"spot-light__content-container"},n.get("isLoading")?c.a.createElement(ot,null):c.a.createElement(oc,null)),t&&c.a.createElement("div",{className:"spot-light__navigation-container"},c.a.createElement(dc,null)))}))};hc.defaultProps={};var bc=Object(tt.b)({loginStatusMeta:lt()}),_c=Object(et.withRouter)(Object(l.connect)(bc,function(e){return{handleFetchLoginStatus:function(){return e({type:k})}}})(hc)),Ec=(n(559),function(){return c.a.createElement(et.Router,{history:Pt},c.a.createElement(_c,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(560);i.a.render(c.a.createElement(l.Provider,{store:Qe},c.a.createElement(u.a,{basename:""},c.a.createElement(Ec,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[217,1,2]]]);
//# sourceMappingURL=main.118a25b6.chunk.js.map