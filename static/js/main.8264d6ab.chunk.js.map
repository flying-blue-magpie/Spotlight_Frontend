{"version":3,"sources":["assets/NavIcons/planning_icon.svg","assets/NavIcons/planning_icon_hover.svg","assets/NavIcons/explore_icon.svg","assets/NavIcons/explore_icon_hover.svg","assets/NavIcons/travel_wall_icon.svg","assets/NavIcons/travel_wall_icon_hover.svg","assets/NavIcons/personal_icon.svg","assets/NavIcons/personal_icon_hover.svg","assets/upload_travel_wall_icon.svg","assets/trash_icon.svg","assets/edit_day_icon.svg","assets/map_plus_icon.svg","Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","utils/requests.js","config.js","utils/query-string.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","Styled/Settings/colors.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/LoginPage/index.js","containers/Spotlight/Header/ExplorePage/index.js","utils/event.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PersonalPage/SettingPage/index.js","containers/Spotlight/Header/PersonalPage/SettingPage/SettingInfoPage/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Header/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/Styled.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/index.js","containers/Spotlight/Content/ExplorePage/reducer.js","containers/Spotlight/Content/ExplorePage/constants.js","containers/Spotlight/Content/ExplorePage/Styled.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","containers/Spotlight/Content/TravelWallPage/components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/index.js","containers/Spotlight/Content/PersonalPage/Information/Favicon/index.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/ProjectCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/SettingInfoPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","components/Modal/index.js","components/TimePicker/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTimeInfo/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","components/InputBox/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/SpotPage/Styled.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/AddSpotToProjectPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPage/index.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_USER_BY_ID","SET_USER_LOADING","SET_USER_DONE","FETCH_USERS","SET_USERS_LOADING","SET_USERS_DONE","FETCH_SPOT_BY_ID","SET_SPOT_LOADING","SET_SPOT_DONE","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","FETCH_PROJECT_BY_ID","SET_PROJECT_LOADING","SET_PROJECT_DONE","FETCH_PROJECTS","SET_PROJECTS_LOADING","SET_PROJECTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","LOGOUT","SET_LOGOUT_LOADING","SET_LOGOUT_DONE","FETCH_LOGIN_STATUS","SET_LOGIN_STATUS_LOADING","SET_LOGIN_STATUS_DONE","REGISTER","SET_REGISTER_LOADING","SET_REGISTER_DONE","EXPLORE_NEXT_SPOT","SET_EXPLORING_SPOT_ID","FETCH_OWN_PROJECTS","SET_OWN_PROJECTS_LOADING","SET_OWN_PROJECTS_DONE","SUBMIT_CREATE_PROJECT","CREATE_PROJECT_LOADING","CREATE_PROJECT_DONE","SUBMIT_UPDATE_PROJECT","UPDATE_PROJECT_LOADING","UPDATE_PROJECT_DONE","SUBMIT_DELETE_PROJECT","DELETE_PROJECT_LOADING","DELETE_PROJECT_DONE","LIKE_SPOT","SET_LIKE_SPOT_DONE","CANCEL_LIKE_SPOT","SET_CANCEL_LIKE_SPOT_DONE","FETCH_FAVORITE_SPOT_IDS","SET_FAVORITE_SPOT_IDS_LOADING","SET_FAVORITE_SPOT_IDS_DONE","ADD_FAVORITE_SPOT_ID","DELETE_FAVORITE_SPOT_ID","FETCH_FAVORITE_PROJECT_IDS","SET_FAVORITE_PROJECT_IDS_LOADING","SET_FAVORITE_PROJECT_IDS_DONE","SET_IS_MODAL_VISIBLE","DEFAULT_PROJECT","name","start_day","tot_days","NavIcon","explore","normal","exploreIconPath","hover","exploreHoverIconPath","planning","planningIconPath","planningHoverIconPath","travelWall","travelWallIconPath","travelWallHoverIconPath","personal","personalIconPath","personalHoverIconPath","WEEKDAYS_SHORT","split","HOURS","MINUTES","initialState","fromJS","setSpotMeta","META","setSpotsMeta","spots","spotsResult","setProjectMeta","setProjectsMeta","projects","projectsResult","loginMeta","logoutMeta","registerMeta","loginStatusMeta","ownProjectsMeta","createProjectMeta","updateProjectMeta","deleteProjectMeta","isModalVisible","user","users","usersResult","setUserMeta","setUsersMeta","ownProjects","exploringSpotId","setFavoriteSpotIdsMeta","setFavoriteProjectIdsMeta","favoriteSpotIds","favoriteProjectIds","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","mergeDeepIn","user_id","_action$payload2","entities","result","_action$payload3","spot","spot_id","_action$payload4","_action$payload5","project","proj_id","_action$payload6","_action$payload7","_action$payload8","_action$payload9","_action$payload10","_action$payload11","id","updateIn","likeNum","_action$payload12","_action$payload13","ids","_action$payload14","isVisible","toSet","add","toList","index","indexOf","delete","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","query_string","obj","filter","spotSchema","schema","Entity","idAttribute","spotListSchema","projectSchema","projectListSchema","userSchema","userListSchema","setUserDone","setUsersDone","normalize","fetchSpotById","setSpotDone","setSpotsDone","setProjectDone","setProjectsDone","setLoginDone","setLogoutDone","setRegisterDone","setLoginStatusDone","exploreNextSpot","setExploringSpotId","fetchOwnProjects","setOwnProjectsDone","createProjectDone","submitUpdateProject","projectId","updateProject","updateProjectDone","submitDeleteProject","deleteProjectDone","likeSpot","setLikeSpotDone","setCancelLikeSpotDone","fetchFavoriteSpotIds","setFavoriteSpotIdsDone","setFavoriteProjectIdsDone","getKeywordQueryString","keyword","getZonesQueryString","zones","zone","getSearchSpotQueryString","_ref11","queryString","queryStringSegment","epics","action$","ofType","switchMap","Observable","empty","$state","_ref10","flatMap","content","startWith","_ref","_ref3","_ref4","kw","_ref5","_ref6","toQueryString","owner","only_public","onlyPublic","state$","_ref12","stat$","_ref13","_ref14","acc","_ref15","_ref7","newProject","message","success","_ref8","toJS","_ref9","_ref16","_ref17","_ref18","row","_ref19","value","get","spotIds","nextSpot","slice","getIn","String","find","includes","store_epics","toConsumableArray","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","SpotlightTheme","mainColor","defaultTheme","StyledSpinner","styled","div","_templateObject","Spinner","react_default","a","createElement","className","selectSpotlight","selectSpots","createSelector","spotlightState","selectUser","selectLoginStatusMeta","selectOwnProjects","selectOwnProjectsMeta","selectFavoriteSpotIdsMeta","selectFavoriteSpotIds","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","props","children","_useState","useState","_useState2","slicedToArray","isNavVisible","setIsNavVisible","_useState3","_useState4","isHeaderVisible","setIsHeaderVisible","_useState5","_useState6","setNewProject","_useState7","_useState8","isEditMode","setIsEditMode","_useState9","Map","_useState10","setUpdateProject","useSelection","defaultProps","Context","SpotlightConsumer","PAGE_NAME","mixinWidthWrapper","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","HeaderTitle","_templateObject2","HeaderLeftButtons","_templateObject3","HeaderRightButtons","_templateObject4","HeaderLinkButton","Link","_templateObject5","HeaderButton","button","_templateObject6","LoginPage","useContext","useEffect","withRouter","location","menu","search","to","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Header_PlanningPage","context","handleToCreateProject","useCallback","path","push","handleEditModeOn","handleEditModeOff","role","onClick","data-redirect-path","Header_TravelWallPage","Header_PersonalPage","handleGoToSetting","PersonalPage_SettingPage","handleGoBackToPlanning","SettingPage_SettingInfoPage","DetailPlanningPage","handleGoToUpdatePlanning","day","URLSearchParams","window","match","pathname","src","uploadTravelWallIconPath","alt","UpdatePlanningPage","handleSubmitUpdateProject","handleGoBackToDetailPlanning","handleOnCheckBtn","mapStateToProps","createStructuredSelector","connect","dispatch","CreateProjectPage","handleSubmitCreateProject","startDay","moment","format","days","submitCreateProject","goBack","updatedProject","_useContext","handleOnCheckClick","UserName","input","LoginPage_templateObject","PassWord","LoginPage_templateObject2","LoginButton","LoginPage_templateObject3","RegisterRow","LoginPage_templateObject4","ErrorMessage","LoginPage_templateObject5","Logo","img","LoginPage_templateObject6","Login","usernameRef","createRef","passwordRef","Fragment","ref","placeholder","handleSubmitLogin","current","pwd","href","handleSubmitRegister","_ref4$acc","_ref4$pwd","login","_ref5$acc","_ref5$pwd","register","Container","ZoneMenu_Styled_templateObject","Region","Styled_templateObject2","ZoneLabel","label","Styled_templateObject3","ZoneMenu","zonesState","regions","region","onChange","zoneState","size","checked","warning","zoneReducer","setIn","基隆市","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","南投縣","臺中市","彰化縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣","連江縣","金門縣","澎湖縣","ExplorePage_Styled_templateObject","Card","ExplorePage_Styled_templateObject2","CardImage","ExplorePage_Styled_templateObject3","CardInfo","Styled_templateObject4","SpotName","span","Styled_templateObject5","SpotLikes","Styled_templateObject6","ButtonRow","_templateObject7","Button","_templateObject8","ButtonCrossIcon","i","_templateObject9","ButtonHeartIcon","_templateObject10","ButtonLabel","_templateObject11","CardRow","_templateObject12","SearchRow","_templateObject13","SearchBar","_templateObject14","SelectCountyButton","_templateObject15","SearchInputContainer","_templateObject16","SearchInput","_templateObject17","ZonesRow","_templateObject18","_templateObject19","ZoneLabelCrossIcon","_templateObject20","spotId","favoriteSpotIdsMeta","handleSwipeLeft","createHandleSwipeRight","handleFetchSpots","_ref2$zones","_ref2$kw","fetchSpots","handleFetchFavoriteSpotIds","_useReducer","useReducer","zonesData","_useReducer2","selectedZones","setKeyword","ExplorePage_ZoneMenu","Styled_Container","onKeyUp","blur","Styled_ZoneLabel","components_Spinner","react_router_dom","confirm","Modal","ProjectCard_templateObject","ProjectCard","handleDeleteProject","endDay","handleOnClick","detailPlanningPagePath","handleOnDeleteProject","projId","title","okText","okType","onOk","ProjectCard_Container","data-project-id","trashIconPath","PlanningPage_templateObject","PlanningPage","handleFetchOwnProjects","isLoaded","isLoading","PlanningPage_Container","components_ProjectCard","List","StyledTravelCard","TravelCard_templateObject","imagePath","TravelCard","StyledTravelWallPage","TravelWallPage_templateObject","TravelWallPage","cards","fill","x","card","components_TravelCard","Favicon","Information","Information_Favicon","isActiveStyle","isActive","CollectionTabs","activeCollectionType","data-collection-type","StyledSpotCard","SpotCard_templateObject","data-id","StyledSpotCollection","SpotCollection_templateObject","SpotCollection_SpotCard","StyledProjectCard","ProjectCollection_ProjectCard_templateObject","faviconPath","fetchUserById","fetchProjectById","ownerId","userName","StyledProjectCollection","ProjectCollection_templateObject","ProjectCollection_ProjectCard","CollectionContent","handleOnCardClick","redirectPath","CollectionContent_ProjectCollection","CollectionContent_SpotCollection","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","faviconSize","favoriteProjectIdsMeta","fetchFavoriteProjectIds","setActiveCollectionType","isAnonymous","react_router","routePathConfig","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","StyledFaviBanner","styles_templateObject","FaviBanner","StyledSettingPage","SettingPage_styles_templateObject","logout","SettingPage_FaviBanner","SettingInfoPage","TabWrapper","Tab_templateObject","theme","Tab","currentDay","toString","DateTabsContainer","DateTabs_templateObject","DateTabs","tabs","tab","DateTabs_Tab","assign","editDayIcon","fade","keyframes","Modal_templateObject","heightGrowingAnimation","Modal_templateObject2","ModalWrapper","Modal_templateObject3","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","el","document","setAttribute","style","position","top","width","height","zIndex","display","appendChild","modalRootEl","getElementById","removeChild","isHeightGrowing","_this$props","optionStyle","heightGrowing","ReactDOM","createPortal","React","Component","TimePicker_templateObject","TimePickerWrapper","TimePicker_templateObject2","TimePicker","handleHourChange","setState","hourValueGroups","handleMinuteChange","minuteValueGroups","handleOnCheck","handleOnOk","_this$state","hour","minute","startTime","hourOptionGroups","minuteOptionGroups","handleOnCancel","_this$state2","react_mobile_picker_default","valueGroups","optionGroups","modalStyle","bottom","StyledDateTimeInfo","DateTimeInfo_templateObject","DateTimeInfo","plan","handleSetModalVisible","searchParams","parseInt","date","weekday","handleShowModal","handleHideModal","handleOnPickerCheck","updatedPlan","components_Modal","components_TimePicker","setIsModalVisible","Content_SpotCard_templateObject","HEIGHT_SPOT_CARD","SpotCard","SpotCard_StyledSpotCard","StyledContent","Content_templateObject","SpotOperator","Content_templateObject2","mockSpotData","address","Content","Boolean","mapPlusIconPath","lib_default","dataSource","Content_SpotCard","handles","rowClassName","onUpdate","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","ownProject","DetailPlanningPage_DateTabs","DetailPlanningPage_DateTimeInfo","DetailPlanningPage_Content","InputBoxWrapper","InputBox_templateObject","InputBox","inputType","defaultValue","handleOnChange","UpdatePlanningPageWrapper","UpdatePlanningPage_templateObject","handleOnNameChange","handleOnDateChange","starDay","components_InputBox","StyledCreateProjectPage","CreateProjectPage_templateObject","currentValue","SpotPage_Styled_templateObject","Feature","SpotPage_Styled_templateObject2","BackButton","SpotPage_Styled_templateObject3","AddButton","SpotPage_Styled_templateObject4","FeatureImage","SpotPage_Styled_templateObject5","FeatureInfo","SpotPage_Styled_templateObject6","Styled_templateObject7","Title","Styled_templateObject8","LikeLabel","Styled_templateObject9","LikeButton","Styled_templateObject10","Paragraph","Styled_templateObject11","handleFetchSpotById","handleLikeSpot","handleCancelLikeSpot","cancelLikeSpot","isSpotFavorite","Number","handleLikeOnClick","SpotPage_Styled_Container","Styled_SpotName","AddSpotToProjectPage_Styled_templateObject","Project","AddSpotToProjectPage_Styled_templateObject2","ProjectName","AddSpotToProjectPage_Styled_templateObject3","ProjectDate","AddSpotToProjectPage_Styled_templateObject4","CreateProjectButton","AddSpotToProjectPage_Styled_templateObject5","AddIcon","AddSpotToProjectPage_Styled_templateObject6","AddSpotToProjectPage_Styled_Container","AddSpotToProjectPlanPage_Styled_templateObject","ProjectTitle","AddSpotToProjectPlanPage_Styled_templateObject2","Plan","AddSpotToProjectPlanPage_Styled_templateObject3","ownProps","daySelection","setDaySelection","arrange","spotArrange","during","AddSpotToProjectPlanPage_Styled_Container","_plan","loginPagePath","explorePagePath","planningPagePath","travelWallPagePath","settingPath","settingInfoPath","updatePlanningPagePath","createProjectPagePath","spotPagePath","addSpotToProjectPagePath","addSpotToProjectPlanPagePath","Routes","exact","component","ExplorePage","PersonalPage","SettingPage","SpotPage","AddSpotToProjectPage","AddSpotToProjectPlanPage","Header_Routes","Header_templateObject","Header","Header_HeaderContainer","ContentContainer","Spotlight_Content_templateObject","NavTabWrapper","NavTab_templateObject","iconPath","NavTab","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchLoginStatus","Spotlight_SpotlightProvider","Spotlight_Header","Spotlight_Content","Spotlight_Navigation","App","containers_Spotlight","hostname","render","es","styled_components_browser_esm","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8264d6ab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/planning_icon.3f20bcf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon_hover.227d029b.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon.7ee67c0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon_hover.bdbf1daf.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon.f266c270.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon_hover.8af82dd9.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon.88417814.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon_hover.55279ab9.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload_travel_wall_icon.ebe53160.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash_icon.9cc5960c.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit_day_icon.d93c390b.svg\";","module.exports = __webpack_public_path__ + \"static/media/map_plus_icon.9917e007.svg\";","export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","import planningIconPath from 'assets/NavIcons/planning_icon.svg';\nimport planningHoverIconPath from 'assets/NavIcons/planning_icon_hover.svg';\n\nimport exploreIconPath from 'assets/NavIcons/explore_icon.svg';\nimport exploreHoverIconPath from 'assets/NavIcons/explore_icon_hover.svg';\n\nimport travelWallIconPath from 'assets/NavIcons/travel_wall_icon.svg';\nimport travelWallHoverIconPath from 'assets/NavIcons/travel_wall_icon_hover.svg';\n\nimport personalIconPath from 'assets/NavIcons/personal_icon.svg';\nimport personalHoverIconPath from 'assets/NavIcons/personal_icon_hover.svg';\n\n\nexport const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_USER_BY_ID = `${KEY_REDUCER}/FETCH_USER_BY_ID`;\nexport const SET_USER_LOADING = `${KEY_REDUCER}/SET_USER_LOADING`;\nexport const SET_USER_DONE = `${KEY_REDUCER}/SET_USER_DONE`;\n\nexport const FETCH_USERS = `${KEY_REDUCER}/FETCH_USERS`;\nexport const SET_USERS_LOADING = `${KEY_REDUCER}/SET_USERS_LOADING`;\nexport const SET_USERS_DONE = `${KEY_REDUCER}/SET_USERS_DONE`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const FETCH_PROJECT_BY_ID = `${KEY_REDUCER}/FETCH_PROJECT_BY_ID`;\nexport const SET_PROJECT_LOADING = `${KEY_REDUCER}/SET_PROJECT_LOADING`;\nexport const SET_PROJECT_DONE = `${KEY_REDUCER}/SET_PROJECT_DONE`;\n\nexport const FETCH_PROJECTS = `${KEY_REDUCER}/FETCH_PROJECTS`;\nexport const SET_PROJECTS_LOADING = `${KEY_REDUCER}/SET_PROJECTS_LOADING`;\nexport const SET_PROJECTS_DONE = `${KEY_REDUCER}/SET_PROJECTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const LOGOUT = `${KEY_REDUCER}/LOGOUT`;\nexport const SET_LOGOUT_LOADING = `${KEY_REDUCER}/SET_LOGOUT_LOADING`;\nexport const SET_LOGOUT_DONE = `${KEY_REDUCER}/SET_LOGOUT_DONE`;\n\nexport const FETCH_LOGIN_STATUS = `${KEY_REDUCER}/FETCH_LOGIN_STATUS`;\nexport const SET_LOGIN_STATUS_LOADING = `${KEY_REDUCER}/SET_LOGIN_STATUS_LOADING`;\nexport const SET_LOGIN_STATUS_DONE = `${KEY_REDUCER}/SET_LOGIN_STATUS_DONE`;\n\nexport const REGISTER = `${KEY_REDUCER}/REGISTER`;\nexport const SET_REGISTER_LOADING = `${KEY_REDUCER}/SET_REGISTER_LOADING`;\nexport const SET_REGISTER_DONE = `${KEY_REDUCER}/SET_REGISTER_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\nexport const SET_EXPLORING_SPOT_ID = `${KEY_REDUCER}/SET_EXPLORING_SPOT_ID`;\n\nexport const FETCH_OWN_PROJECTS = `${KEY_REDUCER}/FETCH_OWN_PROJECTS`;\nexport const SET_OWN_PROJECTS_LOADING = `${KEY_REDUCER}/SET_OWN_PROJECTS_LOADING`;\nexport const SET_OWN_PROJECTS_DONE = `${KEY_REDUCER}/SET_OWN_PROJECTS_DONE`;\n\nexport const SUBMIT_CREATE_PROJECT = `${KEY_REDUCER}/SUBMIT_CREATE_PROJECT`;\nexport const CREATE_PROJECT_LOADING = `${KEY_REDUCER}/CREATE_PROJECT_LOADING`;\nexport const CREATE_PROJECT_DONE = `${KEY_REDUCER}/CREATE_PROJECT_DONE`;\n\nexport const SUBMIT_UPDATE_PROJECT = `${KEY_REDUCER}/SUBMIT_UPDATE_PROJECT`;\nexport const UPDATE_PROJECT_LOADING = `${KEY_REDUCER}/UPDATE_PROJECT_LOADING`;\nexport const UPDATE_PROJECT_DONE = `${KEY_REDUCER}/UPDATE_PROJECT_DONE`;\n\nexport const SUBMIT_DELETE_PROJECT = `${KEY_REDUCER}/SUBMIT_DELETE_PROJECT`;\nexport const DELETE_PROJECT_LOADING = `${KEY_REDUCER}/DELETE_PROJECT_LOADING`;\nexport const DELETE_PROJECT_DONE = `${KEY_REDUCER}/DELETE_PROJECT_DONE`;\n\nexport const LIKE_SPOT = `${KEY_REDUCER}/LIKE_SPOT`;\nexport const SET_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_LIKE_SPOT_DONE`;\n\nexport const CANCEL_LIKE_SPOT = `${KEY_REDUCER}/CANCEL_LIKE_SPOT`;\nexport const SET_CANCEL_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_SPOT_DONE`;\n\nexport const FETCH_FAVORITE_SPOT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_SPOT_IDS`;\nexport const SET_FAVORITE_SPOT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_LOADING`;\nexport const SET_FAVORITE_SPOT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_DONE`;\n\nexport const ADD_FAVORITE_SPOT_ID = `${KEY_REDUCER}/ADD_FAVORITE_SPOT_ID`;\nexport const DELETE_FAVORITE_SPOT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_SPOT_ID`;\n\nexport const FETCH_FAVORITE_PROJECT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_PROJECT_IDS`;\nexport const SET_FAVORITE_PROJECT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_LOADING`;\nexport const SET_FAVORITE_PROJECT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_DONE`;\n\nexport const SET_IS_MODAL_VISIBLE = `${KEY_REDUCER}/SET_IS_MODAL_VISIBLE`;\n\nexport const DEFAULT_PROJECT = {\n  name: '',\n  start_day: '', // format: 2018/12/01 00:00:00\n  tot_days: 0,\n};\n\nexport const DEFAULT_PLAN = {\n  start_time: '08:00:00', // format: 08:00:00\n  arrange: [],\n};\n\nexport const DEFAULT_ARRANGE = {\n  spot_id: null,\n  during: 0,\n};\n\nexport const NavIcon = {\n  explore: {\n    normal: exploreIconPath,\n    hover: exploreHoverIconPath,\n  },\n  planning: {\n    normal: planningIconPath,\n    hover: planningHoverIconPath,\n  },\n  travelWall: {\n    normal: travelWallIconPath,\n    hover: travelWallHoverIconPath,\n  },\n  personal: {\n    normal: personalIconPath,\n    hover: personalHoverIconPath,\n  },\n};\n\nexport const WEEKDAYS = '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_');\nexport const WEEKDAYS_SHORT = '週日_週一_週二_週三_週四_週五_週六'.split('_');\n\nexport const HOURS = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '21', '22', '23',\n];\n\nexport const MINUTES = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '22', '22', '23', '24', '25', '26', '27', '28', '29',\n  '30', '33', '32', '33', '34', '35', '36', '37', '38', '39',\n  '40', '44', '42', '43', '44', '45', '46', '47', '48', '49',\n  '50', '55', '52', '53', '54', '55', '56', '57', '58', '59',\n];\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  SET_REGISTER_LOADING,\n  SET_REGISTER_DONE,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n  SET_LIKE_SPOT_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  SET_CANCEL_LIKE_SPOT_DONE,\n} from './constants';\n\nconst initialState = fromJS({\n  setSpotMeta: META,\n  setSpotsMeta: META,\n  spots: {},\n  spotsResult: [],\n\n  setProjectMeta: META,\n  setProjectsMeta: META,\n  projects: {},\n  projectsResult: [],\n\n  loginMeta: META,\n  logoutMeta: META,\n  registerMeta: META,\n  loginStatusMeta: META,\n  ownProjectsMeta: META,\n  createProjectMeta: META,\n  updateProjectMeta: META,\n  deleteProjectMeta: META,\n\n  // modal\n  isModalVisible: false,\n\n  user: null,\n  users: {},\n  usersResult: [],\n  setUserMeta: META,\n  setUsersMeta: META,\n  ownProjects: [],\n  exploringSpotId: 0,\n  setFavoriteSpotIdsMeta: META,\n  setFavoriteProjectIdsMeta: META,\n  favoriteSpotIds: [],\n  favoriteProjectIds: [],\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER_LOADING:\n      return state.update('setUserMeta', updateMetaLoading);\n\n    case SET_USER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setUserMeta', updateMetaError);\n      }\n      if (!user) { // handle user is undefined\n        return state.update('setUserMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['users', user.user_id], fromJS(user))\n        .update('setUserMeta', updateMetaDone);\n    }\n\n    case SET_USERS_LOADING:\n      return state\n        .update('setUsersMeta', updateMetaLoading);\n\n    case SET_USERS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setUsersMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users'], fromJS(entities.users))\n        .set('usersResult', fromJS(result))\n        .update('setUsersMeta', updateMetaDone)\n        .set('exploringUserId', result[0]);\n    }\n\n    case SET_SPOT_LOADING:\n      return state.update('setSpotMeta', updateMetaLoading);\n\n    case SET_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setSpotMeta', updateMetaError);\n      }\n      if (!spot) { // handle spot is undefined\n        return state.update('setSpotMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['spots', spot.spot_id], fromJS(spot))\n        .update('setSpotMeta', updateMetaDone);\n    }\n\n    case SET_SPOTS_LOADING:\n      return state\n        .update('setSpotsMeta', updateMetaLoading);\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .set('spotsResult', fromJS(result))\n        .update('setSpotsMeta', updateMetaDone)\n        .set('exploringSpotId', result[0]);\n    }\n\n    case SET_PROJECT_LOADING:\n      return state.update('setProjectMeta', updateMetaLoading);\n\n    case SET_PROJECT_DONE: {\n      const {\n        error,\n        project,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setProjectMeta', updateMetaError);\n      }\n      if (!project) { // handle project is undefined\n        return state.update('setProjectMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['projects', project.proj_id], fromJS(project))\n        .update('setProjectMeta', updateMetaDone);\n    }\n\n    case SET_PROJECTS_LOADING:\n      return state\n        .update('setProjectsMeta', updateMetaLoading);\n\n    case SET_PROJECTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setProjectsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['projects'], fromJS(entities.projects))\n        .set('projectsResult', fromJS(result))\n        .update('setProjectsMeta', updateMetaDone)\n        .set('exploringProjectId', result[0]);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGOUT_LOADING:\n      return state.update('logoutMeta', updateMetaLoading);\n\n    case SET_LOGOUT_DONE: {\n      const { error } = action.payload;\n      if (error) {\n        return state.update('logoutMeta', updateMetaError);\n      }\n      return state\n        .set('user', null)\n        .update('logoutMeta', updateMetaDone);\n    }\n\n    case SET_REGISTER_LOADING:\n      return state.update('registerMeta', updateMetaLoading);\n\n    case SET_REGISTER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('registerMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('registerMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGIN_STATUS_LOADING:\n      return state.update('loginStatusMeta', updateMetaLoading);\n\n    case SET_LOGIN_STATUS_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginStatusMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginStatusMeta', updateMetaDone);\n    }\n\n    case SET_EXPLORING_SPOT_ID:\n      return state.set('exploringSpotId', action.payload);\n\n    case SET_OWN_PROJECTS_LOADING:\n      return state.update('ownProjectsMeta', updateMetaLoading);\n\n    case SET_OWN_PROJECTS_DONE: {\n      const {\n        error,\n        ownProjects,\n      } = action.payload;\n      if (error) {\n        return state.update('ownProjectsMeta', updateMetaError);\n      }\n      return state\n        .set('ownProjects', fromJS(ownProjects))\n        .update('ownProjectsMeta', updateMetaDone);\n    }\n\n    // create project\n    case CREATE_PROJECT_LOADING:\n      return state.update('createProjectMeta', updateMetaLoading);\n\n    case CREATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('createProjectMeta', updateMetaError);\n      }\n      return state\n        .update('createProjectMeta', updateMetaDone);\n    }\n\n    // update project\n    case UPDATE_PROJECT_LOADING:\n      return state.update('updateProjectMeta', updateMetaLoading);\n\n    case UPDATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('updateProjectMeta', updateMetaError);\n      }\n      return state\n        .update('updateProjectMeta', updateMetaDone)\n        .set('isModalVisible', false);\n    }\n\n    // delete project\n    case DELETE_PROJECT_LOADING:\n      return state.update('deleteProjectMeta', updateMetaLoading);\n\n    case DELETE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('deleteProjectMeta', updateMetaError);\n      }\n      return state\n        .update('deleteProjectMeta', updateMetaDone);\n    }\n\n    case SET_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['spots', id, 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['spots', id, 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_FAVORITE_SPOT_IDS_LOADING:\n      return state.update('setFavoriteSpotIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_SPOT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteSpotIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteSpotIds', fromJS(ids))\n        .update('setFavoriteSpotIdsMeta', updateMetaDone);\n    }\n\n    case SET_FAVORITE_PROJECT_IDS_LOADING:\n      return state.update('setFavoriteProjectIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_PROJECT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteProjectIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteProjectIds', fromJS(ids))\n        .update('setFavoriteProjectIdsMeta', updateMetaDone);\n    }\n\n    // modal\n    case SET_IS_MODAL_VISIBLE: {\n      const {\n        isVisible,\n      } = action.payload;\n      return state.set('isModalVisible', isVisible);\n    }\n\n    case ADD_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","export const API_URI = '/api';\nexport const ADMIN_API_URI = API_URI;\n","export default (obj) => {\n  if (typeof obj !== 'object' || obj === null) {\n    throw Error('input should be an object.');\n  }\n\n  return Object.keys(obj)\n    .filter((key) => obj[key] !== null && typeof obj[key] !== 'undefined')\n    .map((key) => (\n      `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`\n    ))\n    .join('&');\n};\n","import { schema, normalize } from 'normalizr';\nimport {\n  FETCH_SPOT_BY_ID,\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  LOGOUT,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  REGISTER,\n  SET_REGISTER_DONE,\n  SET_REGISTER_LOADING,\n  EXPLORE_NEXT_SPOT,\n  FETCH_LOGIN_STATUS,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  FETCH_OWN_PROJECTS,\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  SUBMIT_CREATE_PROJECT,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  SUBMIT_UPDATE_PROJECT,\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  SUBMIT_DELETE_PROJECT,\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  CANCEL_LIKE_SPOT,\n  SET_CANCEL_LIKE_SPOT_DONE,\n\n  FETCH_PROJECT_BY_ID,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  FETCH_PROJECTS,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n\n  FETCH_FAVORITE_PROJECT_IDS,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n\n  LIKE_SPOT,\n  SET_LIKE_SPOT_DONE,\n  FETCH_FAVORITE_SPOT_IDS,\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  FETCH_USER_BY_ID,\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  FETCH_USERS,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n} from './constants';\n\nconst spotSchema = new schema.Entity('spots', {}, { idAttribute: 'spot_id' });\nconst spotListSchema = new schema.Array(spotSchema);\n\nconst projectSchema = new schema.Entity('projects', {}, { idAttribute: 'proj_id' });\nconst projectListSchema = new schema.Array(projectSchema);\n\nconst userSchema = new schema.Entity('users', {}, { idAttribute: 'user_id' });\nconst userListSchema = new schema.Array(userSchema);\n\nexport const setIsModalVisible = (isVisible) => ({\n  type: SET_IS_MODAL_VISIBLE,\n  payload: {\n    isVisible,\n  },\n});\n\nexport const fetchUserById = (id) => ({\n  type: FETCH_USER_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserLoading = () => ({\n  type: SET_USER_LOADING,\n});\n\nexport const setUserDone = (error, user) => ({\n  type: SET_USER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchUsers = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_USERS,\n  payload: { zones, kw },\n});\n\nexport const setUsersLoading = () => ({\n  type: SET_USERS_LOADING,\n});\n\nexport const setUsersDone = (error, users) => ({\n  type: SET_USERS_DONE,\n  payload: {\n    error,\n    ...normalize(users, userListSchema),\n  },\n});\n\nexport const fetchSpotById = (id) => ({\n  type: FETCH_SPOT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setSpotLoading = () => ({\n  type: SET_SPOT_LOADING,\n});\n\nexport const setSpotDone = (error, spot) => ({\n  type: SET_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const fetchProjectById = (id) => ({\n  type: FETCH_PROJECT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setProjectLoading = () => ({\n  type: SET_PROJECT_LOADING,\n});\n\nexport const setProjectDone = (error, project) => ({\n  type: SET_PROJECT_DONE,\n  payload: {\n    error,\n    project,\n  },\n});\n\nexport const fetchProjects = ({ owner, onlyPublic } = {}) => ({\n  type: FETCH_PROJECTS,\n  payload: { owner, onlyPublic },\n});\n\nexport const setProjectsLoading = () => ({\n  type: SET_PROJECTS_LOADING,\n});\n\nexport const setProjectsDone = (error, projects) => ({\n  type: SET_PROJECTS_DONE,\n  payload: {\n    error,\n    ...normalize(projects, projectListSchema),\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const logout = () => ({\n  type: LOGOUT,\n});\n\nexport const setLogoutLoading = () => ({\n  type: SET_LOGOUT_LOADING,\n});\n\nexport const setLogoutDone = (error) => ({\n  type: SET_LOGOUT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const register = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: REGISTER,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setRegisterLoading = () => ({\n  type: SET_REGISTER_LOADING,\n});\n\nexport const setRegisterDone = (error, user) => ({\n  type: SET_REGISTER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchLoginStatus = () => ({\n  type: FETCH_LOGIN_STATUS,\n});\n\nexport const setLoginStatusLoading = () => ({\n  type: SET_LOGIN_STATUS_LOADING,\n});\n\nexport const setLoginStatusDone = (error, user) => ({\n  type: SET_LOGIN_STATUS_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n\nexport const setExploringSpotId = (id) => ({\n  type: SET_EXPLORING_SPOT_ID,\n  payload: id,\n});\n\n// fetch own project\nexport const fetchOwnProjects = () => ({\n  type: FETCH_OWN_PROJECTS,\n});\n\nexport const setOwnProjectsLoading = () => ({\n  type: SET_OWN_PROJECTS_LOADING,\n});\n\nexport const setOwnProjectsDone = (error, ownProjects) => ({\n  type: SET_OWN_PROJECTS_DONE,\n  payload: {\n    error,\n    ownProjects,\n  },\n});\n\n// create project\nexport const submitCreateProject = (newProject) => ({\n  type: SUBMIT_CREATE_PROJECT,\n  payload: {\n    newProject,\n  },\n});\n\nexport const createProjectLoading = () => ({\n  type: CREATE_PROJECT_LOADING,\n});\n\nexport const createProjectDone = (error, user) => ({\n  type: CREATE_PROJECT_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\n// update project\nexport const submitUpdateProject = (projectId, updateProject) => ({\n  type: SUBMIT_UPDATE_PROJECT,\n  payload: {\n    projectId,\n    updateProject,\n  },\n});\n\nexport const updateProjectLoading = () => ({\n  type: UPDATE_PROJECT_LOADING,\n});\n\nexport const updateProjectDone = (error) => ({\n  type: UPDATE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\n// delete project\nexport const submitDeleteProject = (projectId) => ({\n  type: SUBMIT_DELETE_PROJECT,\n  payload: {\n    projectId,\n  },\n});\n\nexport const deleteProjectLoading = () => ({\n  type: DELETE_PROJECT_LOADING,\n});\n\nexport const deleteProjectDone = (error) => ({\n  type: DELETE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const likeSpot = (id) => ({\n  type: LIKE_SPOT,\n  payload: id,\n});\n\nexport const setLikeSpotDone = (error, id) => ({\n  type: SET_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeSpot = (id) => ({\n  type: CANCEL_LIKE_SPOT,\n  payload: id,\n});\n\nexport const setCancelLikeSpotDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const fetchFavoriteSpotIds = () => ({\n  type: FETCH_FAVORITE_SPOT_IDS,\n});\n\nexport const setFavoriteSpotIdsLoading = () => ({\n  type: SET_FAVORITE_SPOT_IDS_LOADING,\n});\n\nexport const setFavoriteSpotIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_SPOT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n\nexport const addFavoriteSpotId = (id) => ({\n  type: ADD_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteSpotId = (id) => ({\n  type: DELETE_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const fetchFavoriteProjectIds = () => ({\n  type: FETCH_FAVORITE_PROJECT_IDS,\n});\n\nexport const setFavoriteProjectIdsLoading = () => ({\n  type: SET_FAVORITE_PROJECT_IDS_LOADING,\n});\n\nexport const setFavoriteProjectIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_PROJECT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n  map,\n} from 'rxjs/operators';\nimport message from 'antd/lib/message';\n\nimport toQueryString from 'utils/query-string';\nimport {\n  INIT,\n  FETCH_USER_BY_ID,\n  FETCH_USERS,\n  FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  FETCH_PROJECT_BY_ID,\n  FETCH_PROJECTS,\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n  FETCH_LOGIN_STATUS,\n  FETCH_OWN_PROJECTS,\n  SUBMIT_CREATE_PROJECT,\n  SUBMIT_DELETE_PROJECT,\n  LIKE_SPOT,\n  FETCH_FAVORITE_SPOT_IDS,\n  FETCH_FAVORITE_PROJECT_IDS,\n  EXPLORE_NEXT_SPOT,\n  KEY_REDUCER,\n  SUBMIT_UPDATE_PROJECT,\n  CANCEL_LIKE_SPOT,\n} from './constants';\nimport {\n  setUserLoading,\n  setUserDone,\n  setUsersLoading,\n  setUsersDone,\n  setSpotLoading,\n  setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setProjectLoading,\n  setProjectDone,\n  setProjectsLoading,\n  setProjectsDone,\n  setLoginLoading,\n  setLoginDone,\n  setLogoutLoading,\n  setLogoutDone,\n  setRegisterDone,\n  setRegisterLoading,\n  setLoginStatusDone,\n  setLoginStatusLoading,\n  setOwnProjectsDone,\n  setOwnProjectsLoading,\n\n  // create project\n  createProjectDone,\n  createProjectLoading,\n\n  // update project\n  updateProjectDone,\n  updateProjectLoading,\n\n  fetchOwnProjects,\n\n  // delete project\n  deleteProjectLoading,\n  deleteProjectDone,\n\n  setCancelLikeSpotDone,\n  setLikeSpotDone,\n  setFavoriteSpotIdsDone,\n  setFavoriteSpotIdsLoading,\n  setFavoriteProjectIdsDone,\n  setFavoriteProjectIdsLoading,\n  setExploringSpotId,\n  deleteFavoriteSpotId,\n  addFavoriteSpotId,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\nconst fetchUserByIdEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserDone(error),\n      )),\n      startWith(setUserLoading()),\n    )),\n  )\n);\n\nconst fetchUsersEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USERS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/users',\n    }).pipe(\n      flatMap((data) => of(\n        setUsersDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUsersDone(error),\n      )),\n      startWith(setUsersLoading()),\n    )),\n  )\n);\n\nconst fetchSpotByIdEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/spot/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotDone(error),\n      )),\n      startWith(setSpotLoading()),\n    )),\n  )\n);\n\nconst fetchSpotsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst fetchProjectByIdEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/proj/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectDone(error),\n      )),\n      startWith(setProjectLoading()),\n    )),\n  )\n);\n\nconst fetchProjectsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/projs?${toQueryString({\n        owner: action.payload.owner,\n        only_public: action.payload.onlyPublic,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectsDone(error),\n      )),\n      startWith(setProjectsLoading()),\n    )),\n  )\n);\n\nconst createProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_PROJECT),\n    switchMap((action) => {\n      const {\n        newProject,\n      } = action.payload;\n      return request({\n        method: 'post',\n        url: '/own/proj',\n        data: newProject,\n      }).pipe(\n        flatMap((data) => {\n          message.success('創建成功');\n          return of(\n            createProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('創建失敗');\n          return fetchErrorEpic(\n            error,\n            createProjectDone(error),\n          );\n        }),\n        startWith(createProjectLoading()),\n      );\n    }),\n  )\n);\n\n// PUT /own/proj/<int:proj_id>\nconst updateProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_UPDATE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n        updateProject,\n      } = action.payload;\n      return request({\n        method: 'put',\n        url: `/own/proj/${projectId}`,\n        data: updateProject.toJS(),\n      }).pipe(\n        flatMap((data) => {\n          message.success('更新成功');\n          return of(\n            updateProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('更新失敗');\n          return fetchErrorEpic(\n            error,\n            updateProjectDone(error),\n          );\n        }),\n        startWith(updateProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst deleteProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_DELETE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n      } = action.payload;\n      return request({\n        method: 'delete',\n        url: `/proj/${projectId}`,\n      }).pipe(\n        flatMap(() => {\n          message.success('刪除成功');\n          return of(\n            deleteProjectDone(null),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('刪除失敗');\n          return fetchErrorEpic(\n            error,\n            deleteProjectDone(error),\n          );\n        }),\n        startWith(deleteProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchOwnProjectsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_OWN_PROJECTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/own/projs',\n    }).pipe(\n      flatMap((data) => of(\n        setOwnProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setOwnProjectsDone(error),\n      )),\n      startWith(setOwnProjectsLoading()),\n    )),\n  )\n);\n\nconst getKeywordQueryString = (keyword) => (\n  typeof keyword === 'string' && keyword.length > 0\n    ? `kw=${keyword}`\n    : ''\n);\n\nconst getZonesQueryString = (zones) => zones\n  .map((zone) => `zone=${zone}`)\n  .join('&');\n\nconst getSearchSpotQueryString = ({ zones, keyword }) => {\n  const queryString = [\n    getKeywordQueryString(keyword),\n    getZonesQueryString(zones),\n  ]\n    .filter((queryStringSegment) => queryStringSegment !== '')\n    .join('&');\n\n  return queryString.length > 0 ? `?${queryString}` : '';\n};\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: data.content.user }\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nconst logoutEpic = (action$, stat$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGOUT),\n    switchMap(() => request({\n      method: 'post',\n      url: '/logout',\n    }).pipe(\n      flatMap(() => (\n        of(setLogoutDone(null))\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLogoutDone(error),\n      )),\n      startWith(setLogoutLoading()),\n    )),\n  )\n);\n\nconst registerEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(REGISTER),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/register',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: action.payload.acc }\n          : null;\n        return of(setRegisterDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRegisterDone(error),\n      )),\n      startWith(setRegisterLoading()),\n    )),\n  )\n);\n\nconst fetchLoginStatusEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_LOGIN_STATUS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/check_login',\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginStatusDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginStatusDone(error),\n      )),\n      startWith(setLoginStatusLoading()),\n    )),\n  )\n);\n\nconst likeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeSpotDone(null, action.payload),\n            addFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeSpotDone(null, action.payload),\n            deleteFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setCancelLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst fetchFavoriteSpotIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_SPOT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/spots',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteSpotIdsDone(null, res.content.map((row) => row.spot_id)),\n          );\n        }\n        return of(setFavoriteSpotIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteSpotIdsDone(error),\n      )),\n      startWith(setFavoriteSpotIdsLoading()),\n    )),\n  )\n);\n\nconst fetchFavoriteProjectIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_PROJECT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/projs',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteProjectIdsDone(null, res.content.map((row) => row.proj_id)),\n          );\n        }\n        return of(setFavoriteProjectIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteProjectIdsDone(error),\n      )),\n      startWith(setFavoriteProjectIdsLoading()),\n    )),\n  )\n);\n\nconst exploreNextSpotEpic = (action$, state$) => (\n  action$.pipe(\n    ofType(EXPLORE_NEXT_SPOT),\n    map(() => {\n      const state = state$.value.get(KEY_REDUCER);\n      const favoriteSpotIds = state.get('favoriteSpotIds');\n      const spotIds = state.get('spotsResult');\n      const exploringSpotId = state.get('exploringSpotId');\n      const nextSpot = spotIds\n        .slice(spotIds.indexOf(exploringSpotId) + 1)\n        .map((id) => state.getIn(['spots', String(id)]))\n        .find((spot) => !favoriteSpotIds.includes(spot.get('spot_id')));\n\n      if (nextSpot) {\n        return setExploringSpotId(nextSpot.get('spot_id'));\n      }\n\n      return setExploringSpotId(exploringSpotId);\n    }),\n  )\n);\n\nexport default [\n  setInit,\n  fetchOwnProjectsEpic,\n  fetchUserByIdEpic,\n  fetchUsersEpic,\n  fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  fetchProjectByIdEpic,\n  fetchProjectsEpic,\n  loginEpic,\n  logoutEpic,\n  registerEpic,\n  fetchLoginStatusEpic,\n  createProjectEpic,\n  updateProjectEpic,\n  deleteProjectEpic,\n  likeSpotEpic,\n  cancelLikeSpotEpic,\n  fetchFavoriteSpotIdsEpic,\n  fetchFavoriteProjectIdsEpic,\n  exploreNextSpotEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","const YELLOW = '#F9D94A';\n\nconst SpotlightTheme = {\n  mainColor: YELLOW,\n};\n\nexport const defaultTheme = {\n  ...SpotlightTheme,\n};\n\nexport const GRAY = '#dbdcdb';\nexport const GRAY_DARK = '#c4c4c4';\nexport const BACKGROUND_COLOR = '#f0f0f0';\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 300px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst Spinner = () => (\n  <StyledSpinner>\n    <i className=\"fa fa-spinner fa-spin\" />\n  </StyledSpinner>\n);\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectUserMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUserMeta'),\n);\n\nexport const selectUsersMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUsersMeta'),\n);\n\nexport const selectUsers = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('users'),\n);\n\nexport const selectSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotMeta'),\n);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('projects'),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpotId = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('exploringSpotId'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  selectExploringSpotId(),\n  (spotlightState, spotId) => spotlightState.getIn(['spots', String(spotId)], Map()),\n);\n\nexport const selectLoginStatusMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginStatusMeta'),\n);\n\nexport const selectOwnProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects'),\n);\n\nexport const selectOwnProjectsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjectsMeta'),\n);\n\nexport const selectOwnProjectById = (id) => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects')\n    .find(\n      (project) => project.get('proj_id') === Number(id),\n    ),\n);\n\nexport const selectFavoriteSpotIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteSpotIdsMeta'),\n);\n\nexport const selectFavoriteSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteSpotIds'),\n);\n\nexport const selectFavoriteProjectIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteProjectIdsMeta'),\n);\n\nexport const selectFavoriteProjectIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteProjectIds'),\n);\n\nexport const selectIsModalVisible = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('isModalVisible'),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS, Map } from 'immutable';\nimport { DEFAULT_PROJECT } from './constants';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [isNavVisible, setIsNavVisible] = useState(true);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true);\n\n  // create project\n  const [newProject, setNewProject] = useState(fromJS(DEFAULT_PROJECT));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // update project\n  const [updateProject, setUpdateProject] = useState(Map());\n\n  return {\n    isNavVisible,\n    setIsNavVisible,\n\n    isHeaderVisible,\n    setIsHeaderVisible,\n\n    // create project\n    newProject,\n    setNewProject,\n\n    // update project\n    updateProject,\n    setUpdateProject,\n\n    isEditMode,\n    setIsEditMode,\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: '探索景點',\n  PLANNING: '計畫旅程',\n  TRAVEL_WALL: '旅遊牆',\n  PERSONAL_PAGE: '我的',\n  SETTING: '設定',\n  SETTING_INFO: '修改資訊',\n  DETAIL_PLANNING: '旅程內容',\n  UPDATE_PLANNING: '修改旅程',\n  CREATE_PROJECT: '增加旅程',\n  ADD_SPOT_TO_PROJECT: '加到我的行程',\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const HeaderContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n  }\n  .icon-style {\n    color: rgba(51, 51, 51, 1);\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n\nexport const HeaderTitle = styled.div`\n  flex-basis: 1;\n  flex-shrink: 0;\n  text-align: center;\n`;\n\nexport const HeaderLeftButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 14px;\n`;\n\nexport const HeaderRightButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n`;\n\nexport const HeaderLinkButton = styled(Link)`\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n  }\n`;\n\nexport const HeaderButton = styled.button`\n  padding: 0;\n  border: 0;\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n    background-color: transparent;\n  }\n`;\n","import React, { useContext, useEffect } from 'react';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  return (\n    <HeaderContainer>\n      {'登入'}\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  HeaderLinkButton,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst ExplorePageHeader = ({ location }) => {\n  const { menu } = queryString.parse(location.search);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE}`}>\n            <i className=\"fas fa-times\" />\n          </HeaderLinkButton>\n        }\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        {menu === 'zone' ? '縣市選擇' : PAGE_NAME.EXPLORE}\n      </HeaderTitle>\n      <HeaderRightButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE}`}>\n            <i className=\"fas fa-check\" />\n          </HeaderLinkButton>\n        }\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nExplorePageHeader.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(ExplorePageHeader);\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n    setIsEditMode,\n    setIsNavVisible,\n  } = context;\n  const handleToCreateProject = useCallback((event) => {\n    const path = findAttributeInEvent(event, 'data-redirect-path');\n    history.push(path);\n  }, []);\n  const handleEditModeOn = useCallback(() => {\n    setIsEditMode(true);\n    setIsNavVisible(false);\n  }, []);\n  const handleEditModeOff = useCallback(() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }, []);\n  useEffect(() => (() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }), []);\n  if (isEditMode) {\n    return (\n      <HeaderContainer>\n        <div>調整旅程</div>\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <i\n            role=\"presentation\"\n            className=\"fas fa-check icon-style\"\n            onClick={handleEditModeOff}\n          />\n        </div>\n      </HeaderContainer>\n    );\n  }\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleEditModeOn} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT}\n          onClick={handleToCreateProject}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.TRAVEL_WALL}\n  </HeaderContainer>\n);\n","import React, { useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => {\n  const handleGoToSetting = useCallback(() => {\n    history.push(`/${PAGE_NAME.SETTING}`);\n  });\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PERSONAL_PAGE}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-cog icon-style\" onClick={handleGoToSetting} />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PERSONAL_PAGE}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.SETTING}</div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.SETTING}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.SETTING_INFO}</div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\nimport uploadTravelWallIconPath from 'assets/upload_travel_wall_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst DetailPlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  }, []);\n  const handleGoToUpdatePlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.UPDATE_PLANNING}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.DETAIL_PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleGoToUpdatePlanning} />\n        <img src={uploadTravelWallIconPath} className=\"icon-style\" alt=\"\" />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n};\n\nexport default DetailPlanningPage;\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    setUpdateProject,\n    updateProject,\n  } = context;\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n\n    handleSubmitUpdateProject(projectId, updateProject);\n    setUpdateProject(Map());\n\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, [updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleGoBackToDetailPlanning}\n        />\n      </div>\n      <div>{PAGE_NAME.UPDATE_PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from 'containers/Spotlight/constants';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  PAGE_NAME,\n} from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\n\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitCreateProject,\n} from 'containers/Spotlight/actions';\n\nconst { SpotlightContext } = Context;\n\nconst CreateProjectPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    newProject,\n    setNewProject,\n  } = context;\n  const setInit = () => {\n    setNewProject(fromJS(DEFAULT_PROJECT));\n  };\n  const handleOnCancelBtn = () => {\n    history.push(PAGE_NAME.PLANNING);\n  };\n  const handleOnCheckBtn = () => {\n    const {\n      handleSubmitCreateProject,\n    } = props;\n    const name = newProject.get('name');\n    const startDay = moment(newProject.get('start_day')).format('YYYY/MM/DD 00:mm:ss');\n    const days = newProject.get('tot_days');\n    if (!name || !newProject.get('start_day')) {\n      message.error('欄位皆為必填');\n      return;\n    }\n    if (days <= 0) {\n      message.error('天數格式錯誤');\n      return;\n    }\n    handleSubmitCreateProject({\n      name,\n      start_day: startDay,\n      tot_days: days,\n    });\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  };\n  useEffect(() => {\n    setIsNavVisible(false);\n    setInit();\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleOnCancelBtn}\n        />\n      </div>\n      <div>{PAGE_NAME.CREATE_PROJECT}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nCreateProjectPage.propTypes = {\n  handleSubmitCreateProject: PropTypes.func,\n};\n\nCreateProjectPage.defaultProps = {\n  handleSubmitCreateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateProject: (newProject) => dispatch(submitCreateProject(newProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProjectPage);\n","import React, { useContext, useEffect } from 'react';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPage = () => {\n  const { setIsNavVisible } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons />\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n};\n\nexport default withRouter(AddSpotToProjectPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { submitUpdateProject } from 'containers/Spotlight/actions';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  handleSubmitUpdateProject,\n  match,\n}) => {\n  const { setIsNavVisible, updateProject } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  const handleOnCheckClick = useCallback(() => {\n    history.goBack();\n    handleSubmitUpdateProject(match.params.projectId, updateProject);\n  });\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons>\n        <HeaderButton type=\"button\" onClick={handleOnCheckClick}>\n          <i className=\"fas fa-check\" />\n        </HeaderButton>\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  handleSubmitUpdateProject: PropTypes.func.isRequired,\n  match: PropTypes.object.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updatedProject) => (\n    dispatch(submitUpdateProject(projectId, updatedProject))\n  ),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React, { createRef, useEffect } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport {\n  login,\n  register,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectLoginStatusMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst row = `\n  width: 300px;\n  display: block;\n  margin: 0 auto 24px;\n`;\n\nconst UserName = styled.input`\n  ${row}\n  margin-top: 24px;\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst PassWord = styled.input`\n  ${row}\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst LoginButton = styled.button`\n  ${row}\n  line-height: 1.5;\n  background-color: lightgray;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n`;\n\nconst RegisterRow = styled.div`\n  ${row}\n  display: flex;\n  justify-content: center;\n`;\n\nconst ErrorMessage = styled.div`\n  ${row}\n  color: red;\n`;\n\nconst Logo = styled.img`\n  width: 125px;\n  display: block;\n  margin: 0 auto;\n  border-radius: 50%;\n  margin-top: 24px;\n`;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n    loginStatusMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const handleRegisterBtnClick = () => {\n    const {\n      handleSubmitRegister,\n    } = props;\n    handleSubmitRegister({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (loginStatusMeta.get('isLoaded') && user) {\n      history.push(`/${PAGE_NAME.EXPLORE}`);\n    }\n  }, [user]);\n\n  return (\n    loginStatusMeta.get('isLoaded') && !user ? (\n      <React.Fragment>\n        <Logo src=\"https://avatars0.githubusercontent.com/u/48876369?s=200&v=4\" />\n        <UserName ref={usernameRef} type=\"email\" placeholder=\"輸入電子信箱/用戶名\" />\n        <PassWord ref={passwordRef} type=\"password\" placeholder=\"輸入密碼\" />\n        <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n        <RegisterRow>\n          <a href=\"/#\" onClick={handleRegisterBtnClick}>\n            立即註冊\n          </a>\n        </RegisterRow>\n        {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n      </React.Fragment>\n    ) : null\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  handleSubmitRegister: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n  handleSubmitRegister: ({ acc, pwd }) => dispatch(register({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const Region = styled.div`\n  font-size: 14px;\n  padding: 9px 15px 15px;\n  color: #AAAAAA;\n\n  &:first-of-type {\n    padding-top: 15px;\n  }\n`;\n\nexport const ZoneLabel = styled.label`\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 15px 11px;\n  padding-bottom: 11px;\n  border-bottom: solid 1px #DFDFDF;\n  color: #333333;\n\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 15px;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport message from 'antd/lib/message';\nimport { Region, ZoneLabel, Container } from './Styled';\n\nconst ZoneMenu = ({\n  zonesState,\n  dispatch,\n}) => {\n  const regions = zonesState.map((zone) => zone.get('region')).toSet();\n\n  return (\n    <Container>\n      {regions.map((region) => (\n        <React.Fragment key={region}>\n          <Region>{region}</Region>\n          {zonesState\n            .filter((zone) => zone.get('region') === region)\n            .map((zone) => (\n              <ZoneLabel key={zone.get('name')}>\n                {zone.get('name')}\n                <input\n                  type=\"checkbox\"\n                  onChange={(event) => {\n                    const selectedSize = zonesState\n                      .filter((zoneState) => zoneState.get('selected'))\n                      .size;\n                    if (selectedSize === 5 && event.currentTarget.checked) {\n                      message.warning('最多可選 5 個！', 2);\n                      return;\n                    }\n                    dispatch({\n                      type: event.currentTarget.checked ? 'SELECT_ZONE' : 'CANCEL_ZONE',\n                      payload: { zone: zone.get('name') },\n                    });\n                  }}\n                  checked={zone.get('selected', false)}\n                />\n              </ZoneLabel>\n            ))\n            .toList()\n          }\n        </React.Fragment>\n      ))}\n    </Container>\n  );\n};\n\nZoneMenu.propTypes = {\n  zonesState: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default ZoneMenu;\n","export const zoneReducer = (state, action) => {\n  switch (action.type) {\n    case 'SELECT_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], true);\n    case 'CANCEL_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], false);\n    default:\n      return state;\n  }\n};\n","export const zones = {\n  基隆市: {\n    name: '基隆市',\n    region: '北部縣市',\n  },\n  臺北市: {\n    name: '臺北市',\n    region: '北部縣市',\n  },\n  新北市: {\n    name: '新北市',\n    region: '北部縣市',\n  },\n  桃園市: {\n    name: '桃園市',\n    region: '北部縣市',\n  },\n  新竹市: {\n    name: '新竹市',\n    region: '北部縣市',\n  },\n  新竹縣: {\n    name: '新竹縣',\n    region: '北部縣市',\n  },\n  苗栗縣: {\n    name: '苗栗縣',\n    region: '中部縣市',\n  },\n  南投縣: {\n    name: '南投縣',\n    region: '中部縣市',\n  },\n  臺中市: {\n    name: '臺中市',\n    region: '中部縣市',\n  },\n  彰化縣: {\n    name: '彰化縣',\n    region: '中部縣市',\n  },\n  雲林縣: {\n    name: '雲林縣',\n    region: '中部縣市',\n  },\n  嘉義市: {\n    name: '嘉義市',\n    region: '南部縣市',\n  },\n  嘉義縣: {\n    name: '嘉義縣',\n    region: '南部縣市',\n  },\n  臺南市: {\n    name: '臺南市',\n    region: '南部縣市',\n  },\n  高雄市: {\n    name: '高雄市',\n    region: '南部縣市',\n  },\n  屏東縣: {\n    name: '屏東縣',\n    region: '南部縣市',\n  },\n  宜蘭縣: {\n    name: '宜蘭縣',\n    region: '東部縣市',\n  },\n  花蓮縣: {\n    name: '花蓮縣',\n    region: '東部縣市',\n  },\n  臺東縣: {\n    name: '臺東縣',\n    region: '東部縣市',\n  },\n  連江縣: {\n    name: '連江縣',\n    region: '外島縣市',\n  },\n  金門縣: {\n    name: '金門縣',\n    region: '外島縣市',\n  },\n  澎湖縣: {\n    name: '澎湖縣',\n    region: '外島縣市',\n  },\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-bottom: 20px;\n`;\n\nexport const Card = styled.div`\n  display: block;\n  width: 300px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  height: 240px;\n  object-fit: cover;\n`;\n\nexport const CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 18px 18px;\n  background-color: #FFFFFF;\n`;\n\nexport const SpotName = styled.span`\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  font-size: 18px;\n  \n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #333333;\n  }\n`;\n\nexport const SpotLikes = styled.span`\n  flex-shrink: 0;\n  font-size: 14px;\n\n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #AAAAAA;\n  }\n`;\n\nexport const ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 16px;\n`;\n\nexport const Button = styled.button`\n  display: block;\n  width: 60px;\n  height: 60px;\n  background: #fff;\n  border-radius: 50%;\n  font-size: 18px;\n  margin-bottom: 5px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  appearance: none;\n  border: 0;\n`;\n\nexport const ButtonCrossIcon = styled.i`\n  font-size: 28px;\n  color: #333333;\n`;\n\nexport const ButtonHeartIcon = styled.i`\n  font-size: 20px;\n  color: #EB715A;\n`;\n\nexport const ButtonLabel = styled.label`\n  margin-right: 16px;\n  text-align: center;\n  font-size: 14px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SearchRow = styled.div`\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(#F9D94A 50%, transparent 50%);\n  padding: 3px 15px 15px;\n`;\n\nexport const SearchBar = styled.div`\n  width: 100%;\n  display: flex;\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nexport const SelectCountyButton = styled.button`\n  flex-shrink: 0;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  appearance: none;\n  border: 0;\n  position: relative;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n\n  &:after {\n    content : \"\";\n    position: absolute;\n    right: 0;\n    z-index: 100;\n    top: 50%;\n    width: 1px;\n    transform: translateY(-50%);\n    height: 70%;\n    background: #B5B5B5;\n  }\n`;\n\nconst searchInputLeftPadding = '33px';\n\nexport const SearchInputContainer = styled.div`\n  position: relative;\n  flex-grow: 1;\n  background-color: #fff;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f002\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${searchInputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  padding: 9px 9px 9px ${searchInputLeftPadding};\n  appearance: none;\n  border: 0;\n`;\n\nexport const ZonesRow = styled.div`\n  padding: 0 12px;\n  margin-bottom: 30px;\n`;\n\nexport const ZoneLabel = styled.span`\n  display: inline-block;\n  background-color: #EEEEEE;\n  color: #AAAAAA;\n  font-size: 12px;\n  padding: 2px 5px;\n  margin-right: 10px;\n  border-radius: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const ZoneLabelCrossIcon = styled.i`\n  margin-left: 5px;\n`;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, fromJS } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport {\n  selectExploringSpot,\n  selectSpotsMeta,\n  selectFavoriteSpotIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  exploreNextSpot,\n  fetchSpots,\n  likeSpot,\n  fetchFavoriteSpotIds,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport ZoneMenu from './ZoneMenu';\nimport { zoneReducer } from './reducer';\nimport { zones as zonesData } from './constants';\n\nimport {\n  Container,\n  CardRow,\n  Card,\n  CardImage,\n  CardInfo,\n  ButtonRow,\n  Button,\n  SearchRow,\n  SearchBar,\n  SelectCountyButton,\n  SearchInputContainer,\n  SearchInput,\n  ZonesRow,\n  ZoneLabel,\n  ButtonLabel,\n  SpotName,\n  SpotLikes,\n  ZoneLabelCrossIcon,\n  ButtonCrossIcon,\n  ButtonHeartIcon,\n} from './Styled';\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    handleSwipeLeft,\n    createHandleSwipeRight,\n    handleFetchSpots,\n    setSpotsMeta,\n    location,\n    history,\n    handleFetchFavoriteSpotIds,\n    favoriteSpotIdsMeta,\n  } = props;\n\n  const [zonesState, dispatch] = useReducer(zoneReducer, fromJS(zonesData));\n  const selectedZones = zonesState\n    .filter((zone) => zone.get('selected'))\n    .map((zone) => zone.get('name'))\n    .toList()\n    .toJS();\n\n  const [keyword, setKeyword] = useState('');\n  const handleSearchInputKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleFetchSpots({ kw: keyword, zones: selectedZones });\n      event.currentTarget.blur();\n    }\n  };\n\n  useEffect(() => {\n    if (!setSpotsMeta.get('isLoading')) {\n      handleFetchSpots();\n    }\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      handleFetchFavoriteSpotIds();\n    }\n  }, []);\n\n  const query = queryString.parse(location.search);\n\n  if (query.menu === 'zone') {\n    return (\n      <ZoneMenu\n        location={location}\n        history={history}\n        zonesState={zonesState}\n        dispatch={dispatch}\n      />\n    );\n  }\n\n  return (\n    <Container>\n      <SearchRow>\n        <SearchBar>\n          <SelectCountyButton onClick={() => history.push(`${location.pathname}?menu=zone`)}>\n            縣市選擇\n            <i className=\"fas fa-caret-right\" />\n          </SelectCountyButton>\n          <SearchInputContainer>\n            <SearchInput\n              type=\"text\"\n              placeholder=\"搜尋景點關鍵字\"\n              value={keyword}\n              onChange={(event) => setKeyword(event.target.value)}\n              onKeyUp={handleSearchInputKeyUp}\n            />\n          </SearchInputContainer>\n        </SearchBar>\n      </SearchRow>\n      <ZonesRow>\n        {selectedZones.map((zone) => (\n          <ZoneLabel key={zone}>\n            {zone}\n            <ZoneLabelCrossIcon className=\"fas fa-times\" />\n          </ZoneLabel>\n        ))}\n      </ZonesRow>\n      {setSpotsMeta.get('isLoading')\n        ? <Spinner />\n        : (\n          <React.Fragment>\n            <CardRow>\n              <Link to={`/${PAGE_NAME.EXPLORE}/${spot.get('spot_id')}`}>\n                <Card>\n                  <CardImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n                  <CardInfo>\n                    <SpotName>{spot.get('name')}</SpotName>\n                    <SpotLikes>\n                      {spot.get('like_num')}\n                      人收藏\n                    </SpotLikes>\n                  </CardInfo>\n                </Card>\n              </Link>\n            </CardRow>\n            <ButtonRow>\n              <ButtonLabel>\n                <Button onClick={handleSwipeLeft}>\n                  <ButtonCrossIcon className=\"fas fa-times\" />\n                </Button>\n                <span>跳過</span>\n              </ButtonLabel>\n              <ButtonLabel>\n                <Button onClick={createHandleSwipeRight(spot.get('spot_id'))}>\n                  <ButtonHeartIcon className=\"fas fa-heart\" />\n                </Button>\n                <span>想去</span>\n              </ButtonLabel>\n            </ButtonRow>\n          </React.Fragment>\n        )\n      }\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  handleSwipeLeft: PropTypes.func.isRequired,\n  createHandleSwipeRight: PropTypes.func.isRequired,\n  handleFetchSpots: PropTypes.func.isRequired,\n  setSpotsMeta: PropTypes.object,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n  setSpotsMeta: selectSpotsMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSwipeLeft: () => dispatch(exploreNextSpot()),\n  createHandleSwipeRight: (spotId) => () => {\n    dispatch(likeSpot(spotId));\n    dispatch(exploreNextSpot());\n  },\n  handleFetchSpots: ({ kw, zones } = {}) => dispatch(fetchSpots({ kw, zones })),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ExplorePage));\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport Modal from 'antd/lib/modal';\nimport trashIconPath from 'assets/trash_icon.svg';\n\nconst { confirm } = Modal;\nconst { SpotlightContext } = Context;\n\nconst Container = styled.div`\n  margin-top: 15px;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  position: relative;\n  .project-card__cover-image {\n    background-image: url(\"https://icrvb3jy.xinmedia.com/solomo/article/139141/7A21D0A7-AEA1-D18D-C305-9A5930D37D27.jpeg\");\n    background-size: cover;\n    height: 150px;\n    border-radius: 10px 10px 0px 0px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    height: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .project-card__info-period {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.7;\n    z-index: 1;\n    border-radius: 10px;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: white;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    z-index: 1;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n    width: 14px;\n    height: 14px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n  } = context;\n  const {\n    project,\n    handleDeleteProject,\n  } = props;\n  const projectId = project.get('proj_id');\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const handleOnClick = useCallback(() => {\n    if (isEditMode) {\n      return;\n    }\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [projectId, isEditMode]);\n  const handleOnDeleteProject = useCallback((event) => {\n    const projId = findAttributeInEvent(event, 'data-project-id');\n    confirm({\n      title: '刪除旅程計畫',\n      content: `確認是否刪除 \"${name}\" ？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleDeleteProject(projId);\n      },\n    });\n  }, []);\n  return (\n    <Container isEditMode={isEditMode} onClick={handleOnClick}>\n      {\n        isEditMode &&\n        <>\n          <div className=\"project-card__mask\" />\n          <div\n            role=\"presentation\"\n            className=\"project-card__trash-icon-wrapper\"\n            data-project-id={projectId}\n            onClick={handleOnDeleteProject}\n          >\n            <img className=\"project-card__trash-icon\" src={trashIconPath} alt=\"\" />\n          </div>\n        </>\n      }\n      <div className=\"project-card__cover-image\" />\n      <div className=\"project-card__info-row\">\n        <div className=\"project-card__info-title\">{name}</div>\n        <div className=\"project-card__info-period\">{`${startDay}-${endDay} / ${days}天`}</div>\n      </div>\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleDeleteProject: PropTypes.func,\n};\n\nProjectCard.defaultProps = {\n  project: Map(),\n  handleDeleteProject: () => { },\n};\n\nexport default ProjectCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\n\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Spinner from 'components/Spinner';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  height: 100%;\n  padding: 0px 15px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = ({\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n  handleDeleteProject,\n}) => {\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  return (\n    <Container>\n      {\n        ownProjects.map((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            project={project}\n            handleDeleteProject={handleDeleteProject}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nPlanningPage.propTypes = {\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n  handleDeleteProject: PropTypes.func,\n};\n\nPlanningPage.defaultProps = {\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n  handleDeleteProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PlanningPage));\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledTravelCard = styled.div`\n  margin-top: 10px;\n  .travel-card__header-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 5px 10px;\n    background: #D3D3D3;\n    .travel-card__header-image {\n      font-size: 30px;\n      color: white;\n    }\n    .travel-card__profile-wrapper {\n      margin-left: 10px;\n    }\n    .travel-card__header-name {\n      font-size: 12px;\n      color: #707070;\n    }\n    .travel-card__header-time {\n      font-size: 12px;\n      color: #A4A4A4;\n    }\n  }\n  .travel-card__body-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    height: 120px;\n    background: black;\n    color: white;\n    position: relative;\n    cursor: pointer;\n    .travel-card__body-cover {\n      opacity: 0.5;\n      background-image: url(${(props) => props.imagePath});\n      background-size: cover;\n      height: 100%;\n    }\n    .travel-card__body-text-wrapper {\n      position: absolute;\n      padding: 10px;\n      .travel-card__body-title {\n        font-size: 16px;\n        color: white;\n      }\n      .travel-card__body-period {\n        font-size: 12px;\n      }\n    }\n  }\n  .travel-card__footer-wrapper {\n    background: #D3D3D3;\n    padding: 13px 12px;\n    display: flex;\n    align-items: center;\n    .travel-card__footer-icon {\n      font-size: 16px;\n      color: #707070;\n    }\n    .travel-card__footer-number {\n      font-size: 12px;\n      color: #707070;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst TravelCard = ({ projectId }) => {\n  const imagePath = 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg';\n  const handleOnClick = useCallback(() => {\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  });\n  return (\n    <StyledTravelCard imagePath={imagePath}>\n      <div className=\"travel-card__header-wrapper\">\n        <i className=\"fas fa-user-circle travel-card__header-image\" />\n        <div className=\"travel-card__profile-wrapper\">\n          <div className=\"travel-card__header-name\">這裡是名字</div>\n          <div className=\"travel-card__header-time\">1天前</div>\n        </div>\n      </div>\n      <div role=\"presentation\" className=\"travel-card__body-wrapper\" onClick={handleOnClick}>\n        <div className=\"travel-card__body-cover\" />\n        <div className=\"travel-card__body-text-wrapper\">\n          <div className=\"travel-card__body-title\">台北購物之旅</div>\n          <div className=\"travel-card__body-period\">2019年6月5日-2019年6月9日 / 4天</div>\n        </div>\n      </div>\n      <div className=\"travel-card__footer-wrapper\">\n        <i className=\"far fa-heart travel-card__footer-icon\" />\n        <div className=\"travel-card__footer-number\">666</div>\n      </div>\n    </StyledTravelCard>\n  );\n};\n\nTravelCard.propTypes = {\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nTravelCard.propTypes = {\n};\n\nexport default TravelCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport TravelCard from './components/TravelCard';\n\nconst StyledTravelWallPage = styled.div`\n  padding: 5px 28px;\n`;\n\nconst TravelWallPage = () => {\n  const cards = new Array(10).fill(0).map((x, index) => index);\n  return (\n    <StyledTravelWallPage>\n      {\n        cards.map((card, index) => (\n          <TravelCard\n            key={card}\n            projectId={index}\n          />\n        ))\n      }\n    </StyledTravelWallPage>\n  );\n};\n\nexport default TravelWallPage;\n","import React from 'react';\n\nconst Favicon = () => (\n  <div className=\"personal-page__favicon-wrapper\">\n    <img className=\"personal-page__favicon\" alt=\"\" />\n  </div>\n);\n\nexport default Favicon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Favicon from './Favicon';\n\nconst Information = ({\n  user,\n}) => (\n  <div className=\"personal-page__info-wrapper\">\n    <Favicon user={user} />\n    <div className=\"personal-page__profile-wrapper\">\n      <div className=\"personal-page__profile-name\">{user.get('name')}</div>\n      <div className=\"personal-page__profile-travel-info\">\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">旅程發表</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">收藏數</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">被收藏</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nInformation.propTypes = {\n  user: PropTypes.object.isRequired,\n};\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport { selectSpots } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\n\nconst StyledSpotCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .spot-card__title {\n    font-size: 11px;\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst SpotCard = ({\n  spots,\n  spotId,\n  fetchSpotById,\n  handleOnClick,\n}) => {\n  useEffect(() => {\n    if (!spots.get(spotId)) {\n      fetchSpotById(spotId);\n    }\n  }, []);\n\n  const spot = spots.get(spotId);\n\n  if (!spot) {\n    return null;\n  }\n  const imagePath = spot.get('pic').get(0);\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">{spot.get('name')}</span>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spots: PropTypes.object.isRequired,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchSpotById: PropTypes.func.isRequired,\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n});\n\nexport default connect(mapStateToProps, { fetchSpotById })(SpotCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteSpotIds,\n} from 'containers/Spotlight/selectors';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst SpotCollection = ({\n  favoriteSpotIds,\n  handleOnClick,\n}) => {\n  const cards = favoriteSpotIds.map((value) => value);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card) => (\n          <SpotCard\n            key={card}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  favoriteSpotIds: PropTypes.instanceOf(List),\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nexport default connect(mapStateToProps)(SpotCollection);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectUsers,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserById,\n  fetchProjectById,\n} from 'containers/Spotlight/actions';\n\nconst StyledProjectCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .project-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .project-card__title {\n    font-size: 11px;\n  }\n\n  .project-card__profile-wrapper {\n    display: flex;\n    color: white;\n    padding: 10px;\n    .project-card__profile-favicon {\n      height: 20px;\n      width: 20px;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      border-radius: 100%;\n    }\n    .project-card__profile-name {\n      color: white;\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst ProjectCard = ({\n  users,\n  projects,\n  projectId,\n  fetchUserById,\n  fetchProjectById,\n  handleOnClick,\n}) => {\n  useEffect(() => {\n    const project = projects.get(projectId);\n    if (!project) {\n      fetchProjectById(projectId);\n    } else {\n      const ownerId = project.get('owner');\n      if (!users.get(ownerId)) {\n        fetchUserById(ownerId);\n      }\n    }\n  }, [users, projects]);\n\n  const project = projects.get(projectId);\n\n  if (!project) {\n    return null;\n  }\n\n  const ownerId = project.get('owner');\n  const user = users.get(ownerId);\n  const userName = user && (user.get('name') || '在地專業嚮導');\n  const imagePath = 'https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg';\n  const faviconPath = user && (user.get('protrait') || 'https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg');\n  return (\n    <StyledProjectCard\n      imagePath={imagePath}\n      data-id={projectId}\n      data-redirect-path={PAGE_NAME.DETAIL_PLANNING}\n      onClick={handleOnClick}\n    >\n      <div className=\"project-card__profile-wrapper\">\n        <img className=\"project-card__profile-favicon\" src={faviconPath} alt=\"\" />\n        <div className=\"project-card__profile-name\">{userName}</div>\n      </div>\n      <div className=\"project-card__title-wrapper\">\n        <span className=\"project-card__title\">{project.get('name')}</span>\n      </div>\n    </StyledProjectCard>\n  );\n};\n\nProjectCard.propTypes = {\n  users: PropTypes.object.isRequired,\n  projects: PropTypes.object.isRequired,\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchUserById: PropTypes.func.isRequired,\n  fetchProjectById: PropTypes.func.isRequired,\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  users: selectUsers(),\n  projects: selectProjects(),\n});\n\nexport default connect(mapStateToProps, { fetchUserById, fetchProjectById })(ProjectCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteProjectIds,\n} from 'containers/Spotlight/selectors';\n\nimport ProjectCard from './ProjectCard';\n\nconst StyledProjectCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst ProjectCollection = ({\n  favoriteProjectIds,\n  handleOnClick,\n}) => {\n  const cards = favoriteProjectIds.map((value) => value);\n  return (\n    <StyledProjectCollection>\n      {\n        cards.map((card) => (\n          <ProjectCard\n            key={card}\n            projectId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledProjectCollection>\n  );\n};\n\nProjectCollection.propTypes = {\n  favoriteProjectIds: PropTypes.instanceOf(List),\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteProjectIds: selectFavoriteProjectIds(),\n});\n\nexport default connect(mapStateToProps)(ProjectCollection);\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport ProjectCollection from './ProjectCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <ProjectCollection handleOnClick={handleOnCardClick} />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Redirect } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\nimport {\n  selectUser,\n  selectLoginStatusMeta,\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteProjectIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n} from 'containers/Spotlight/actions';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\n\nconst StyledPersonalPage = styled.div`\n  .personal-page__cover-image {\n    height: 120px;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n  }\n  .personal-page__info-wrapper {\n    display: flex;\n    position: relative;\n    padding: 0px 20px;\n    .personal-page__favicon-wrapper {\n      width: 150px;\n    }\n    .personal-page__favicon {\n      border-radius: 100%;\n      border: 3px solid white;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      height: ${(props) => props.faviconSize}px;\n      width: ${(props) => props.faviconSize}px;\n      position: absolute;\n      top: -30px;\n    }\n    .personal-page__profile-wrapper {\n      padding: 10px 10px;\n      width: 100%;\n      .personal-page__profile-name {\n        font-size: 16px;\n        color: #707070;\n        margin-bottom: 10px;\n      }\n      .personal-page__profile-travel-info {\n        display: flex;\n        .personal-page__profile-travel-info-item-wrapper {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          .personal-page__profile-travel-info-item-title {\n            font-size: 12px;\n            color: #707070;\n            margin-bottom: 3px;\n          }\n          .personal-page__profile-travel-info-item-number {\n            font-size: 12px;\n            color: #707070;\n          }\n        }\n        .personal-page__profile-travel-info-item-divier {\n          border-right: 1px solid #D1D1D1;\n        }\n        .personal-page__profile-travel-info-item-padding-right {\n          padding-right: 20px;\n        }\n        .personal-page__profile-travel-info-item-padding-left {\n          padding-left: 20px;\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst PersonalPage = ({\n  user,\n  loginStatusMeta,\n  favoriteSpotIdsMeta,\n  favoriteProjectIdsMeta,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n}) => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = (user && user.get('protrait')) || 'http://i.imgur.com/EUAd2ht.jpg';\n  const faviconSize = 90;\n  const coverImagePath = 'http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg';\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  const isAnonymous = loginStatusMeta.get('isLoaded') && !user;\n  if (!loginStatusMeta.get('isLoaded')) {\n    return null;\n  }\n  if (isAnonymous) {\n    return <Redirect to={routePathConfig.login} />;\n  }\n\n  useEffect(() => {\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      fetchFavoriteSpotIds();\n    }\n    if (!favoriteProjectIdsMeta.get('isLoading')) {\n      fetchFavoriteProjectIds();\n    }\n  }, []);\n\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-image\" />\n      <Information\n        user={user}\n      />\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nPersonalPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteProjectIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  fetchFavoriteSpotIds: PropTypes.func.isRequired,\n  fetchFavoriteProjectIds: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginStatusMeta: selectLoginStatusMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteProjectIdsMeta: selectFavoriteProjectIdsMeta(),\n});\n\nexport default connect(mapStateToProps, { fetchFavoriteSpotIds, fetchFavoriteProjectIds })(PersonalPage);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { GRAY } from 'Styled/Settings/colors';\n\nexport const StyledFaviBanner = styled(Link)`\n  height: 100px;\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 15px;\n  .favi-banner__favicon-container {\n    height: 100px;\n    width: 100px;\n    padding: 15px;\n    .favi-banner__favicon {\n      height: 100%;\n      width: 100%;\n      background-color: ${GRAY};\n      border-radius: 50%;\n    }\n  }\n  .favi-banner__favicon-right-arrow {\n    width: 25px;\n    display: flex;\n    align-items: center;\n    &:before {\n      color: ${GRAY};\n      content: \"\\f105\";\n      font-family: \"Font Awesome\\ 5 Free\";\n      font-weight: 900;\n      font-size 50px;\n    }\n  }\n`;\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { StyledFaviBanner } from './styles';\n\nconst FaviBanner = () => (\n  <StyledFaviBanner\n    to={`/${PAGE_NAME.SETTING_INFO}`}\n  >\n    <div className=\"favi-banner__favicon-container\">\n      <div className=\"favi-banner__favicon\" />\n    </div>\n    <div className=\"favi-banner__favicon-right-arrow\" />\n  </StyledFaviBanner>\n);\n\nexport default FaviBanner;\n","import styled from 'styled-components';\nimport {\n  GRAY_DARK,\n  BACKGROUND_COLOR,\n} from 'Styled/Settings/colors';\n\nexport const StyledSettingPage = styled.div`\n  height: 100%;\n  background-color: ${BACKGROUND_COLOR};\n  .setting-page__general-setting {\n    background-color: ${GRAY_DARK};\n    padding: 0 15px;\n    line-height: 48px;\n    font-size: 18px;\n  }\n  .setting-page__logout-button {\n    background-color: white;\n    padding: 0 15px;\n    line-height: 48px;\n    text-align: center;\n    font-size: 18px;\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logout } from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport FaviBanner from './FaviBanner';\nimport { StyledSettingPage } from './styles';\n\nconst SettingPage = (props) => {\n  const handleLogoutClick = () => {\n    props.logout();\n    history.push(`/${PAGE_NAME.EXPLORE}`);\n  };\n  return (\n    <StyledSettingPage>\n      <FaviBanner />\n      <div className=\"setting-page__general-setting\">一般設定</div>\n      <div\n        role=\"presentation\"\n        className=\"setting-page__logout-button\"\n        onClick={handleLogoutClick}\n      >\n       登出\n      </div>\n    </StyledSettingPage>\n  );\n};\n\nSettingPage.propTypes = {\n  logout: PropTypes.func,\n};\n\nexport default connect(null, { logout })(SettingPage);\n","import React from 'react';\n\nconst SettingInfoPage = () => (\n  <div>Implement setting info page here</div>\n);\n\nexport default SettingInfoPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst setBackgroundColor = (isActive) => (isActive ? 'tab__number--active' : '');\n\nconst TabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  &:last-child {\n    padding-right: 50px;\n  }\n  .tab__number {\n    font-size: 14px;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => props.theme.mainColor};\n      color: rgba(51, 51, 51, 1);\n    }\n  }\n  .tab__number--active {\n    background: ${(props) => props.theme.mainColor};\n    color: rgba(51, 51, 51, 1);\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.push({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  const searchParams = new URLSearchParams(window.location.search);\n  const currentDay = searchParams.get('day');\n  return (\n    <TabWrapper>\n      <div\n        role=\"presentation\"\n        className={`tab__number ${setBackgroundColor(currentDay === (id + 1).toString())}`}\n        onClick={handleOnClick}\n      >\n        <div className=\"tab__text\">{`第${id + 1}天`}</div>\n      </div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport editDayIcon from 'assets/edit_day_icon.svg';\nimport Tab from './Tab';\n\nconst DateTabsContainer = styled.div`\n  display: flex;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  position: relative;\n  .date-tab__wrapper {\n    display: flex;\n    height: 50px;\n    overflow-x: auto;\n    border-radius: 10px;\n    padding: 0px 15px;\n  }\n  .date-tab__edit-day-icon {\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 0px;\n    cursor: pointer;\n  }\n`;\n\nconst DateTabs = (props) => {\n  const {\n    days,\n  } = props;\n  const tabs = new Array(days).fill(0).map((x, index) => index);\n  return (\n    <DateTabsContainer>\n      <div className=\"date-tab__wrapper\">\n        {\n          tabs.map((tab) => (\n            <Tab\n              key={tab}\n              id={tab}\n              {...props}\n            />\n          ))\n        }\n      </div>\n      <img src={editDayIcon} className=\"date-tab__edit-day-icon\" alt=\"\" />\n    </DateTabsContainer>\n  );\n};\n\nDateTabs.propTypes = {\n  days: PropTypes.number,\n};\n\nDateTabs.defaultProps = {\n  days: 0,\n};\n\nexport default DateTabs;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nconst fade = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.65;\n  }\n`;\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst addGrowingAnimation = (isHeightGrowing) => (isHeightGrowing ? 'modal-wrapper__height-growing-animation' : '');\n\nconst ModalWrapper = styled.div`\n  .modal-wrapper__mask {\n    background: black;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    opacity: 0.65;\n    animation: 0.2s ease-in-out ${fade};\n    position: absolute;\n    bottom: 0;\n  }\n  .modal-wrapper__modal-content {\n    position: absolute;\n    z-index: 1000;\n  }\n  .modal-wrapper__height-growing-animation {\n    animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  }\n`;\n\nclass Modal extends React.Component {\n  static propTypes = {\n    children: PropTypes.any,\n    isVisible: PropTypes.bool,\n    optionStyle: PropTypes.object,\n    heightGrowing: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    children: null,\n    isVisible: false,\n    optionStyle: {},\n    heightGrowing: false,\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      isVisible,\n    } = this.props;\n    this.el = document.createElement('div');\n    this.el.setAttribute('id', 'modal-root-element');\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      this.el.style.display = 'none';\n    }\n  }\n\n  componentDidMount() {\n    if (this.el) {\n      document.body.appendChild(this.el);\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      isVisible,\n    } = this.props;\n    const modalRootEl = document.getElementById('modal-root-element');\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      modalRootEl.style.display = 'none';\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      document.body.removeChild(this.el);\n    }\n  }\n\n  render() {\n    const {\n      children,\n      isVisible,\n      optionStyle,\n      heightGrowing,\n    } = this.props;\n    if (isVisible) {\n      return ReactDOM.createPortal(\n        <ModalWrapper>\n          <div className={`modal-wrapper__mask ${addGrowingAnimation(heightGrowing)}`} />\n          <div className=\"modal-wrapper__modal-content\" style={optionStyle}>{children}</div>\n        </ModalWrapper>,\n        this.el,\n      );\n    }\n    return null;\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Picker from 'react-mobile-picker-scroll';\nimport {\n  HOURS,\n  MINUTES,\n} from 'containers/Spotlight/constants';\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst TimePickerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  bottom: 0;\n  animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  .time-picker__buttom-wrapper {\n    height: 50px;\n    background: ${(props) => props.theme.mainColor};\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .time-picker__buttom {\n    padding: 0px 15px;\n    font-size: 16px;\n    cursor: pointer;\n    &:hover {\n      color: #333333;\n      font-weight: 500;\n    }\n  }\n\n  .time-picker__scroll-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    overflow: hidden;\n  }\n  .time-picker__option-label {\n    margin: 0px 20px;\n    font-weight: 500;\n  }\n`;\n\nclass TimePicker extends Component {\n  static propTypes = {\n    startTime: PropTypes.string,\n    handleOnOk: PropTypes.func,\n    handleOnCancel: PropTypes.func,\n  }\n\n  static defaultProps = {\n    startTime: '',\n    handleOnOk: () => { },\n    handleOnCancel: () => { },\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      startTime,\n    } = props;\n    this.state = {\n      hourValueGroups: {\n        hour: startTime.split(':')[0],\n      },\n      hourOptionGroups: {\n        hour: HOURS,\n      },\n      minuteValueGroups: {\n        minute: startTime.split(':')[1],\n      },\n      minuteOptionGroups: {\n        minute: MINUTES,\n      },\n    };\n  }\n\n  handleHourChange = (name, value) => {\n    this.setState(({ hourValueGroups }) => ({\n      hourValueGroups: {\n        ...hourValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleMinuteChange = (name, value) => {\n    this.setState(({ minuteValueGroups }) => ({\n      minuteValueGroups: {\n        ...minuteValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleOnCheck = () => {\n    const {\n      handleOnOk,\n    } = this.props;\n    const {\n      hourValueGroups,\n      minuteValueGroups,\n    } = this.state;\n    handleOnOk(`${hourValueGroups.hour}:${minuteValueGroups.minute}:00`);\n  }\n\n  render() {\n    const {\n      handleOnCancel,\n    } = this.props;\n    const {\n      hourValueGroups,\n      hourOptionGroups,\n      minuteValueGroups,\n      minuteOptionGroups,\n    } = this.state;\n    return (\n      <TimePickerWrapper>\n        <div className=\"time-picker__buttom-wrapper\">\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={handleOnCancel}>取消</div>\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={this.handleOnCheck}>確定</div>\n        </div>\n        <div className=\"time-picker__scroll-wrapper\">\n          <div>\n            <Picker\n              valueGroups={hourValueGroups}\n              optionGroups={hourOptionGroups}\n              onChange={this.handleHourChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">時</div>\n          <div>\n            <Picker\n              valueGroups={minuteValueGroups}\n              optionGroups={minuteOptionGroups}\n              onChange={this.handleMinuteChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">分</div>\n        </div>\n      </TimePickerWrapper>\n    );\n  }\n}\n\nexport default TimePicker;\n","import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { List, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  WEEKDAYS_SHORT,\n} from 'containers/Spotlight/constants';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst StyledDateTimeInfo = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding: 0px 15px;\n  justify-content: space-between;\n  margin-top: 30px;\n  .date-time-info__date-text {\n    color: rgba(51, 51, 51, 1);\n    font-family: 'Segoe UI';\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .date-time-info__start-time-wrapper {\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n    background: rgba(51, 51, 51, 1);\n    color: white;\n    padding: 6px 8px;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      background: rgba(51, 51, 51, 0.8);\n    }\n  }\n  .date-time-info__clock-icon {\n    margin-right: 5px;\n    color: ${(props) => props.theme.mainColor};\n  }\n`;\n\nconst DateTimeInfo = (props) => {\n  const {\n    match,\n    startDay,\n    plan,\n    isModalVisible,\n    handleSetModalVisible,\n    handleSubmitUpdateProject,\n  } = props;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const date = moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').format('YYYY年MM月DD日');\n  const weekday = WEEKDAYS_SHORT[moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').get('weekday')];\n  const startTime = moment(plan.getIn([day - 1, 'start_time']), 'HH:mm').format('HH:mm');\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const { projectId } = match.params;\n    const updatedPlan = plan.setIn([day - 1, 'start_time'], value);\n    const updatedProject = fromJS({\n      plan: updatedPlan,\n    });\n    handleSubmitUpdateProject(projectId, updatedProject);\n  }, []);\n\n  return (\n    <>\n      <StyledDateTimeInfo>\n        <div className=\"date-time-info__date-text\">{`${date} ${weekday}`}</div>\n        <div role=\"presentation\" className=\"date-time-info__start-time-wrapper\" onClick={handleShowModal}>\n          <i className=\"far fa-clock date-time-info__clock-icon\" />\n          <span>{`出發時間 ${startTime}`}</span>\n        </div>\n      </StyledDateTimeInfo>\n      <Modal\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n        heightGrowing\n      >\n        <TimePicker\n          startTime={startTime}\n          handleOnCancel={handleHideModal}\n          handleOnOk={handleOnPickerCheck}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDateTimeInfo.propTypes = {\n  match: PropTypes.object,\n  startDay: PropTypes.string,\n  isModalVisible: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  handleSetModalVisible: PropTypes.func,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDateTimeInfo.defaultProps = {\n  match: {},\n  startDay: '',\n  isModalVisible: false,\n  plan: List(),\n  handleSetModalVisible: () => { },\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimeInfo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport const HEIGHT_SPOT_CARD = 60;\nexport const HEIGHT_SPOT_TRAVEL_TIME = 40;\n\nconst StyledSpotCard = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .spot-card__card-row {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 0px 15px;\n    box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n    border-radius: 10px;\n  }\n  .spot-card__card-body-spot-title {\n    font-size: 16px;\n    font-weight: 500;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: rgba(170, 170, 170, 1);\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n    color: rgba(51, 51, 51, 1);\n  }\n`;\n\nconst SpotCard = ({ spot }) => (\n  <StyledSpotCard>\n    <div className=\"spot-card__card-row\">\n      <div className=\"spot-card__start-end-time-wrapper\">\n        <div>8:00</div>\n        <div>|</div>\n        <div>10:00</div>\n      </div>\n      <div className=\"spot-card__card-body\">\n        <div className=\"spot-card__card-body-spot-title\">{spot.get('name')}</div>\n        <div className=\"spot-card__card-body-address\">{spot.get('address')}</div>\n      </div>\n    </div>\n    <div className=\"spot-card__travel-row-wrapper\">\n      <div className=\"spot-card__travel-time-wrapper\">\n        <i className=\"fas fa-car spot-card__travel-time-icon\" />\n        <div>1時15分</div>\n      </div>\n      <div className=\"spot-card__travel-time-wrapper\">\n        <i className=\"fas fa-running spot-card__travel-time-icon\" />\n        <div>6時15分</div>\n      </div>\n    </div>\n  </StyledSpotCard>\n);\n\nSpotCard.propTypes = {\n  spot: PropTypes.object,\n};\n\nSpotCard.defaultProps = {\n  spot: {},\n};\n\nexport default SpotCard;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n// http://front-ender.me/react-drag-list\nimport ReactDragList from 'react-drag-list';\nimport 'react-drag-list/assets/index.css';\nimport { fromJS } from 'immutable';\nimport mapPlusIconPath from 'assets/map_plus_icon.svg';\nimport SpotCard, {\n  HEIGHT_SPOT_CARD,\n  HEIGHT_SPOT_TRAVEL_TIME,\n} from './SpotCard';\n\nconst StyledContent = styled.div`\n  padding: 15px 15px;\n  padding-top: 0;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n`;\n\nconst SpotOperator = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .operator__number-wrapper {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 2px solid rgba(51, 51, 51, 1);\n    color: rgba(51, 51, 51, 1);\n    font-size: 16px;\n    font-weight: 500;\n    border-radius: 100%;\n    width: 29px;\n    height: 29px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: rgba(51, 51, 51, 1);\n      color: ${(props) => props.theme.mainColor};\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 2px;\n    background: rgba(170, 170, 170, 1);\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    height: 33px;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n`;\n\nconst mockSpotData = fromJS([\n  {\n    id: 0,\n    name: '台北101',\n    address: '110台北市信義區信義路五段7號',\n    startTime: '09:00',\n  },\n  {\n    id: 1,\n    name: '宏亞食品巧克力觀光工廠',\n    address: '桃園縣八德市建國路386號',\n    startTime: '10:00',\n  },\n  {\n    id: 2,\n    name: '臺灣菸酒(股)公司林口觀光酒廠',\n    address: '桃園縣龜山鄉文化一路55號',\n    startTime: '12:00',\n  },\n  {\n    id: 3,\n    name: '台灣金屬創意館',\n    address: '台南市永康區永科環路598號',\n    startTime: '15:00',\n  },\n]);\n\nconst Content = () => (\n  <StyledContent>\n    <div className=\"content__spot-cards-wrapper\">\n      <div>\n        {\n          mockSpotData.map((spot, index) => (\n            <SpotOperator key={spot.get('id')}>\n              <div className=\"operator__number-wrapper\">\n                {\n                  Boolean(index) &&\n                  <div className=\"operator__divider-line operator__divider-line-top\" />\n                }\n                <div className=\"operator__number-circle-border\"><span>{spot.get('id') + 1}</span></div>\n                <div className=\"operator__divider-line operator__divider-line-bottom\" />\n              </div>\n              <div className=\"operator__map-marker-wrapper\">\n                <img src={mapPlusIconPath} className=\"operator__map-marker-icon\" alt=\"\" />\n              </div>\n            </SpotOperator>\n          ))\n        }\n      </div>\n      <ReactDragList\n        dataSource={mockSpotData}\n        row={(spot, index) => (\n          <SpotCard\n            key={spot.get('id')}\n            spot={spot}\n            index={index}\n          />\n        )}\n        handles={false}\n        className=\"simple-drag content__spot-simple-drag\"\n        rowClassName=\"simple-drag-row\"\n        onUpdate={() => { }}\n      />\n    </div>\n  </StyledContent>\n);\n\nContent.propTypes = {\n  // location: PropTypes.object,\n};\n\nContent.defaultProps = {\n  // location: {},\n};\n\nexport default Content;\n","import styled from 'styled-components';\n\nconst tempCoverPath = 'https://attach.setn.com/newsimages/2016/12/30/761776-XXL.jpg';\n\nexport const DetailPlanningPageContainer = styled.div`\n  .detail-planning__cover {\n    position: relative;\n    background-image: url(${tempCoverPath});\n    background-size: cover;\n\n    height: 190px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n      color: white;\n      font-weight: 600;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n      color: white;\n      font-weight: 500;\n      margin-bottom: 10px;\n    }\n  }\n  .detail-planning__info_wrapper {\n    transform: translateY(32px);\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport DateTabs from './DateTabs';\nimport DateTimeInfo from './DateTimeInfo';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\n\nconst DetailPlanningPage = (props) => {\n  const {\n    match,\n    ownProjectsMeta,\n    ownProjects,\n    handleFetchOwnProjects,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const days = ownProject.get('tot_days');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const plan = ownProject.get('plan');\n  return (\n    <DetailPlanningPageContainer>\n      <div className=\"detail-planning__cover\">\n        <div className=\"detail-planning__info_wrapper\">\n          <div className=\"detail-planning__cover-title\">\n            <span>{name}</span>\n          </div>\n          <div className=\"detail-planning__cover-period\">\n            {`${startDay} - ${endDay} / ${days}天`}\n          </div>\n          <DateTabs days={days} {...props} />\n        </div>\n      </div>\n      <DateTimeInfo plan={plan} startDay={startDay} {...props} />\n      <Content {...props} />\n    </DetailPlanningPageContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst InputBoxWrapper = styled.div`\n  display: flex;\n  height: 40px;\n  color: #707070;\n  margin-top: 15px;\n  border-radius: 20px;\n  .input-box__label-box {\n    background: rgba(238, 238, 238, 1);\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    border-radius: 20px 0px 0px 20px;\n    padding-left: 10px;\n  }\n  .input-box__input {\n    background: rgba(238, 238, 238, 1);\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    border-radius: 0px 20px 20px 0px;\n  }\n`;\n\nconst InputBox = ({\n  title, inputType, defaultValue, handleOnChange,\n}) => (\n  <InputBoxWrapper className=\"input-box__input-wrapper\">\n    <div className=\"input-box__label-box\"><span>{title}</span></div>\n    <input type={inputType} defaultValue={defaultValue} className=\"input-box__input\" onChange={handleOnChange} />\n  </InputBoxWrapper>\n);\n\nInputBox.propTypes = {\n  title: PropTypes.string,\n  inputType: PropTypes.string,\n  defaultValue: PropTypes.string,\n  handleOnChange: PropTypes.func,\n};\n\nInputBox.defaultProps = {\n  title: '',\n  inputType: 'text',\n  defaultValue: '',\n  handleOnChange: () => { },\n};\n\nexport default InputBox;\n","import React, { useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Map } from 'immutable';\nimport styled from 'styled-components';\nimport InputBox from 'components/InputBox';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\n\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPageWrapper = styled.div`\n  padding: 0px 15px;\n`;\n\nconst UpdatePlanningPage = ({\n  match,\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const handleOnNameChange = useCallback((event) => {\n    const name = event.target.value;\n    setUpdateProject((updateProject) => updateProject.set('name', name));\n  }, []);\n  const handleOnDateChange = useCallback((event) => {\n    const starDay = event.target.value;\n    setUpdateProject((data) => data.set('start_day', moment(starDay).format('YYYY/MM/DD 00:00:00')));\n  }, []);\n\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    setUpdateProject(Map());\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY-MM-DD'); // defaultValue format must be YYYY-MM-DD\n  return (\n    <UpdatePlanningPageWrapper>\n      <InputBox\n        title=\"旅程名稱\"\n        defaultValue={name}\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        defaultValue={startDay}\n        handleOnChange={handleOnDateChange}\n      />\n    </UpdatePlanningPageWrapper>\n  );\n};\n\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport Context from 'containers/Spotlight/Context';\nimport InputBox from 'components/InputBox';\n\nconst { SpotlightContext } = Context;\n\nconst StyledCreateProjectPage = styled.div`\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n`;\n\nconst CreateProjectPage = () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setNewProject,\n  } = context;\n  const handleOnNameChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('name', currentValue));\n  };\n  const handleOnStartDayChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('start_day', currentValue));\n  };\n  const handleOnDaysChange = (event) => {\n    const currentValue = event.currentTarget.value > 0 ? parseInt(event.currentTarget.value, 10) : 0;\n    setNewProject((newProject) => newProject.set('tot_days', currentValue));\n  };\n  return (\n    <StyledCreateProjectPage>\n      <InputBox\n        title=\"旅程名稱\"\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        handleOnChange={handleOnStartDayChange}\n      />\n      <InputBox\n        title=\"天數\"\n        handleOnChange={handleOnDaysChange}\n      />\n    </StyledCreateProjectPage>\n  );\n};\n\nexport default CreateProjectPage;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n`;\n\nexport const Feature = styled.div`\n  position: relative;\n  padding-top: 175px;\n  margin-bottom: 20px;\n`;\n\nexport const BackButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  left: 15px;\n  top: 20px;\n`;\n\nexport const AddButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  right: 15px;\n  top: 20px;\n`;\n\nexport const FeatureImage = styled.img`\n  position: absolute;\n  top: 0;\n  display: block;\n  height: 205px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const FeatureInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  font-size: 16px;\n  margin: 0 38px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  z-index: 1;\n`;\n\nexport const SpotName = styled.span`\n  color: #333333;\n  font-size: 18px;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: bold;\n`;\n\nexport const Title = styled.div`\n  padding: 0 15px;\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #333333;\n  font-weight: bold;\n`;\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n  color: #AAAAAA;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const LikeButton = styled.i`\n  margin-right: 6px;\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0 0 6px rgba(0, 0, 0, .16);\n  color: #EB715A;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Paragraph = styled.p`\n  padding: 0 15px;\n  margin-bottom: 15px;\n  color: #AAAAAA;\n  line-height: 1.75;\n\n  &:last-child {\n    margin-bottom: 0;\n    padding-bottom: 35px;\n  }\n`;\n","import React, { useEffect, useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport { selectSpotMeta, selectSpots, selectFavoriteSpotIds } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n  fetchFavoriteSpotIds,\n  likeSpot,\n  cancelLikeSpot,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nimport {\n  Feature,\n  FeatureImage,\n  FeatureInfo,\n  Title,\n  LikeButton,\n  Paragraph,\n  SpotName,\n  LikeLabel,\n  Container,\n  BackButton,\n  AddButton,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst SpotPage = ({\n  match,\n  spots,\n  handleFetchSpotById,\n  setSpotMeta,\n  location,\n  handleFetchFavoriteSpotIds,\n  favoriteSpotIds,\n  handleLikeSpot,\n  handleCancelLikeSpot,\n}) => {\n  const { setIsHeaderVisible } = useContext(SpotlightContext);\n  const { spotId } = match.params;\n  const isSpotFavorite = favoriteSpotIds.includes(Number(spotId));\n\n  useEffect(() => {\n    handleFetchSpotById(spotId);\n    handleFetchFavoriteSpotIds();\n    setIsHeaderVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n    };\n  }, []);\n\n  const handleLikeOnClick = useCallback(() => {\n    if (isSpotFavorite) {\n      handleCancelLikeSpot(Number(spotId));\n    } else {\n      handleLikeSpot(Number(spotId));\n    }\n  });\n\n  if (setSpotMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  const spot = spots.get(Number(spotId), Map());\n  if (!spot.size) {\n    return <div>找不到該景點資料</div>;\n  }\n  return (\n    <Container>\n      <Feature>\n        <BackButton to={`/${PAGE_NAME.EXPLORE}`}>\n          <i className=\"fas fa-arrow-left\" />\n        </BackButton>\n        <AddButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT}`}>\n          <i className=\"fas fa-plus\" />\n        </AddButton>\n        <FeatureImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n        <FeatureInfo>\n          <SpotName>{spot.get('name')}</SpotName>\n          <LikeLabel onClick={handleLikeOnClick}>\n            <LikeButton\n              className={`${\n                isSpotFavorite\n                  ? 'fas fa-heart'\n                  : 'far fa-heart'\n              }`}\n            />\n            {spot.get('like_num')}\n          </LikeLabel>\n        </FeatureInfo>\n      </Feature>\n      <Title>景點介紹</Title>\n      <Paragraph>\n        {spot.get('describe')}\n      </Paragraph>\n      <Title>地址</Title>\n      <Paragraph>{spot.get('address')}</Paragraph>\n      <Title>電話</Title>\n      <Paragraph>{spot.get('tel')}</Paragraph>\n      <Title>網址</Title>\n      <Paragraph>\n        <a href={spot.get('website')}>{spot.get('website')}</a>\n      </Paragraph>\n    </Container>\n  );\n};\n\nSpotPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  setSpotMeta: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleCancelLikeSpot: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n  setSpotMeta: selectSpotMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleCancelLikeSpot: (id) => dispatch(cancelLikeSpot(id)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SpotPage));\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n`;\n\nexport const Project = styled(Link)`\n  display: block;\n  padding: 19px 0 12px;\n  margin: 0 15px;\n  border-bottom: solid 1px #DFDFDF;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n`;\n\nexport const ProjectName = styled.div`\n  color: #333333;\n  font-size: 14px;\n`;\n\nexport const ProjectDate = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n\nexport const CreateProjectButton = styled(Link)`\n  margin: 0 15px;\n  padding: 25px 0;\n  border-bottom: solid 1px #DFDFDF;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n  }\n`;\n\nexport const AddIcon = styled.i`\n  font-size: 18px;\n  margin-right: 6px;\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport { withRouter } from 'react-router';\nimport moment from 'moment';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  Container,\n  Project,\n  ProjectName,\n  ProjectDate,\n  CreateProjectButton,\n  AddIcon,\n} from './Styled';\n\nconst AddSpotToProjectPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  ownProjects,\n  location,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  if (ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container>\n      {ownProjects.map((project) => (\n        <Project\n          key={project.get('proj_id')}\n          to={`${location.pathname}/${project.get('proj_id')}`}\n        >\n          <ProjectName>{project.get('name')}</ProjectName>\n          <ProjectDate>\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .format('YYYY年MM月DD日')\n            }\n            -\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .add(project.get('tot_days') - 1, 'days')\n              .format('YYYY年MM月DD日')\n            }\n            {' / '}\n            {project.get('tot_days')}\n            天\n          </ProjectDate>\n        </Project>\n      ))}\n      <CreateProjectButton to={`/${PAGE_NAME.CREATE_PROJECT}`}>\n        <AddIcon className=\"fas fa-plus\" />\n        增加旅程\n      </CreateProjectButton>\n    </Container>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPage));\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const ProjectTitle = styled.div`\n  padding: 9px 0;\n  font-size: 16px;\n  color: #EEEEEE;\n  text-align: center;\n  background-color: #333333;\n`;\n\nexport const Plan = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  margin: 0 15px;\n  border-bottom: solid 1px lightgray;\n  color: #333333;\n  font-size: 14px;\n`;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjectById,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  ProjectTitle,\n  Plan,\n  Container,\n} from './Styled';\n\nconst DEFAULT_SPOT_DURATION = 60;\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  project,\n  match,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded') && !ownProjectsMeta.get('isLoading')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  const { setUpdateProject } = useContext(SpotlightContext);\n  const [daySelection, setDaySelection] = useState(List());\n\n  useEffect(() => {\n    if (project) {\n      setUpdateProject(project.update('plan', (plan) => plan.map((day, index) => {\n        const { spotId } = match.params;\n        const arrange = day.get('arrange');\n        const isSpotAlreadyArranged = arrange.filter((spotArrange) => spotArrange.get('spot_id') === spotId).size > 0;\n\n        if (!isSpotAlreadyArranged && daySelection.get(index)) {\n          return day.set(\n            'arrange',\n            arrange.push(Map({ spot_id: spotId, during: DEFAULT_SPOT_DURATION })),\n          );\n        }\n        return day;\n      })));\n    }\n\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, [daySelection]);\n\n  if (!ownProjectsMeta.get('isLoaded') || ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  if (!project) {\n    return '沒有這個旅程';\n  }\n\n  return (\n    <Container>\n      <ProjectTitle>{project.get('name')}</ProjectTitle>\n      {project.get('plan').map((_plan, index) => (\n        <Plan key={index /* eslint-disable-line react/no-array-index-key */}>\n          {`第${index + 1}天`}\n          <input\n            type=\"checkbox\"\n            checked={daySelection.get(index) || false}\n            onChange={(event) => (\n              setDaySelection(daySelection.set(index, event.currentTarget.checked))\n            )}\n          />\n        </Plan>\n      ))}\n    </Container>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  project: PropTypes.instanceOf(Map),\n  match: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ownProjectsMeta: selectOwnProjectsMeta()(state),\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Content/PersonalPage/SettingPage';\nimport SettingInfoPage from 'containers/Spotlight/Content/PersonalPage/SettingPage/SettingInfoPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Content/PlanningPage/CreateProjectPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Content/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Content/AddSpotToProjectPlanPage';\n\nexport const routePathConfig = {\n  loginPagePath: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE}`,\n  settingPath: `/${PAGE_NAME.SETTING}`,\n  settingInfoPath: `/${PAGE_NAME.SETTING_INFO}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING}/:projectId`,\n  createProjectPagePath: `/${PAGE_NAME.CREATE_PROJECT}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE}/:spotId`,\n  addSpotToProjectPagePath: `/${PAGE_NAME.EXPLORE}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT}`,\n  addSpotToProjectPlanPagePath: `/${PAGE_NAME.EXPLORE}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT}/:projectId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.settingInfoPath} component={SettingInfoPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport LoginPage from 'containers/Spotlight/Header/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Header/PersonalPage/SettingPage';\nimport SettingInfoPage from 'containers/Spotlight/Header/PersonalPage/SettingPage/SettingInfoPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Header/PlanningPage/CreateProjectPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Header/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Header/AddSpotToProjectPlanPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.settingInfoPath} component={SettingInfoPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: ${(props) => props.theme.mainColor};\n  font-weight: 600;\n  color: rgba(51, 51, 51, 1);\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n    background-image: url(${(props) => props.iconPath.normal});\n    background-size: cover;\n    &:hover {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n    &:active {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    title,\n    iconPath,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  };\n\n  return (\n    <NavTabWrapper iconPath={iconPath} data-page-path={title} onClick={handleRedirect}>\n      <div className=\"nav-tab__image\" />\n      <div>{title}</div>\n    </NavTabWrapper>\n  );\n};\n\nNavTab.propTypes = {\n  title: PropTypes.string.isRequired,\n  iconPath: PropTypes.object.isRequired,\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\nimport {\n  NavIcon,\n} from 'containers/Spotlight/constants';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.16);\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab title={PAGE_NAME.EXPLORE} iconPath={NavIcon.explore} />\n    <NavTab title={PAGE_NAME.PLANNING} iconPath={NavIcon.planning} />\n    <NavTab title={PAGE_NAME.TRAVEL_WALL} iconPath={NavIcon.travelWall} />\n    <NavTab title={PAGE_NAME.PERSONAL_PAGE} iconPath={NavIcon.personal} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  ${(props) => (`\n    grid-template-rows:\n      ${props.isHeaderVisible ? HEIGHT_HEADER : 0}px\n      auto\n      ${props.isNavVisible ? HEIGHT_NAVIGATION : 0}px\n    ;\n  `)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    display: flex;\n    justify-content: center;\n    position: relative;\n    z-index: 1;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchLoginStatus,\n} from './actions';\nimport {\n  selectLoginStatusMeta,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  handleFetchLoginStatus,\n  loginStatusMeta,\n}) => {\n  useEffect(() => {\n    if (!loginStatusMeta.get('isLoading')) {\n      handleFetchLoginStatus();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible, isHeaderVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible} isHeaderVisible={isHeaderVisible}>\n              {\n                isHeaderVisible &&\n                <div className=\"spot-light__header-container\">\n                  <Header />\n                </div>\n              }\n              <div className=\"spot-light__content-container\">\n                {\n                  (loginStatusMeta.get('isLoading'))\n                    ? <Spinner />\n                    : <Content />\n                }\n              </div>\n              {\n                isNavVisible &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  handleFetchLoginStatus: PropTypes.func.isRequired,\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nSpotlight.defaultProps = {\n};\n\nconst mapStateToProps = createStructuredSelector({\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchLoginStatus: () => dispatch(fetchLoginStatus()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Spotlight));\n","import React from 'react';\nimport { Router } from 'react-router';\nimport Spotlight from 'containers/Spotlight/';\nimport history from './utils/history';\nimport './App.css';\n\nconst App = () => (\n  <Router history={history}>\n    <Spotlight />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport store from 'store';\nimport { defaultTheme } from 'Styled/Settings/colors';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={defaultTheme}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}