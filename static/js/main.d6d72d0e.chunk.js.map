{"version":3,"sources":["assets/NavIcons/planning_icon.svg","assets/NavIcons/planning_icon_hover.svg","assets/NavIcons/explore_icon.svg","assets/NavIcons/explore_icon_hover.svg","assets/NavIcons/travel_wall_icon.svg","assets/NavIcons/travel_wall_icon_hover.svg","assets/NavIcons/personal_icon.svg","assets/NavIcons/personal_icon_hover.svg","assets/upload_travel_wall_icon.svg","assets/trash_icon.svg","assets/edit_day_icon.svg","assets/map_plus_icon.svg","Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","utils/requests.js","config.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","Styled/Settings/colors.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/LoginPage/index.js","containers/Spotlight/Header/ExplorePage/index.js","utils/event.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Header/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/Styled.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/index.js","containers/Spotlight/Content/ExplorePage/reducer.js","containers/Spotlight/Content/ExplorePage/constants.js","containers/Spotlight/Content/ExplorePage/Styled.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","containers/Spotlight/Content/TravelWallPage/components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/index.js","containers/Spotlight/Content/PersonalPage/Information/Favicon/index.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/PlanningCollection/PlanningCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/PlanningCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","components/Modal/index.js","components/TimePicker/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTimeInfo/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","components/InputBox/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/SpotPage/Styled.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/AddSpotToProjectPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPage/index.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_SPOT_BY_ID","SET_SPOT_LOADING","SET_SPOT_DONE","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","FETCH_LOGIN_STATUS","SET_LOGIN_STATUS_LOADING","SET_LOGIN_STATUS_DONE","REGISTER","SET_REGISTER_LOADING","SET_REGISTER_DONE","EXPLORE_NEXT_SPOT","SET_EXPLORING_SPOT_ID","FETCH_OWN_PROJECTS","SET_OWN_PROJECTS_LOADING","SET_OWN_PROJECTS_DONE","SUBMIT_CREATE_PROJECT","CREATE_PROJECT_LOADING","CREATE_PROJECT_DONE","SUBMIT_UPDATE_PROJECT","UPDATE_PROJECT_LOADING","UPDATE_PROJECT_DONE","SUBMIT_DELETE_PROJECT","DELETE_PROJECT_LOADING","DELETE_PROJECT_DONE","LIKE_SPOT","SET_LIKE_SPOT_DONE","CANCEL_LIKE_SPOT","SET_CANCEL_LIKE_SPOT_DONE","FETCH_FAVORITE_SPOT_IDS","SET_FAVORITE_SPOT_IDS_LOADING","SET_FAVORITE_SPOT_IDS_DONE","ADD_FAVORITE_SPOT_ID","DELETE_FAVORITE_SPOT_ID","SET_IS_MODAL_VISIBLE","DEFAULT_PROJECT","name","start_day","tot_days","NavIcon","explore","normal","exploreIconPath","hover","exploreHoverIconPath","planning","planningIconPath","planningHoverIconPath","travelWall","travelWallIconPath","travelWallHoverIconPath","personal","personalIconPath","personalHoverIconPath","WEEKDAYS_SHORT","split","HOURS","MINUTES","initialState","fromJS","setSpotMeta","META","setSpotsMeta","spots","spotsResult","loginMeta","registerMeta","loginStatusMeta","ownProjectsMeta","createProjectMeta","updateProjectMeta","deleteProjectMeta","isModalVisible","user","ownProjects","exploringSpotId","setFavoriteSpotIdsMeta","favoriteSpotIds","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","spot","mergeDeepIn","spot_id","_action$payload2","entities","result","_action$payload3","_action$payload4","_action$payload5","_action$payload6","_action$payload7","id","updateIn","likeNum","_action$payload8","_action$payload9","ids","isVisible","toSet","add","toList","index","indexOf","delete","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","spotSchema","schema","Entity","idAttribute","spotListSchema","setSpotDone","setSpotsDone","normalize","setLoginDone","setRegisterDone","setLoginStatusDone","exploreNextSpot","setExploringSpotId","fetchOwnProjects","setOwnProjectsDone","createProjectDone","submitUpdateProject","projectId","updateProject","updateProjectDone","submitDeleteProject","deleteProjectDone","likeSpot","setLikeSpotDone","setCancelLikeSpotDone","fetchFavoriteSpotIds","setFavoriteSpotIdsDone","getKeywordQueryString","keyword","getZonesQueryString","zones","zone","getSearchSpotQueryString","_ref6","queryString","filter","queryStringSegment","epics","action$","ofType","switchMap","Observable","empty","$state","_ref5","flatMap","content","startWith","_ref","_ref7","kw","state$","_ref8","_ref9","acc","_ref10","newProject","message","success","_ref3","toJS","_ref4","_ref11","_ref12","_ref13","row","value","get","spotIds","nextSpot","slice","getIn","String","find","includes","store_epics","toConsumableArray","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","SpotlightTheme","mainColor","defaultTheme","StyledSpinner","styled","div","_templateObject","Spinner","react_default","a","createElement","className","selectSpotlight","selectLoginStatusMeta","createSelector","spotlightState","selectOwnProjects","selectOwnProjectsMeta","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","props","children","_useState","useState","_useState2","slicedToArray","isNavVisible","setIsNavVisible","_useState3","_useState4","isHeaderVisible","setIsHeaderVisible","_useState5","_useState6","setNewProject","_useState7","_useState8","isEditMode","setIsEditMode","_useState9","Map","_useState10","setUpdateProject","useSelection","defaultProps","Context","SpotlightConsumer","PAGE_NAME","mixinWidthWrapper","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","HeaderTitle","_templateObject2","HeaderLeftButtons","_templateObject3","HeaderRightButtons","_templateObject4","HeaderLinkButton","Link","_templateObject5","HeaderButton","button","_templateObject6","LoginPage","useContext","useEffect","withRouter","location","menu","search","to","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Header_PlanningPage","context","handleToCreateProject","useCallback","path","push","handleEditModeOn","handleEditModeOff","role","onClick","data-redirect-path","Header_TravelWallPage","Header_PersonalPage","DetailPlanningPage","handleGoBackToPlanning","handleGoToUpdatePlanning","day","URLSearchParams","window","match","pathname","src","uploadTravelWallIconPath","alt","UpdatePlanningPage","handleSubmitUpdateProject","handleGoBackToDetailPlanning","handleOnCheckBtn","mapStateToProps","createStructuredSelector","connect","dispatch","CreateProjectPage","handleSubmitCreateProject","startDay","moment","format","days","submitCreateProject","goBack","updatedProject","_useContext","handleOnCheckClick","UserName","input","LoginPage_templateObject","PassWord","LoginPage_templateObject2","LoginButton","LoginPage_templateObject3","RegisterRow","LoginPage_templateObject4","ErrorMessage","LoginPage_templateObject5","Logo","img","LoginPage_templateObject6","Login","usernameRef","createRef","passwordRef","Fragment","ref","placeholder","handleSubmitLogin","current","pwd","href","handleSubmitRegister","_ref2$acc","_ref2$pwd","login","_ref3$acc","_ref3$pwd","register","Container","ZoneMenu_Styled_templateObject","Region","Styled_templateObject2","ZoneLabel","label","Styled_templateObject3","ZoneMenu","zonesState","regions","region","onChange","zoneState","size","checked","warning","zoneReducer","setIn","基隆市","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","南投縣","臺中市","彰化縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣","連江縣","金門縣","澎湖縣","ExplorePage_Styled_templateObject","Card","ExplorePage_Styled_templateObject2","CardImage","ExplorePage_Styled_templateObject3","CardInfo","Styled_templateObject4","SpotName","span","Styled_templateObject5","SpotLikes","Styled_templateObject6","ButtonRow","_templateObject7","Button","_templateObject8","ButtonCrossIcon","i","_templateObject9","ButtonHeartIcon","_templateObject10","ButtonLabel","_templateObject11","CardRow","_templateObject12","SearchRow","_templateObject13","SearchBar","_templateObject14","SelectCountyButton","_templateObject15","SearchInputContainer","_templateObject16","SearchInput","_templateObject17","ZonesRow","_templateObject18","_templateObject19","ZoneLabelCrossIcon","_templateObject20","spotId","favoriteSpotIdsMeta","handleSwipeLeft","createHandleSwipeRight","handleFetchSpots","_ref$zones","_ref$kw","fetchSpots","handleFetchFavoriteSpotIds","_useReducer","useReducer","zonesData","_useReducer2","selectedZones","setKeyword","ExplorePage_ZoneMenu","Styled_Container","onKeyUp","blur","Styled_ZoneLabel","components_Spinner","react_router_dom","confirm","Modal","ProjectCard_templateObject","ProjectCard","project","handleDeleteProject","endDay","handleOnClick","detailPlanningPagePath","handleOnDeleteProject","projId","title","okText","okType","onOk","ProjectCard_Container","data-project-id","trashIconPath","PlanningPage_templateObject","PlanningPage","handleFetchOwnProjects","isLoaded","isLoading","PlanningPage_Container","components_ProjectCard","List","StyledTravelCard","TravelCard_templateObject","imagePath","TravelCard","StyledTravelWallPage","TravelWallPage_templateObject","TravelWallPage","cards","fill","x","card","components_TravelCard","Favicon","Information","Information_Favicon","isActiveStyle","isActive","CollectionTabs","activeCollectionType","data-collection-type","StyledSpotCard","SpotCard_templateObject","SpotCard","data-id","StyledSpotCollection","SpotCollection_templateObject","SpotCollection","SpotCollection_SpotCard","StyledPlanningCard","PlanningCard_templateObject","faviconPath","PlanningCard","planningId","StyledPlanningCollection","PlanningCollection_templateObject","PlanningCollection","PlanningCollection_PlanningCard","CollectionContent","handleOnCardClick","redirectPath","CollectionContent_PlanningCollection","CollectionContent_SpotCollection","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","faviconSize","PersonalPage","setActiveCollectionType","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","TabWrapper","Tab_templateObject","theme","Tab","currentDay","toString","DateTabsContainer","DateTabs_templateObject","DateTabs","tabs","tab","DateTabs_Tab","assign","editDayIcon","fade","keyframes","Modal_templateObject","heightGrowingAnimation","Modal_templateObject2","ModalWrapper","Modal_templateObject3","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","el","document","setAttribute","style","position","top","width","height","zIndex","display","appendChild","modalRootEl","getElementById","removeChild","isHeightGrowing","_this$props","optionStyle","heightGrowing","ReactDOM","createPortal","React","Component","TimePicker_templateObject","TimePickerWrapper","TimePicker_templateObject2","TimePicker","handleHourChange","setState","hourValueGroups","handleMinuteChange","minuteValueGroups","handleOnCheck","handleOnOk","_this$state","hour","minute","startTime","hourOptionGroups","minuteOptionGroups","handleOnCancel","_this$state2","react_mobile_picker_default","valueGroups","optionGroups","modalStyle","bottom","StyledDateTimeInfo","DateTimeInfo_templateObject","DateTimeInfo","plan","handleSetModalVisible","searchParams","parseInt","date","weekday","handleShowModal","handleHideModal","handleOnPickerCheck","updatedPlan","components_Modal","components_TimePicker","setIsModalVisible","Content_SpotCard_templateObject","HEIGHT_SPOT_CARD","SpotCard_StyledSpotCard","StyledContent","Content_templateObject","SpotOperator","Content_templateObject2","mockSpotData","address","Content","Boolean","mapPlusIconPath","lib_default","dataSource","Content_SpotCard","handles","rowClassName","onUpdate","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","ownProject","DetailPlanningPage_DateTabs","DetailPlanningPage_DateTimeInfo","DetailPlanningPage_Content","InputBoxWrapper","InputBox_templateObject","InputBox","inputType","defaultValue","handleOnChange","UpdatePlanningPageWrapper","UpdatePlanningPage_templateObject","handleOnNameChange","handleOnDateChange","starDay","components_InputBox","StyledCreateProjectPage","CreateProjectPage_templateObject","currentValue","SpotPage_Styled_templateObject","Feature","SpotPage_Styled_templateObject2","BackButton","SpotPage_Styled_templateObject3","AddButton","SpotPage_Styled_templateObject4","FeatureImage","SpotPage_Styled_templateObject5","FeatureInfo","SpotPage_Styled_templateObject6","Styled_templateObject7","Title","Styled_templateObject8","LikeLabel","Styled_templateObject9","LikeButton","Styled_templateObject10","Paragraph","Styled_templateObject11","handleFetchSpotById","fetchSpotById","handleLikeSpot","handleCancelLikeSpot","cancelLikeSpot","isSpotFavorite","Number","handleLikeOnClick","SpotPage_Styled_Container","Styled_SpotName","Project","AddSpotToProjectPage_Styled_templateObject","ProjectTitle","AddSpotToProjectPlanPage_Styled_templateObject","Plan","AddSpotToProjectPlanPage_Styled_templateObject2","ownProps","daySelection","setDaySelection","arrange","spotArrange","during","_plan","routePathConfig","loginPagePath","explorePagePath","planningPagePath","travelWallPagePath","updatePlanningPagePath","createProjectPagePath","spotPagePath","addSpotToProjectPagePath","addSpotToProjectPlanPagePath","Routes","react_router","exact","component","ExplorePage","SpotPage","AddSpotToProjectPage","AddSpotToProjectPlanPage","Header_Routes","Header_templateObject","Header","Header_HeaderContainer","ContentContainer","Spotlight_Content_templateObject","NavTabWrapper","NavTab_templateObject","iconPath","NavTab","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchLoginStatus","Spotlight_SpotlightProvider","Spotlight_Header","Spotlight_Content","Spotlight_Navigation","App","containers_Spotlight","hostname","render","es","styled_components_browser_esm","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8QCI3BC,EAAoB,SAACC,GAAD,OAAUA,EACxCC,IAJoB,aAIP,GACbA,IANmB,YAMP,GACZA,IALkB,QAKP,OAEDC,EAAiB,SAACF,GAAD,OAAUA,EACrCC,IAToB,aASP,GACbA,IAXmB,YAWP,GACZA,IAVkB,QAUP,OAEDE,EAAkB,SAACH,GAAD,OAAUA,EACtCC,IAdoB,aAcP,GACbA,IAhBmB,YAgBP,GACZA,IAfkB,SAeP,IAEdD,GAAAI,EAAA,GAAAC,OAAAC,EAAA,EAAAD,CAAAD,EAlBuB,aAmBV,GADbC,OAAAC,EAAA,EAAAD,CAAAD,EAnBsB,YAqBV,GAFZC,OAAAC,EAAA,EAAAD,CAAAD,EAjBqB,QAoBV,MAHXA,mJCLaG,EAAI,GAAAC,OADU,YACV,SAEJC,EAAgB,GAAAD,OAHF,YAGE,qBAChBE,EAAgB,GAAAF,OAJF,YAIE,qBAChBG,EAAa,GAAAH,OALC,YAKD,kBAEbI,EAAW,GAAAJ,OAPG,YAOH,gBACXK,EAAiB,GAAAL,OARH,YAQG,sBACjBM,EAAc,GAAAN,OATA,YASA,mBAEdO,EAAK,GAAAP,OAXS,YAWT,UACLQ,EAAiB,GAAAR,OAZH,YAYG,sBACjBS,EAAc,GAAAT,OAbA,YAaA,mBAEdU,EAAkB,GAAAV,OAfJ,YAeI,uBAClBW,EAAwB,GAAAX,OAhBV,YAgBU,6BACxBY,EAAqB,GAAAZ,OAjBP,YAiBO,0BAErBa,EAAQ,GAAAb,OAnBM,YAmBN,aACRc,EAAoB,GAAAd,OApBN,YAoBM,yBACpBe,EAAiB,GAAAf,OArBH,YAqBG,sBAEjBgB,EAAiB,GAAAhB,OAvBH,YAuBG,sBACjBiB,EAAqB,GAAAjB,OAxBP,YAwBO,0BAErBkB,GAAkB,GAAAlB,OA1BJ,YA0BI,uBAClBmB,GAAwB,GAAAnB,OA3BV,YA2BU,6BACxBoB,GAAqB,GAAApB,OA5BP,YA4BO,0BAErBqB,GAAqB,GAAArB,OA9BP,YA8BO,0BACrBsB,GAAsB,GAAAtB,OA/BR,YA+BQ,2BACtBuB,GAAmB,GAAAvB,OAhCL,YAgCK,wBAEnBwB,GAAqB,GAAAxB,OAlCP,YAkCO,0BACrByB,GAAsB,GAAAzB,OAnCR,YAmCQ,2BACtB0B,GAAmB,GAAA1B,OApCL,YAoCK,wBAEnB2B,GAAqB,GAAA3B,OAtCP,YAsCO,0BACrB4B,GAAsB,GAAA5B,OAvCR,YAuCQ,2BACtB6B,GAAmB,GAAA7B,OAxCL,YAwCK,wBAEnB8B,GAAS,GAAA9B,OA1CK,YA0CL,cACT+B,GAAkB,GAAA/B,OA3CJ,YA2CI,uBAElBgC,GAAgB,GAAAhC,OA7CF,YA6CE,qBAChBiC,GAAyB,GAAAjC,OA9CX,YA8CW,8BAEzBkC,GAAuB,GAAAlC,OAhDT,YAgDS,4BACvBmC,GAA6B,GAAAnC,OAjDf,YAiDe,kCAC7BoC,GAA0B,GAAApC,OAlDZ,YAkDY,+BAE1BqC,GAAoB,GAAArC,OApDN,YAoDM,yBACpBsC,GAAuB,GAAAtC,OArDT,YAqDS,4BAEvBuC,GAAoB,GAAAvC,OAvDN,YAuDM,yBAEpBwC,GAAkB,CAC7BC,KAAM,GACNC,UAAW,GACXC,SAAU,GAaCC,GAAU,CACrBC,QAAS,CACPC,OAAQC,IACRC,MAAOC,KAETC,SAAU,CACRJ,OAAQK,IACRH,MAAOI,KAETC,WAAY,CACVP,OAAQQ,IACRN,MAAOO,KAETC,SAAU,CACRV,OAAQW,IACRT,MAAOU,MAKEC,IADW,uIAA8BC,MAAM,KAC9B,6FAAuBA,MAAM,MAE9CC,GAAQ,CACnB,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,MAGPC,GAAU,CACrB,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACtD,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MC3ElDC,GAAeC,iBAAO,CAC1BC,YAAaC,EACbC,aAAcD,EACdE,MAAO,GACPC,YAAa,GAEbC,UAAWJ,EACXK,aAAcL,EACdM,gBAAiBN,EACjBO,gBAAiBP,EACjBQ,kBAAmBR,EACnBS,kBAAmBT,EACnBU,kBAAmBV,EAGnBW,gBAAgB,EAEhBC,KAAM,KACNC,YAAa,GACbC,gBAAiB,EACjBC,uBAAwBf,EACxBgB,gBAAiB,KA0NJC,OAvNf,WAAwD,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBtB,GAAcyB,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtD,OAAQC,EAAOC,MACb,KAAKvF,EACH,OAAOkF,EAAMM,OAAO,cAAenG,GAErC,KAAKY,EAAe,IAAAwF,EAIdH,EAAOI,QAFTC,EAFgBF,EAEhBE,MACAC,EAHgBH,EAGhBG,KAGF,OAAID,EACKT,EAAMM,OAAO,cAAe/F,GAEhCmG,EAGEV,EACJW,YAAY,CAAC,QAASD,EAAKE,SAAUhC,iBAAO8B,IAC5CJ,OAAO,cAAehG,GAJhB0F,EAAMM,OAAO,cAAehG,GAOvC,KAAKW,EACH,OAAO+E,EACJM,OAAO,eAAgBnG,GAE5B,KAAKe,EAAgB,IAAA2F,EAKfT,EAAOI,QAHTC,EAFiBI,EAEjBJ,MACAK,EAHiBD,EAGjBC,SACAC,EAJiBF,EAIjBE,OAEF,OAAIN,EACKT,EAAMM,OAAO,eAAgB/F,GAE/ByF,EACJW,YAAY,CAAC,SAAU/B,iBAAOkC,EAAS9B,QACvC3E,IAAI,cAAeuE,iBAAOmC,IAC1BT,OAAO,eAAgBhG,GACvBD,IAAI,kBAAmB0G,EAAO,IAGnC,KAAK3F,EACH,OAAO4E,EAAMM,OAAO,YAAanG,GAEnC,KAAKkB,EAAgB,IAAA2F,EAIfZ,EAAOI,QAFTC,EAFiBO,EAEjBP,MACAf,EAHiBsB,EAGjBtB,KAEF,OAAIe,EACKT,EAAM3F,IAAI,OAAQ,MACtBiG,OAAO,YAAa/F,GAElByF,EACJ3F,IAAI,OAAQqF,GAAQd,iBAAOc,IAC3BY,OAAO,YAAsB,OAATZ,EAAgBnF,EAAkBD,GAG3D,KAAKoB,EACH,OAAOsE,EAAMM,OAAO,eAAgBnG,GAEtC,KAAKwB,EAAmB,IAAAsF,EAIlBb,EAAOI,QAFTC,EAFoBQ,EAEpBR,MACAf,EAHoBuB,EAGpBvB,KAEF,OAAIe,EACKT,EAAM3F,IAAI,OAAQ,MACtBiG,OAAO,eAAgB/F,GAErByF,EACJ3F,IAAI,OAAQqF,GAAQd,iBAAOc,IAC3BY,OAAO,eAAyB,OAATZ,EAAgBnF,EAAkBD,GAG9D,KAAKiB,EACH,OAAOyE,EAAMM,OAAO,kBAAmBnG,GAEzC,KAAKqB,EAAuB,IAAA0F,EAItBd,EAAOI,QAFTC,EAFwBS,EAExBT,MACAf,EAHwBwB,EAGxBxB,KAEF,OAAIe,EACKT,EAAM3F,IAAI,OAAQ,MACtBiG,OAAO,kBAAmB/F,GAExByF,EACJ3F,IAAI,OAAQqF,GAAQd,iBAAOc,IAC3BY,OAAO,kBAAmBhG,GAG/B,KAAKuB,EACH,OAAOmE,EAAM3F,IAAI,kBAAmB+F,EAAOI,SAE7C,KAAKzE,GACH,OAAOiE,EAAMM,OAAO,kBAAmBnG,GAEzC,KAAK6B,GAAuB,IAAAmF,EAItBf,EAAOI,QAFTC,EAFwBU,EAExBV,MACAd,EAHwBwB,EAGxBxB,YAEF,OAAIc,EACKT,EAAMM,OAAO,kBAAmB/F,GAElCyF,EACJ3F,IAAI,cAAeuE,iBAAOe,IAC1BW,OAAO,kBAAmBhG,GAI/B,KAAK4B,GACH,OAAO8D,EAAMM,OAAO,oBAAqBnG,GAE3C,KAAKgC,GAIH,OADIiE,EAAOI,QADTC,MAGOT,EAAMM,OAAO,oBAAqB/F,GAEpCyF,EACJM,OAAO,oBAAqBhG,GAIjC,KAAK+B,GACH,OAAO2D,EAAMM,OAAO,oBAAqBnG,GAE3C,KAAKmC,GAIH,OADI8D,EAAOI,QADTC,MAGOT,EAAMM,OAAO,oBAAqB/F,GAEpCyF,EACJM,OAAO,oBAAqBhG,GAC5BD,IAAI,kBAAkB,GAI3B,KAAKmC,GACH,OAAOwD,EAAMM,OAAO,oBAAqBnG,GAE3C,KAAKsC,GAIH,OADI2D,EAAOI,QADTC,MAGOT,EAAMM,OAAO,oBAAqB/F,GAEpCyF,EACJM,OAAO,oBAAqBhG,GAGjC,KAAKqC,GAAoB,IAAAyE,EACDhB,EAAOI,QAArBC,EADeW,EACfX,MAAOY,EADQD,EACRC,GACf,OAAIZ,EACKT,EAEFA,EACJsB,SAAS,CAAC,QAASD,EAAI,YAAa,SAACE,GAAD,OAAaA,EAAU,IAGhE,KAAK1E,GAA2B,IAAA2E,EACRpB,EAAOI,QAArBC,EADsBe,EACtBf,MAAOY,EADeG,EACfH,GACf,OAAIZ,EACKT,EAEFA,EAAMsB,SAAS,CAAC,QAASD,EAAI,YAAa,SAACE,GAAD,OAAaA,EAAU,IAG1E,KAAKxE,GACH,OAAOiD,EAAMM,OAAO,yBAA0BnG,GAEhD,KAAK6C,GAA4B,IAAAyE,EACRrB,EAAOI,QAAtBC,EADuBgB,EACvBhB,MAAOiB,EADgBD,EAChBC,IACf,OAAIjB,EACKT,EAAMM,OAAO,yBAA0B/F,GAEzCyF,EACJ3F,IAAI,kBAAmBuE,iBAAO8C,IAC9BpB,OAAO,yBAA0BhG,GAItC,KAAK6C,GAAsB,IAEvBwE,EACEvB,EAAOI,QADTmB,UAEF,OAAO3B,EAAM3F,IAAI,iBAAkBsH,GAGrC,KAAK1E,GACH,OAAO+C,EAAMM,OAAO,kBAAmB,SAACoB,GAAD,OACrCA,EAAIE,QAAQC,IAAIzB,EAAOI,SAASsB,WAGpC,KAAK5E,GACH,OAAO8C,EAAMM,OAAO,kBAAmB,SAACoB,GACtC,IAAMK,EAAQL,EAAIM,QAAQ5B,EAAOI,SACjC,OAAe,IAAXuB,EACKL,EAAIO,OAAOF,GAEbL,IAGX,QACE,OAAO1B,gHCnPEkC,GA1BC,SAACC,GACf,GAA4B,qBAAjBC,aACT,MAAO,GAET,IAAKD,EACH,MAAM,IAAIE,MAAM,8BAElB,IACE,OAAOC,KAAKC,MAAMH,aAAaI,QAAQL,IACvC,MAAOM,GACPC,QAAQC,KAAKF,GAEf,MAAO,IAcMP,GAXI,SAACC,GAClB,GAA4B,qBAAjBC,aAGX,IACEA,aAAaQ,WAAWT,GACxB,MAAOM,GACPC,QAAQC,KAAKF,KCpBJI,GAAe,kBAAMX,GAVpB,UA2BDY,GAAgB,WAC3BZ,GA5BY,SA6BZA,GA5Be,SCkBJa,GAAiB,iBAMxBC,IAJc,IAAIC,QAAQ,CAC9BC,eAAgB,qBAGM,SAAC1C,GAAD,MAAc,CACpCH,KAAM0C,GACNvC,aAGK,SAAS2C,GAAgB/C,GAC9BgD,KAAKhD,OAASA,EACdgD,KAAK/F,KAAO,kBAQP,IAAMgG,GAAiB,SAACC,GAAD,QAAAC,EAAAtD,UAAAC,OAASsD,EAAT,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAASF,EAATE,EAAA,GAAAzD,UAAAyD,GAAA,OAAqBC,KAAEC,WAAF,GAAGN,EAAIlD,QAAPxF,OAAkB4I,KAE/DK,GAAmB,SAACC,GAAD,OAAUA,aAAgBC,UAC7CC,GAAqB,SAACV,GAC1B,GAAIA,aAAeH,GACjB,MAAMG,EAER,MAAIW,UAAUC,OACN,IAAIf,GAAgBH,GAAgB,MAEpC,IAAIG,GAAgBH,GAAgB,OA2FjCmB,GAAU,SAAC/D,GAAD,OAAYgE,GAAehE,IAErCgE,GAAiB,SAAAC,GAExB,IADJC,EACID,EADJC,OAAQC,EACJF,EADIE,IAAKT,EACTO,EADSP,KAAMU,EACfH,EADeG,QACfC,EAAAJ,EADwBK,gBACxB,IAAAD,KAEEE,EAvDe,SAACL,EAAQM,EAASd,GACvC,IAAMe,EAAgB,CACpBP,SACAM,QAAS,IAAI3B,QAAQ2B,IAEvB,MAA6B,QAAzBN,EAAOQ,cACFD,EAILhB,GAAiBC,GACZrJ,OAAAsK,GAAA,EAAAtK,CAAA,GACFoK,EADL,CAEEG,KAAMlB,IAKH,CACLQ,SACAM,QAAS,IAAI3B,QAAQ2B,GACrBI,KAAM1C,KAAK2C,UAAUnB,IAkCHoB,CAAeZ,EAtBlB,SAACR,EAAMU,GACxB,IAAIW,EAAM,CACRC,cAAevC,MAWjB,OATKgB,GAAiBC,KACpBqB,EAAG1K,OAAAsK,GAAA,EAAAtK,CAAA,GACE0K,EADF,CAEDjC,eAAgB,sBAGG,qBAAZsB,GAA2BA,IACpCW,EAAG1K,OAAAsK,GAAA,EAAAtK,CAAA,GAAQ0K,EAAQX,EAAQI,UAEtBO,EAQSE,CAAWvB,EAAMU,GACmBV,GAC9CwB,EA/BU,SAAChB,EAAQC,EAAKT,EAAMU,GACpC,IAAIW,EAAG,GAAAvK,OAAM2K,GAAef,IAArB5J,OAAgC2J,GAIvC,OAHIT,GAAiC,QAAzBQ,EAAOQ,gBACjBK,EAAG,GAAAvK,OAAMuK,GAANvK,OAAY4K,GAAgB1B,KAE1BqB,EA0BQM,CAAUnB,EAAQC,EAAKT,EAAMU,GAC5C,OAAOkB,aACLC,MAAML,EAAQX,GAAaiB,KAAK,SAACC,GAC/B,GAAwB,MAApBA,EAASC,OACX,MAAM,IAAI3C,GAAgB,CACxB9C,MArHRyC,KACOC,IAqHCvC,QAAS,MAEN,GAAIqF,EAASC,QAAU,IAC5B,MAAM,IAAI3C,GAAgBH,GAAgB6C,EAASC,SAGrD,OAAOD,KAETE,KACAC,aAAWhC,IACXiC,aAAS,SAACd,GACR,OAAIT,EACKgB,aAAKP,EAAIe,QAEXR,aAAKP,EAAIgB,UAElBC,aAAI,SAACjB,GACH,GAAIT,EACF,OAAOS,EAET,GAAIA,EAAIkB,KACN,MAAM,IAAIlD,GAAgB,CACxB9C,KA9JoB,iBA+JpBG,QAAS2E,IAGb,OAAOA,MAKPK,GAAkB,SAACc,GACvB,GAAsB,qBAAXA,IAA2BA,EACpC,MAAO,GAET,IAAMC,EAAQ9L,OAAO+L,KAAKF,GACvBF,IAAI,SAACK,GAAD,SAAA7L,OAAU8L,mBAAmBD,GAA7B,KAAA7L,OAAmC8L,mBAAmBJ,EAAOG,OACjEE,KAAK,KACR,OAAOJ,EAAK,IAAA3L,OAAO2L,GAAU,IAGzBhB,GAAiB,SAACf,GACtB,GAAuB,qBAAZA,IAA4BA,EACrC,MCxMmB,ODsMa,IAI1BoC,EAA0BpC,EAA1BoC,aAA0BpC,EAAZqC,QAEtB,OAAID,GC5MiB,6ECoDjBE,GAAa,IAAIC,KAAOC,OAAO,QAAS,GAAI,CAAEC,YAAa,YAC3DC,GAAiB,IAAIH,KAAOtD,MAAMqD,IAoB3BK,GAAc,SAAC1G,EAAOC,GAAR,MAAkB,CAC3CL,KAAMtF,EACNyF,QAAS,CACPC,QACAC,UAaS0G,GAAe,SAAC3G,EAAOzB,GAAR,MAAmB,CAC7CqB,KAAMnF,EACNsF,QAAQ/F,OAAAsK,GAAA,EAAAtK,CAAA,CACNgG,SACG4G,aAAUrI,EAAOkI,OAgBXI,GAAe,SAAC7G,EAAOf,GAAR,MAAkB,CAC5CW,KAAMhF,EACNmF,QAAS,CACPC,QACAf,UAgBS6H,GAAkB,SAAC9G,EAAOf,GAAR,MAAkB,CAC/CW,KAAM1E,EACN6E,QAAS,CACPC,QACAf,UAYS8H,GAAqB,SAAC/G,EAAOf,GAAR,MAAkB,CAClDW,KAAM7E,EACNgF,QAAS,CACPC,QACAf,UAIS+H,GAAkB,iBAAO,CACpCpH,KAAMzE,IAGK8L,GAAqB,SAACrG,GAAD,MAAS,CACzChB,KAAMxE,EACN2E,QAASa,IAIEsG,GAAmB,iBAAO,CACrCtH,KAAMvE,KAOK8L,GAAqB,SAACnH,EAAOd,GAAR,MAAyB,CACzDU,KAAMrE,GACNwE,QAAS,CACPC,QACAd,iBAgBSkI,GAAoB,SAACpH,EAAOf,GAAR,MAAkB,CACjDW,KAAMlE,GACNqE,QAAS,CACPC,QACAf,UAKSoI,GAAsB,SAACC,EAAWC,GAAZ,MAA+B,CAChE3H,KAAMjE,GACNoE,QAAS,CACPuH,YACAC,mBAQSC,GAAoB,SAACxH,GAAD,MAAY,CAC3CJ,KAAM/D,GACNkE,QAAS,CACPC,WAKSyH,GAAsB,SAACH,GAAD,MAAgB,CACjD1H,KAAM9D,GACNiE,QAAS,CACPuH,eAQSI,GAAoB,SAAC1H,GAAD,MAAY,CAC3CJ,KAAM5D,GACN+D,QAAS,CACPC,WAIS2H,GAAW,SAAC/G,GAAD,MAAS,CAC/BhB,KAAM3D,GACN8D,QAASa,IAGEgH,GAAkB,SAAC5H,EAAOY,GAAR,MAAgB,CAC7ChB,KAAM1D,GACN6D,QAAS,CACPC,QACAY,QASSiH,GAAwB,SAAC7H,EAAOY,GAAR,MAAgB,CACnDhB,KAAMxD,GACN2D,QAAS,CACPC,QACAY,QAISkH,GAAuB,iBAAO,CACzClI,KAAMvD,KAOK0L,GAAyB,SAAC/H,EAAOiB,GAAR,MAAiB,CACrDrB,KAAMrD,GACNwD,QAAS,CACPC,QACAiB,SCzEE+G,GAAwB,SAACC,GAAD,MACT,kBAAZA,GAAwBA,EAAQxI,OAAS,EAAhD,MAAAtF,OACU8N,GACN,IAGAC,GAAsB,SAACC,GAAD,OAAWA,EACpCxC,IAAI,SAACyC,GAAD,cAAAjO,OAAkBiO,KACtBlC,KAAK,MAEFmC,GAA2B,SAAAC,GAAwB,IAArBH,EAAqBG,EAArBH,MAAOF,EAAcK,EAAdL,QACnCM,EAAc,CAClBP,GAAsBC,GACtBC,GAAoBC,IAEnBK,OAAO,SAACC,GAAD,MAA+C,KAAvBA,IAC/BvC,KAAK,KAER,OAAOqC,EAAY9I,OAAS,EAArB,IAAAtF,OAA6BoO,GAAgB,IAmLvCG,GAAA,CA9UC,SAACC,GAAD,OAAaA,EAAQC,OAAO1O,GAAM2O,UAAU,kBAAMC,cAAWC,WAsHhD,SAACJ,EAASK,EAAVC,GAAA,IAAoBvF,EAApBuF,EAAoBvF,QAASd,EAA7BqG,EAA6BrG,eAA7B,OAC3B+F,EAAQrD,KACNsD,aAAOvN,IACPwN,aAAU,kBAAMnF,EAAQ,CACtBG,OAAQ,MACRC,IAAK,eACJwB,KACD4D,aAAQ,SAAC7F,GAAD,OAAUH,aAChBiE,GAAmB,KAAM9D,EAAK8F,YAEhC5D,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACAmH,GAAmBnH,MAErBoJ,aD/BsC,CAC1CxJ,KAAMtE,UCpGkB,SAACqN,EAASK,EAAVK,GAAA,IAAoB3F,EAApB2F,EAAoB3F,QAASd,EAA7ByG,EAA6BzG,eAA7B,OACxB+F,EAAQrD,KACNsD,aAAOxO,GACPyO,aAAU,SAAClJ,GAAD,OAAY+D,EAAQ,CAC5BG,OAAQ,MACRC,IAAG,SAAA3J,OAAWwF,EAAOI,QAAQa,MAC5B0E,KACD4D,aAAQ,SAAC7F,GAAD,OAAUH,aAChBwD,GAAY,KAAMrD,EAAK8F,YAEzB5D,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACA0G,GAAY1G,MAEdoJ,aDd+B,CACnCxJ,KAAMvF,SC2Je,SAACsO,EAASK,EAAVM,GAAA,IAAoB5F,EAApB4F,EAAoB5F,QAASd,EAA7B0G,EAA6B1G,eAA7B,OACrB+F,EAAQrD,KACNsD,aAAOrO,GACPsO,aAAU,SAAClJ,GAAD,OAAY+D,EAAQ,CAC5BG,OAAQ,MACRC,IAAG,SAAA3J,OAAWkO,GAAyB,CACrCF,MAAOxI,EAAOI,QAAQoI,MACtBF,QAAStI,EAAOI,QAAQwJ,QAEzBjE,KACD4D,aAAQ,SAAC7F,GAAD,OAAUH,aAChByD,GAAa,KAAMtD,EAAK8F,YAE1B5D,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACA2G,GAAa3G,MAEfoJ,aD5JgC,CACpCxJ,KAAMpF,SCgKU,SAACmO,EAASa,EAAVC,GAAA,IAAoB/F,EAApB+F,EAAoB/F,QAASd,EAA7B6G,EAA6B7G,eAA7B,OAChB+F,EAAQrD,KACNsD,aAAOlO,GACPmO,aAAU,SAAClJ,GAAD,OAAY+D,EAAQ,CAC5BG,OAAQ,OACRC,IAAK,SACLT,KAAM1D,EAAOI,UACZuF,KACD4D,aAAQ,SAAC7F,GACP,IAAMpE,EAAuB,YAAhBoE,EAAKgC,OACd,CAAEzI,KAAMyG,EAAK8F,QAAQlK,MACrB,KACJ,OAAOiE,aAAG2D,GAAa,KAAM5H,MAE/BsG,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACA6G,GAAa7G,MAEfoJ,aD/JgC,CACpCxJ,KAAMjF,SCmKa,SAACgO,EAASa,EAAVE,GAAA,IAAoBhG,EAApBgG,EAAoBhG,QAASd,EAA7B8G,EAA6B9G,eAA7B,OACnB+F,EAAQrD,KACNsD,aAAO5N,GACP6N,aAAU,SAAClJ,GAAD,OAAY+D,EAAQ,CAC5BG,OAAQ,OACRC,IAAK,YACLT,KAAM1D,EAAOI,UACZuF,KACD4D,aAAQ,SAAC7F,GACP,IAAMpE,EAAuB,YAAhBoE,EAAKgC,OACd,CAAEzI,KAAM+C,EAAOI,QAAQ4J,KACvB,KACJ,OAAOzG,aAAG4D,GAAgB,KAAM7H,MAElCsG,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACA8G,GAAgB9G,MAElBoJ,aDlKmC,CACvCxJ,KAAM3E,SCsKqB,SAAC0N,EAASa,EAAVI,GAAA,IAAoBlG,EAApBkG,EAAoBlG,QAASd,EAA7BgH,EAA6BhH,eAA7B,OAC3B+F,EAAQrD,KACNsD,aAAO/N,GACPgO,aAAU,kBAAMnF,EAAQ,CACtBG,OAAQ,MACRC,IAAK,iBACJwB,KACD4D,aAAQ,SAAC7F,GACP,IAAMpE,EAAuB,YAAhBoE,EAAKgC,OACdhC,EAAK8F,QACL,KACJ,OAAOjG,aAAG6D,GAAmB,KAAM9H,MAErCsG,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACA+G,GAAmB/G,MAErBoJ,aDxKsC,CAC1CxJ,KAAM9E,SCvDkB,SAAC6N,EAASK,EAAVpF,GAAA,IAAoBF,EAApBE,EAAoBF,QAASd,EAA7BgB,EAA6BhB,eAA7B,OACxB+F,EAAQrD,KACNsD,aAAOpN,IACPqN,aAAU,SAAClJ,GAAW,IAElBkK,EACElK,EAAOI,QADT8J,WAEF,OAAOnG,EAAQ,CACbG,OAAQ,OACRC,IAAK,YACLT,KAAMwG,IACLvE,KACD4D,aAAQ,SAAC7F,GAEP,OADAyG,KAAQC,QAAQ,4BACT7G,aACLkE,GAAkB,KAAM/D,GACxB6D,QAGJ3B,aAAW,SAACvF,GAEV,OADA8J,KAAQ9J,MAAM,4BACP4C,EACL5C,EACAoH,GAAkBpH,MAGtBoJ,aD0EmC,CACzCxJ,KAAMnE,UCpEkB,SAACkN,EAASK,EAAVgB,GAAA,IAAoBtG,EAApBsG,EAAoBtG,QAASd,EAA7BoH,EAA6BpH,eAA7B,OACxB+F,EAAQrD,KACNsD,aAAOjN,IACPkN,aAAU,SAAClJ,GAAW,IAAAG,EAIhBH,EAAOI,QAFTuH,EAFkBxH,EAElBwH,UACAC,EAHkBzH,EAGlByH,cAEF,OAAO7D,EAAQ,CACbG,OAAQ,MACRC,IAAG,aAAA3J,OAAemN,GAClBjE,KAAMkE,EAAc0C,SACnB3E,KACD4D,aAAQ,SAAC7F,GAEP,OADAyG,KAAQC,QAAQ,4BACT7G,aACLsE,GAAkB,MAClBN,QAGJ3B,aAAW,SAACvF,GAEV,OADA8J,KAAQ9J,MAAM,4BACP4C,EACL5C,EACAwH,GAAkBxH,MAGtBoJ,aD6DmC,CACzCxJ,KAAMhE,UCxDkB,SAAC+M,EAASK,EAAVkB,GAAA,IAAoBxG,EAApBwG,EAAoBxG,QAASd,EAA7BsH,EAA6BtH,eAA7B,OACxB+F,EAAQrD,KACNsD,aAAO9M,IACP+M,aAAU,SAAClJ,GAAW,IAElB2H,EACE3H,EAAOI,QADTuH,UAEF,OAAO5D,EAAQ,CACbG,OAAQ,SACRC,IAAG,SAAA3J,OAAWmN,KACbhC,KACD4D,aAAQ,WAEN,OADAY,KAAQC,QAAQ,4BACT7G,aACLwE,GAAkB,MAClBR,QAGJ3B,aAAW,SAACvF,GAEV,OADA8J,KAAQ9J,MAAM,4BACP4C,EACL5C,EACA0H,GAAkB1H,MAGtBoJ,aDiDmC,CACzCxJ,KAAM7D,UCsFa,SAAC4M,EAASa,EAAVW,GAAA,IAAoBzG,EAApByG,EAAoBzG,QAApB,OACnBiF,EAAQrD,KACNsD,aAAO3M,IACP4M,aAAU,SAAClJ,GAAD,OAAY+D,EAAQ,CAC5BG,OAAQ,OACRC,IAAG,cAAA3J,OAAgBwF,EAAOI,WACzBuF,KACD4D,aAAQ,SAACxE,GACP,MAAmB,YAAfA,EAAIW,OACCnC,aACL0E,GAAgB,KAAMjI,EAAOI,UD5CPa,EC6CJjB,EAAOI,QD7CK,CACxCH,KAAMpD,GACNuD,QAASa,KC8CIsC,aAAG0E,GAAgBlD,IDhDD,IAAC9D,SCsDP,SAAC+H,EAASa,EAAVY,GAAA,IAAoB1G,EAApB0G,EAAoB1G,QAApB,OACzBiF,EAAQrD,KACNsD,aAAOzM,IACP0M,aAAU,SAAClJ,GAAD,OAAY+D,EAAQ,CAC5BG,OAAQ,SACRC,IAAG,cAAA3J,OAAgBwF,EAAOI,WACzBuF,KACD4D,aAAQ,SAACxE,GACP,MAAmB,YAAfA,EAAIW,OACCnC,aACL2E,GAAsB,KAAMlI,EAAOI,UD3DVa,EC4DJjB,EAAOI,QD5DK,CAC3CH,KAAMnD,GACNsD,QAASa,KC6DIsC,aAAG2E,GAAsBnD,ID/DJ,IAAC9D,SCqEJ,SAAC+H,EAASa,EAAVa,GAAA,IAAoB3G,EAApB2G,EAAoB3G,QAASd,EAA7ByH,EAA6BzH,eAA7B,OAC/B+F,EAAQrD,KACNsD,aAAOvM,IACPwM,aAAU,kBAAMnF,EAAQ,CACtBG,OAAQ,MACRC,IAAK,gBACJwB,KACD4D,aAAQ,SAACxE,GACP,MAAmB,YAAfA,EAAIW,OACCnC,aACL6E,GAAuB,KAAMrD,EAAIyE,QAAQxD,IAAI,SAAC2E,GAAD,OAASA,EAAInK,YAGvD+C,aAAG6E,GAAuBrD,MAEnCa,aAAW,SAACvF,GAAD,OAAW4C,EACpB5C,EACA+H,GAAuB/H,MAEzBoJ,aDzG0C,CAC9CxJ,KAAMtD,UC6GoB,SAACqM,EAASa,GAAV,OAC1Bb,EAAQrD,KACNsD,aAAOzN,GACPwK,aAAI,WACF,IAAMpG,EAAQiK,EAAOe,MAAMC,IPlXN,aOmXfnL,EAAkBE,EAAMiL,IAAI,mBAC5BC,EAAUlL,EAAMiL,IAAI,eACpBrL,EAAkBI,EAAMiL,IAAI,mBAC5BE,EAAWD,EACdE,MAAMF,EAAQlJ,QAAQpC,GAAmB,GACzCwG,IAAI,SAAC/E,GAAD,OAAQrB,EAAMqL,MAAM,CAAC,QAASC,OAAOjK,OACzCkK,KAAK,SAAC7K,GAAD,OAAWZ,EAAgB0L,SAAS9K,EAAKuK,IAAI,cAErD,OACSvD,GADLyD,EACwBA,EAASF,IAAI,WAGfrL,QC1YjB6L,GAAAhR,OAAAiR,EAAA,GAAIC,ICAnB,IAEeC,GCUA,WAAoD,IAA5BjN,EAA4BsB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAI4L,EAAS5L,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE3D2L,EAAQ,IAAIC,mBAAgBC,KAAYpI,WAAZ,EAAAnJ,OAAAiR,EAAA,EAAAjR,CAAgBwR,MAQ5CC,EAAiBC,aAAqB,CAC1CC,aAAc,CACZjI,WACAd,qBAOEgJ,EAAc,CAClBH,EACAI,4BAAiBT,IAGbU,EAAY,CAACC,IAAe5I,WAAf,EAAmByI,IAIhCI,EASAC,IAEAd,EAAQe,YC9CPC,0BAAgB,CACrBC,UAAWC,KD+CXlO,iBAAOD,GACP8N,EAAgB7I,WAAhB,EAAoB2I,IAKtB,OAFAL,EAAea,IA1CE,SAAC3D,EAASwC,EAAOoB,GAAjB,OAA0BlB,EAAM7F,SAAS,SAACgH,GAAD,OAAUA,EAAK7D,EAASwC,EAAOoB,GAAME,MAAM,SAAC5J,EAAK6J,GAIzG,OAHAC,WAAW,WACT,MAAM9J,GACL,GACI6J,QAwCFvB,ED5DKyB,GGCRC,GAAiB,CACrBC,UAHa,WAMFC,GAAY/S,OAAAsK,GAAA,EAAAtK,CAAA,GACpB6S,yQCLL,IAAMG,GAAgBC,IAAOC,IAAVC,MAiBJC,GANC,kBACdC,EAAAC,EAAAC,cAACP,GAAD,KACEK,EAAAC,EAAAC,cAAA,KAAGC,UAAU,4BCVXC,GAAkB,SAAClO,GAAD,OAAWA,EAAMiL,IdOd,cc+BdkD,GAAwB,kBAAMC,aACzCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,sBAG5BqD,GAAoB,kBAAMF,aACrCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,kBAG5BsD,GAAwB,kBAAMH,aACzCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,+BCnDnCuD,GAAmBC,0BACjBC,GAAuBF,GAAvBE,SAAUC,GAAaH,GAAbG,SAiCZC,GAAoB,SAACC,GAAU,IAEjCC,EACED,EADFC,SAEI9D,EAnCa,WAAM,IAAA+D,EACeC,oBAAS,GADxBC,EAAAxU,OAAAyU,GAAA,EAAAzU,CAAAsU,EAAA,GAClBI,EADkBF,EAAA,GACJG,EADIH,EAAA,GAAAI,EAEqBL,oBAAS,GAF9BM,EAAA7U,OAAAyU,GAAA,EAAAzU,CAAA4U,EAAA,GAElBE,EAFkBD,EAAA,GAEDE,EAFCF,EAAA,GAAAG,EAKWT,mBAASpQ,iBAAOxB,KAL3BsS,EAAAjV,OAAAyU,GAAA,EAAAzU,CAAAgV,EAAA,GAKlBnF,EALkBoF,EAAA,GAKNC,EALMD,EAAA,GAAAE,EAMWZ,oBAAS,GANpBa,EAAApV,OAAAyU,GAAA,EAAAzU,CAAAmV,EAAA,GAMlBE,EANkBD,EAAA,GAMNE,EANMF,EAAA,GAAAG,EASiBhB,mBAASiB,iBAT1BC,EAAAzV,OAAAyU,GAAA,EAAAzU,CAAAuV,EAAA,GAWzB,MAAO,CACLb,eACAC,kBAEAG,kBACAC,qBAGAlF,aACAqF,gBAGA3H,cAvBuBkI,EAAA,GAwBvBC,iBAxBuBD,EAAA,GA0BvBJ,aACAC,iBAQYK,GACd,OACEtC,EAAAC,EAAAC,cAACU,GAAD,CAAU1D,MAAOA,GACd8D,IASPF,GAAkByB,aAAe,CAC/BvB,SAAU,MAGG,IAAAwB,GAAA,CACb1B,qBACA2B,kBAAmB5B,GACnBH,qBC1DWgC,GACF,2BADEA,GAED,2BAFCA,GAGE,qBAHFA,GAII,eAJJA,GAKM,2BALNA,GAMM,2BANNA,GAOK,2BAPLA,GAQU,uCAGVC,GAAoB,mDAAA7V,OAfR,KAeQ,mBCTlBiR,GAJC6E,aACd,CAAEC,SAAUC,u2CCAP,IAAMC,GAAkBnD,IAAOC,IAAVmD,MA6BfC,GAAcrD,IAAOC,IAAVqD,MAMXC,GAAoBvD,IAAOC,IAAVuD,MAOjBC,GAAqBzD,IAAOC,IAAVyD,MAOlBC,GAAmB3D,YAAO4D,IAAP5D,CAAH6D,MAUhBC,GAAe9D,IAAO+D,OAAVC,MCxDjBlD,GAAqB8B,GAArB9B,iBAEOmD,GAAA,WACb,IAEEvC,EAFcwC,qBAAWpD,IAEzBY,gBAQF,OANAyC,oBAAU,WAER,OADAzC,GAAgB,GACT,WACLA,GAAgB,KAEjB,IAEDtB,EAAAC,EAAAC,cAAC6C,GAAD,KACG,sCCsBQiB,yBA9BW,SAAAhI,GAAkB,IAAfiI,EAAejI,EAAfiI,SACnBC,EAAShJ,KAAYzG,MAAMwP,EAASE,QAApCD,KAER,OACElE,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAACiD,GAAD,KACY,SAATe,GACClE,EAAAC,EAAAC,cAACqD,GAAD,CAAkBa,GAAE,IAAAtX,OAAM4V,KACxB1C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAInBH,EAAAC,EAAAC,cAAC+C,GAAD,KACY,SAATiB,EAAkB,2BAASxB,IAE9B1C,EAAAC,EAAAC,cAACmD,GAAD,KACY,SAATa,GACClE,EAAAC,EAAAC,cAACqD,GAAD,CAAkBa,GAAE,IAAAtX,OAAM4V,KACxB1C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBC/BZkE,GAAuB,SAACC,EAAOC,GAM1C,IALA,IAAMC,EAAMF,EAAMG,cAEdC,EAAOJ,EAAMK,OACbC,EAASF,EAAKG,aAAaN,GAExBG,IAASF,IAAQI,GAET,QADbF,EAAOA,EAAKI,gBAIZF,EAASF,EAAKG,aAAaN,GAE7B,OAAOK,GCFDlE,GAAqB8B,GAArB9B,iBAEOqE,GAAA,WACb,IAAMC,EAAUlB,qBAAWpD,IAEzBsB,EAGEgD,EAHFhD,WACAC,EAEE+C,EAFF/C,cACAX,EACE0D,EADF1D,gBAEI2D,EAAwBC,sBAAY,SAACZ,GACzC,IAAMa,EAAOd,GAAqBC,EAAO,sBACzCvG,GAAQqH,KAAKD,IACZ,IACGE,EAAmBH,sBAAY,WACnCjD,GAAc,GACdX,GAAgB,IACf,IACGgE,EAAoBJ,sBAAY,WACpCjD,GAAc,GACdX,GAAgB,IACf,IAKH,OAJAyC,oBAAU,kBAAO,WACf9B,GAAc,GACdX,GAAgB,KACd,IACAU,EAEAhC,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,KACEqF,KAAK,eACLpF,UAAU,0BACVqF,QAASF,MAOjBtF,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAAA,WAAMwC,IACN1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,KAAGqF,KAAK,eAAepF,UAAU,wBAAwBqF,QAASH,IAClErF,EAAAC,EAAAC,cAAA,KACEqF,KAAK,eACLpF,UAAU,yBACVsF,qBAAoB/C,GACpB8C,QAASP,OCrDJS,GAAA,kBACb1F,EAAAC,EAAAC,cAAC6C,GAAD,KACGL,KCFUiD,GAAA,kBACb3F,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAAA,WAAMwC,IACN1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kDCAXO,GAAqB8B,GAArB9B,iBAEFkF,GAAqB,SAAC7E,GAC1B,IAEEO,EAFcwC,qBAAWpD,IAEzBY,gBAEFyC,oBAAU,WAER,OADAzC,GAAgB,GACT,WACLA,GAAgB,KAEjB,IACH,IAAMuE,EAAyBX,sBAAY,WACzCnH,GAAQqH,KAAR,IAAAtY,OAAiB4V,MAChB,IACGoD,EAA2BZ,sBAAY,WAC3C,IACMa,EADe,IAAIC,gBAAgBC,OAAOhC,SAASE,QAChChH,IAAI,OACrBlD,EAAc8G,EAAMmF,MAAM1N,OAA1ByB,UACR8D,GAAQqH,KAAK,CACXe,SAAQ,IAAArZ,OAAM4V,GAAN,KAAA5V,OAAmCmN,GAC3CkK,OAAM,QAAArX,OAAUiZ,MAEjB,IACH,OACE/F,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,KAAGqF,KAAK,eAAepF,UAAU,+BAA+BqF,QAASK,KAE3E7F,EAAAC,EAAAC,cAAA,WAAMwC,IACN1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,KAAGqF,KAAK,eAAepF,UAAU,wBAAwBqF,QAASM,IAClE9F,EAAAC,EAAAC,cAAA,OAAKkG,IAAKC,KAA0BlG,UAAU,aAAamG,IAAI,QAUvEV,GAAmBrD,aAAe,CAChC2D,MAAO,IAGMN,UC1CPlF,GAAqB8B,GAArB9B,iBAEF6F,GAAqB,SAACxF,GAC1B,IAAMiE,EAAUlB,qBAAWpD,IAEzBY,EAGE0D,EAHF1D,gBACAe,EAEE2C,EAFF3C,iBACAnI,EACE8K,EADF9K,cAGAsM,EACEzF,EADFyF,0BAEFzC,oBAAU,WAER,OADAzC,GAAgB,GACT,WACLA,GAAgB,KAEjB,IACH,IAAMmF,EAA+BvB,sBAAY,WAC/C,IACMa,EADe,IAAIC,gBAAgBC,OAAOhC,SAASE,QAChChH,IAAI,OACrBlD,EAAc8G,EAAMmF,MAAM1N,OAA1ByB,UACR8D,GAAQqH,KAAK,CACXe,SAAQ,IAAArZ,OAAM4V,GAAN,KAAA5V,OAAmCmN,GAC3CkK,OAAM,QAAArX,OAAUiZ,MAEjB,IACGW,EAAmBxB,sBAAY,WACnC,IACMa,EADe,IAAIC,gBAAgBC,OAAOhC,SAASE,QAChChH,IAAI,OACrBlD,EAAc8G,EAAMmF,MAAM1N,OAA1ByB,UAERuM,EAA0BvM,EAAWC,GACrCmI,EAAiBF,iBAEjBpE,GAAQqH,KAAK,CACXe,SAAQ,IAAArZ,OAAM4V,GAAN,KAAA5V,OAAmCmN,GAC3CkK,OAAM,QAAArX,OAAUiZ,MAEjB,CAAC7L,IACJ,OACE8F,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,KACEqF,KAAK,eACLpF,UAAU,0BACVqF,QAASiB,KAGbzG,EAAAC,EAAAC,cAAA,WAAMwC,IACN1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,KACEqF,KAAK,eACLpF,UAAU,0BACVqF,QAASkB,OAYnBH,GAAmBhE,aAAe,CAChC2D,MAAO,GACPM,0BAA2B,cAG7B,IAAMG,GAAkBC,aAAyB,IAQlCC,qBAAQF,GAJI,SAACG,GAAD,MAAe,CACxCN,0BAA2B,SAACvM,EAAWC,GAAZ,OAA8B4M,EAAS9M,GAAoBC,EAAWC,OAGpF2M,CAA6CN,wBCzEpD7F,GAAqB8B,GAArB9B,iBAEFqG,GAAoB,SAAChG,GACzB,IAAMiE,EAAUlB,qBAAWpD,IAEzBY,EAGE0D,EAHF1D,gBACA9E,EAEEwI,EAFFxI,WACAqF,EACEmD,EADFnD,cAsCF,OARAkC,oBAAU,WAGR,OAFAzC,GAAgB,GA5BhBO,EAAc/Q,iBAAOxB,KA8Bd,WACLgS,GAAgB,KAEjB,IAGDtB,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,KACEqF,KAAK,eACLpF,UAAU,0BACVqF,QAvCkB,WACxBzH,GAAQqH,KAAK1C,QAyCX1C,EAAAC,EAAAC,cAAA,WAAMwC,IACN1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,KACEqF,KAAK,eACLpF,UAAU,0BACVqF,QA5CiB,WAAM,IAE3BwB,EACEjG,EADFiG,0BAEIzX,EAAOiN,EAAWW,IAAI,QACtB8J,EAAWC,KAAO1K,EAAWW,IAAI,cAAcgK,OAAO,uBACtDC,EAAO5K,EAAWW,IAAI,YACvB5N,GAASiN,EAAWW,IAAI,aAIzBiK,GAAQ,EACV3K,KAAQ9J,MAAM,yCAGhBqU,EAA0B,CACxBzX,OACAC,UAAWyX,EACXxX,SAAU2X,IAEZrJ,GAAQqH,KAAR,IAAAtY,OAAiB4V,MAZfjG,KAAQ9J,MAAM,8CA+CpBoU,GAAkBxE,aAAe,CAC/ByE,0BAA2B,cAG7B,IAAML,GAAkBC,aAAyB,IAQlCC,qBAAQF,GAJI,SAACG,GAAD,MAAe,CACxCE,0BAA2B,SAACxK,GAAD,OAAgBsK,ErBiFV,SAACtK,GAAD,MAAiB,CAClDjK,KAAMpE,GACNuE,QAAS,CACP8J,eqBpFkD6K,CAAoB7K,OAG3DqK,CAA6CE,IC3FpDrG,GAAqB8B,GAArB9B,iBA8BOsD,yBA5Bc,WAAM,IACzB1C,EAAoBwC,qBAAWpD,IAA/BY,gBASR,OAPAyC,oBAAU,WAER,OADAzC,GAAgB,GACT,WACLA,GAAgB,KAEjB,IAGDtB,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAACiD,GAAD,KACEnD,EAAAC,EAAAC,cAACwD,GAAD,CAAcnR,KAAK,SAASiT,QAAS,kBAAMzH,GAAQuJ,WACjDtH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAGjBH,EAAAC,EAAAC,cAAC+C,GAAD,6CAGAjD,EAAAC,EAAAC,cAACmD,GAAD,SCnBE3C,GAAqB8B,GAArB9B,iBAkDOsD,yBAAW6C,kBAAQ,KANP,SAACC,GAAD,MAAe,CACxCN,0BAA2B,SAACvM,EAAWsN,GAAZ,OACzBT,EAAS9M,GAAoBC,EAAWsN,OAIlBV,CAhDO,SAAA7K,GAG3B,IAFJwK,EAEIxK,EAFJwK,0BACAN,EACIlK,EADJkK,MACIsB,EACuC1D,qBAAWpD,IAA9CY,EADJkG,EACIlG,gBAAiBpH,EADrBsN,EACqBtN,cAEzB6J,oBAAU,WAER,OADAzC,GAAgB,GACT,WACLA,GAAgB,KAEjB,IAEH,IAAMmG,EAAqBvC,sBAAY,WACrCnH,GAAQuJ,SACRd,EAA0BN,EAAM1N,OAAOyB,UAAWC,KAGpD,OACE8F,EAAAC,EAAAC,cAAC6C,GAAD,KACE/C,EAAAC,EAAAC,cAACiD,GAAD,KACEnD,EAAAC,EAAAC,cAACwD,GAAD,CAAcnR,KAAK,SAASiT,QAAS,kBAAMzH,GAAQuJ,WACjDtH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAGjBH,EAAAC,EAAAC,cAAC+C,GAAD,6CAGAjD,EAAAC,EAAAC,cAACmD,GAAD,KACErD,EAAAC,EAAAC,cAACwD,GAAD,CAAcnR,KAAK,SAASiT,QAASiC,GACnCzH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,k4BC7BvB,IAAMlD,GAAG,iEAMHyK,GAAW9H,IAAO+H,MAAVC,KACV3K,IAME4K,GAAWjI,IAAO+H,MAAVG,KACV7K,IAKE8K,GAAcnI,IAAO+D,OAAVqE,KACb/K,IAQEgL,GAAcrI,IAAOC,IAAVqI,KACbjL,IAKEkL,GAAevI,IAAOC,IAAVuI,KACdnL,IAIEoL,GAAOzI,IAAO0I,IAAVC,MAQJC,GAAQ,SAACzH,GACb,IAAM0H,EAAcC,sBACdC,EAAcD,sBAElB9W,EAGEmP,EAHFnP,KACAR,EAEE2P,EAFF3P,UACAE,EACEyP,EADFzP,gBA4BF,OANAyS,oBAAU,WACJzS,EAAgB6L,IAAI,aAAevL,GACrCmM,GAAQqH,KAAR,IAAAtY,OAAiB4V,MAElB,CAAC9Q,IAGFN,EAAgB6L,IAAI,cAAgBvL,EAClCoO,EAAAC,EAAAC,cAACF,EAAAC,EAAM2I,SAAP,KACE5I,EAAAC,EAAAC,cAACmI,GAAD,CAAMjC,IAAI,gEACVpG,EAAAC,EAAAC,cAACwH,GAAD,CAAUmB,IAAKJ,EAAalW,KAAK,QAAQuW,YAAY,4DACrD9I,EAAAC,EAAAC,cAAC2H,GAAD,CAAUgB,IAAKF,EAAapW,KAAK,WAAWuW,YAAY,6BACxD9I,EAAAC,EAAAC,cAAC6H,GAAD,CAAavC,QAhCS,YAI1BuD,EADIhI,EADFgI,mBAEgB,CAChBzM,IAAKmM,EAAYO,QAAQ9L,MACzB+L,IAAKN,EAAYK,QAAQ9L,UA0BvB,gBACA8C,EAAAC,EAAAC,cAAC+H,GAAD,KACEjI,EAAAC,EAAAC,cAAA,KAAGgJ,KAAK,KAAK1D,QAxBU,YAI7B2D,EADIpI,EADFoI,sBAEmB,CACnB7M,IAAKmM,EAAYO,QAAQ9L,MACzB+L,IAAKN,EAAYK,QAAQ9L,UAkBrB,6BAID9L,EAAU+L,IAAI,UAAY6C,EAAAC,EAAAC,cAACiI,GAAD,kCAE3B,MAYRK,GAAMjG,aAAe,CACnBwG,kBAAmB,cAGrB,IAAMpC,GAAkBC,aAAyB,CAC/ChV,KhBtG8B0O,aAC9BF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,UgBqGvC/L,UhB5GmCkP,aACnCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,egB2GvC7L,gBAAiB+O,OAQJwG,qBAAQF,GALI,SAACG,GAAD,MAAe,CACxCiC,kBAAmB,SAAA/M,GAAA,IAAGM,EAAHN,EAAGM,IAAK2M,EAARjN,EAAQiN,IAAR,OAAkBnC,ExBtClB,SAAAvQ,GAAA,IAAA6S,EAAA7S,EAAG+F,WAAH,IAAA8M,EAAS,QAATA,EAAAC,EAAA9S,EAAkB0S,IAAlB,MAAuC,CAC1D1W,KAAMlF,EACNqF,QAAS,CACP4J,MACA2M,SAJiB,IAAAI,EAAwB,QAAxBA,IwBsC2BC,CAAM,CAAEhN,MAAK2M,UAC3DE,qBAAsB,SAAA5S,GAAA,IAAG+F,EAAH/F,EAAG+F,IAAK2M,EAAR1S,EAAQ0S,IAAR,OAAkBnC,ExBnBlB,SAAAnK,GAAA,IAAA4M,EAAA5M,EAAGL,WAAH,IAAAiN,EAAS,QAATA,EAAAC,EAAA7M,EAAkBsM,IAAlB,MAAuC,CAC7D1W,KAAM5E,EACN+E,QAAS,CACP4J,MACA2M,SAJoB,IAAAO,EAAwB,QAAxBA,IwBmB2BC,CAAS,CAAEnN,MAAK2M,YAGpDpC,CAA6C2B,urBC1IrD,IAAMkB,GAAY9J,IAAOC,IAAV8J,MAKTC,GAAShK,IAAOC,IAAVgK,MAUNC,GAAYlK,IAAOmK,MAAVC,MCqCPC,GAhDE,SAAAjO,GAGX,IAFJkO,EAEIlO,EAFJkO,WACApD,EACI9K,EADJ8K,SAEMqD,EAAUD,EAAW5R,IAAI,SAACyC,GAAD,OAAUA,EAAKoC,IAAI,YAAWrJ,QAE7D,OACEkM,EAAAC,EAAAC,cAACwJ,GAAD,KACGS,EAAQ7R,IAAI,SAAC8R,GAAD,OACXpK,EAAAC,EAAAC,cAACF,EAAAC,EAAM2I,SAAP,CAAgBvU,IAAK+V,GACnBpK,EAAAC,EAAAC,cAAC0J,GAAD,KAASQ,GACRF,EACE/O,OAAO,SAACJ,GAAD,OAAUA,EAAKoC,IAAI,YAAciN,IACxC9R,IAAI,SAACyC,GAAD,OACHiF,EAAAC,EAAAC,cAAC4J,GAAD,CAAWzV,IAAK0G,EAAKoC,IAAI,SACtBpC,EAAKoC,IAAI,QACV6C,EAAAC,EAAAC,cAAA,SACE3N,KAAK,WACL8X,SAAU,SAAC/F,GAIY,IAHA4F,EAClB/O,OAAO,SAACmP,GAAD,OAAeA,EAAUnN,IAAI,cACpCoN,MACuBjG,EAAMG,cAAc+F,QAC5C/N,KAAQgO,QAAQ,0CAAa,GAG/B3D,EAAS,CACPvU,KAAM+R,EAAMG,cAAc+F,QAAU,cAAgB,cACpD9X,QAAS,CAAEqI,KAAMA,EAAKoC,IAAI,YAG9BqN,QAASzP,EAAKoC,IAAI,YAAY,QAInCnJ,cCzCA0W,GAAc,SAACxY,EAAOI,GACjC,OAAQA,EAAOC,MACb,IAAK,cACH,OAAOL,EAAMyY,MAAM,CAACrY,EAAOI,QAAQqI,KAAM,aAAa,GACxD,IAAK,cACH,OAAO7I,EAAMyY,MAAM,CAACrY,EAAOI,QAAQqI,KAAM,aAAa,GACxD,QACE,OAAO7I,ICPA4I,GAAQ,CACnB8P,qBAAK,CACHrb,KAAM,qBACN6a,OAAQ,4BAEVS,qBAAK,CACHtb,KAAM,qBACN6a,OAAQ,4BAEVU,qBAAK,CACHvb,KAAM,qBACN6a,OAAQ,4BAEVW,qBAAK,CACHxb,KAAM,qBACN6a,OAAQ,4BAEVY,qBAAK,CACHzb,KAAM,qBACN6a,OAAQ,4BAEVa,qBAAK,CACH1b,KAAM,qBACN6a,OAAQ,4BAEVc,qBAAK,CACH3b,KAAM,qBACN6a,OAAQ,4BAEVe,qBAAK,CACH5b,KAAM,qBACN6a,OAAQ,4BAEVgB,qBAAK,CACH7b,KAAM,qBACN6a,OAAQ,4BAEViB,qBAAK,CACH9b,KAAM,qBACN6a,OAAQ,4BAEVkB,qBAAK,CACH/b,KAAM,qBACN6a,OAAQ,4BAEVmB,qBAAK,CACHhc,KAAM,qBACN6a,OAAQ,4BAEVoB,qBAAK,CACHjc,KAAM,qBACN6a,OAAQ,4BAEVqB,qBAAK,CACHlc,KAAM,qBACN6a,OAAQ,4BAEVsB,qBAAK,CACHnc,KAAM,qBACN6a,OAAQ,4BAEVuB,qBAAK,CACHpc,KAAM,qBACN6a,OAAQ,4BAEVwB,qBAAK,CACHrc,KAAM,qBACN6a,OAAQ,4BAEVyB,qBAAK,CACHtc,KAAM,qBACN6a,OAAQ,4BAEV0B,qBAAK,CACHvc,KAAM,qBACN6a,OAAQ,4BAEV2B,qBAAK,CACHxc,KAAM,qBACN6a,OAAQ,4BAEV4B,qBAAK,CACHzc,KAAM,qBACN6a,OAAQ,4BAEV6B,qBAAK,CACH1c,KAAM,qBACN6a,OAAQ,+4ICrFL,IAAMV,GAAY9J,IAAOC,IAAVqM,MAMTC,GAAOvM,IAAOC,IAAVuM,MAQJC,GAAYzM,IAAO0I,IAAVgE,MAMTC,GAAW3M,IAAOC,IAAV2M,MAQRC,GAAW7M,IAAO8M,KAAVC,MAiBRC,GAAYhN,IAAO8M,KAAVG,MAaTC,GAAYlN,IAAOC,IAAVkN,MAMTC,GAASpN,IAAO+D,OAAVsJ,MAaNC,GAAkBtN,IAAOuN,EAAVC,MAKfC,GAAkBzN,IAAOuN,EAAVG,MAKfC,GAAc3N,IAAOmK,MAAVyD,MAUXC,GAAU7N,IAAOC,IAAV6N,MAKPC,GAAY/N,IAAOC,IAAV+N,MAOTC,GAAYjO,IAAOC,IAAViO,MAQTC,GAAqBnO,IAAO+D,OAAVqK,MA8BlBC,GAAuBrO,IAAOC,IAAVqO,KAFF,QAoBlBC,GAAcvO,IAAO+H,MAAVyG,KApBO,QA2BlBC,GAAWzO,IAAOC,IAAVyO,MAKRxE,GAAYlK,IAAO8M,KAAV6B,MAcTC,GAAqB5O,IAAOuN,EAAVsB,MCjBzB9H,GAAkBC,aAAyB,CAC/ChU,KtB3IuC0N,aACvCF,GANyCE,aACzCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,qBAMvC,SAACoD,EAAgBmO,GAAjB,OAA4BnO,EAAehD,MAAM,CAAC,QAASC,OAAOkR,IAAUvM,mBsByI5ElR,atBrKmCqP,aACnCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,kBsBoKvCwR,oBtBhH6CrO,aAC7CF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,8BsB2H1B6G,yBAAW6C,kBAAQF,GAVP,SAACG,GAAD,MAAe,CACxC8H,gBAAiB,kBAAM9H,EAASnN,OAChCkV,uBAAwB,SAACH,GAAD,OAAY,WAClC5H,EAASxM,GAASoU,IAClB5H,EAASnN,QAEXmV,iBAAkB,eAAA9S,EAAA7J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAiB,GAAd+J,EAAHF,EAAGE,GAAIpB,EAAPkB,EAAOlB,MAAP,OAAwBgM,E9B3GlB,eAAA9K,EAAA7J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA2B,GAA3B4c,EAAA/S,EAAGlB,aAAH,IAAAiU,EAAW,GAAXA,EAAAC,EAAAhT,EAAeE,GAAf,MAAmC,CAC3D3J,KAAMrF,EACNwF,QAAS,CAAEoI,QAAOoB,QAFM,IAAA8S,EAAoB,GAApBA,I8B2G2BC,CAAW,CAAE/S,KAAIpB,YACpEoU,2BAA4B,kBAAMpI,EAASrM,SAGnBoM,CAhJN,SAAC9F,GAAU,IAE3BnO,EASEmO,EATFnO,KACAgc,EAQE7N,EARF6N,gBACAC,EAOE9N,EAPF8N,uBACAC,EAME/N,EANF+N,iBACA7d,EAKE8P,EALF9P,aACAgT,EAIElD,EAJFkD,SACAlG,EAGEgD,EAHFhD,QACAmR,EAEEnO,EAFFmO,2BACAP,EACE5N,EADF4N,oBAV2BQ,EAaEC,qBAAW1E,GAAa5Z,iBAAOue,KAbjCC,EAAA3iB,OAAAyU,GAAA,EAAAzU,CAAAwiB,EAAA,GAatBjF,EAbsBoF,EAAA,GAaVxI,EAbUwI,EAAA,GAcvBC,EAAgBrF,EACnB/O,OAAO,SAACJ,GAAD,OAAUA,EAAKoC,IAAI,cAC1B7E,IAAI,SAACyC,GAAD,OAAUA,EAAKoC,IAAI,UACvBnJ,SACA4I,OAlB0BqE,EAoBCC,mBAAS,IApBVC,EAAAxU,OAAAyU,GAAA,EAAAzU,CAAAsU,EAAA,GAoBtBrG,EApBsBuG,EAAA,GAoBbqO,EApBarO,EAAA,GAuC7B,OAXA4C,oBAAU,WACH9S,EAAakM,IAAI,cACpB2R,IAEGH,EAAoBxR,IAAI,cAC3B+R,KAED,IAIgB,SAFLhU,KAAYzG,MAAMwP,EAASE,QAE/BD,KAENlE,EAAAC,EAAAC,cAACuP,GAAD,CACExL,SAAUA,EACVlG,QAASA,EACTmM,WAAYA,EACZpD,SAAUA,IAMd9G,EAAAC,EAAAC,cAACwP,GAAD,KACE1P,EAAAC,EAAAC,cAACyN,GAAD,KACE3N,EAAAC,EAAAC,cAAC2N,GAAD,KACE7N,EAAAC,EAAAC,cAAC6N,GAAD,CAAoBvI,QAAS,kBAAMzH,EAAQqH,KAAR,GAAAtY,OAAgBmX,EAASkC,SAAzB,iBAAnC,2BAEEnG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAEfH,EAAAC,EAAAC,cAAC+N,GAAD,KACEjO,EAAAC,EAAAC,cAACiO,GAAD,CACE5b,KAAK,OACLuW,YAAY,6CACZ5L,MAAOtC,EACPyP,SAAU,SAAC/F,GAAD,OAAWkL,EAAWlL,EAAMK,OAAOzH,QAC7CyS,QA3CmB,SAACrL,GACZ,UAAdA,EAAMjQ,MACRya,EAAiB,CAAE5S,GAAItB,EAASE,MAAOyU,IACvCjL,EAAMG,cAAcmL,cA6CpB5P,EAAAC,EAAAC,cAACmO,GAAD,KACGkB,EAAcjX,IAAI,SAACyC,GAAD,OACjBiF,EAAAC,EAAAC,cAAC2P,GAAD,CAAWxb,IAAK0G,GACbA,EACDiF,EAAAC,EAAAC,cAACsO,GAAD,CAAoBrO,UAAU,qBAInClP,EAAakM,IAAI,aACd6C,EAAAC,EAAAC,cAAC4P,GAAD,MAEA9P,EAAAC,EAAAC,cAACF,EAAAC,EAAM2I,SAAP,KACE5I,EAAAC,EAAAC,cAACuN,GAAD,KACEzN,EAAAC,EAAAC,cAAC6P,EAAA,EAAD,CAAM3L,GAAE,IAAAtX,OAAM4V,GAAN,KAAA5V,OAA2B8F,EAAKuK,IAAI,aAC1C6C,EAAAC,EAAAC,cAACiM,GAAD,KACEnM,EAAAC,EAAAC,cAACmM,GAAD,CAAWjG,IAAKxT,EAAK2K,MAAM,CAAC,MAAO,KAAO,qEAC1CyC,EAAAC,EAAAC,cAACqM,GAAD,KACEvM,EAAAC,EAAAC,cAACuM,GAAD,KAAW7Z,EAAKuK,IAAI,SACpB6C,EAAAC,EAAAC,cAAC0M,GAAD,KACGha,EAAKuK,IAAI,YADZ,0BAQR6C,EAAAC,EAAAC,cAAC4M,GAAD,KACE9M,EAAAC,EAAAC,cAACqN,GAAD,KACEvN,EAAAC,EAAAC,cAAC8M,GAAD,CAAQxH,QAASoJ,GACf5O,EAAAC,EAAAC,cAACgN,GAAD,CAAiB/M,UAAU,kBAE7BH,EAAAC,EAAAC,cAAA,6BAEFF,EAAAC,EAAAC,cAACqN,GAAD,KACEvN,EAAAC,EAAAC,cAAC8M,GAAD,CAAQxH,QAASqJ,EAAuBjc,EAAKuK,IAAI,aAC/C6C,EAAAC,EAAAC,cAACmN,GAAD,CAAiBlN,UAAU,kBAE7BH,EAAAC,EAAAC,cAAA,8gDC5IR8P,GAAYC,KAAZD,QACAtP,GAAqB8B,GAArB9B,iBAEFgJ,GAAY9J,IAAOC,IAAVqQ,MA+DTC,GAAc,SAACpP,GACnB,IAEEiB,EAFc8B,qBAAWpD,IAEzBsB,WAGAoO,EAEErP,EAFFqP,QACAC,EACEtP,EADFsP,oBAEIpW,EAAYmW,EAAQjT,IAAI,WACxB5N,EAAO6gB,EAAQjT,IAAI,QACnBiK,EAAOgJ,EAAQjT,IAAI,YACnB8J,EAAWC,KAAOkJ,EAAQjT,IAAI,aAAc,cAAcgK,OAAO,8BACjEmJ,EAASpJ,KAAOkJ,EAAQjT,IAAI,aAAc,cAAcpJ,IAAIqT,EAAO,EAAG,QAAQD,OAAO,8BACrFoJ,EAAgBrL,sBAAY,WAChC,IAAIlD,EAAJ,CAGA,IAAMwO,EAAsB,IAAA1jB,OAAO4V,IAEnC3E,GAAQqH,KAAK,CACXe,SAAQ,GAAArZ,OAAK0jB,EAAL,KAAA1jB,OAA+BmN,GACvCkK,OAAM,QAAArX,OAHW,OAKlB,CAACmN,EAAW+H,IACTyO,EAAwBvL,sBAAY,SAACZ,GACzC,IAAMoM,EAASrM,GAAqBC,EAAO,mBAC3C0L,GAAQ,CACNW,MAAO,uCACP7U,QAAO,yCAAAhP,OAAayC,EAAb,YACPqhB,OAAQ,eACRC,OAAQ,SACRC,KAAM,WACJT,EAAoBK,OAGvB,IACH,OACE1Q,EAAAC,EAAAC,cAAC6Q,GAAD,CAAW/O,WAAYA,EAAYwD,QAAS+K,GAExCvO,GACAhC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2I,SAAA,KACE5I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACfH,EAAAC,EAAAC,cAAA,OACEqF,KAAK,eACLpF,UAAU,mCACV6Q,kBAAiB/W,EACjBuL,QAASiL,GAETzQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAA2BiG,IAAK6K,KAAe3K,IAAI,OAIxEtG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAA4B5Q,GAC3CyQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,GAAArT,OAA+Cma,EAA/C,KAAAna,OAA2DwjB,EAA3D,OAAAxjB,OAAuEsa,EAAvE,cAWR+I,GAAY5N,aAAe,CACzB6N,QAASjO,gBACTkO,oBAAqB,cAGRF,gJCrIf,IAAMzG,GAAY9J,IAAOC,IAAVqR,MAMTC,GAAe,SAAAnV,GAKf,IAJJzK,EAIIyK,EAJJzK,gBACAM,EAGImK,EAHJnK,YACAuf,EAEIpV,EAFJoV,uBACAf,EACIrU,EADJqU,oBAEMgB,EAAW9f,EAAgB4L,IAAI,YAC/BmU,EAAY/f,EAAgB4L,IAAI,aAMtC,OALA4G,oBAAU,WACHsN,GACHD,KAED,IACCE,EACKtR,EAAAC,EAAAC,cAAC4P,GAAD,MAEJje,EAAY0Y,KAIfvK,EAAAC,EAAAC,cAACqR,GAAD,KAEI1f,EAAYyG,IAAI,SAAC8X,GAAD,OACdpQ,EAAAC,EAAAC,cAACsR,GAAD,CACEnd,IAAK+b,EAAQjT,IAAI,WACjBiT,QAASA,EACTC,oBAAqBA,OATtBrQ,EAAAC,EAAAC,cAAA,gEAwBXiR,GAAa5O,aAAe,CAC1BhR,gBAAiB,KACjBM,YAAa4f,iBACbL,uBAAwB,aACxBf,oBAAqB,cAGvB,IAAM1J,GAAkBC,aAAyB,CAC/CrV,gBAAiBkP,KACjB5O,YAAa2O,OAQAwD,yBAAW6C,kBAAQF,GALP,SAACG,GAAD,MAAe,CACxCsK,uBAAwB,kBAAMtK,EAASjN,OACvCwW,oBAAqB,SAACpW,GAAD,OAAe6M,EAAS1M,GAAoBH,OAGzC4M,CAA6CsK,8/CC7EvE,IAAMO,GAAmB9R,IAAOC,IAAV8R,KAkCQ,SAAC5Q,GAAD,OAAWA,EAAM6Q,YA6EhCC,GA5CI,SAAA7V,GAAmB,IAAhB/B,EAAgB+B,EAAhB/B,UAEdsW,EAAgBrL,sBAAY,WAChC,IAAMsL,EAAsB,IAAA1jB,OAAO4V,IAEnC3E,GAAQqH,KAAK,CACXe,SAAQ,GAAArZ,OAAK0jB,EAAL,KAAA1jB,OAA+BmN,GACvCkK,OAAM,QAAArX,OAHW,OAMrB,OACEkT,EAAAC,EAAAC,cAACwR,GAAD,CAAkBE,UAVF,8EAWd5R,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iDACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,kCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,mBAGJH,EAAAC,EAAAC,cAAA,OAAKqF,KAAK,eAAepF,UAAU,4BAA4BqF,QAAS+K,GACtEvQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAAf,wCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,iEAGJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0CACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAAf,0GCjGR,IAAM2R,GAAuBlS,IAAOC,IAAVkS,MAoBXC,GAhBQ,WACrB,IAAMC,EAAQ,IAAItc,MAAM,IAAIuc,KAAK,GAAG5Z,IAAI,SAAC6Z,EAAGle,GAAJ,OAAcA,IACtD,OACE+L,EAAAC,EAAAC,cAAC4R,GAAD,KAEIG,EAAM3Z,IAAI,SAAC8Z,EAAMne,GAAP,OACR+L,EAAAC,EAAAC,cAACmS,GAAD,CACEhe,IAAK+d,EACLnY,UAAWhG,QCRRqe,GANC,kBACdtS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAAyBmG,IAAI,OCqCjCiM,GAtCK,kBAClBvS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAACsS,GAAD,MACAxS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BAAf,kCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0JAMbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iDAAf,4BACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kDAAf,OAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+MAObH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iDAAf,sBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kDAAf,OAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0GAKbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iDAAf,sBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kDAAf,WC/BJsS,GAAgB,SAACC,GAAD,OAAeA,EAAW,wCAA0C,IAyB3EC,GAvBQ,SAAA3W,GAAuB,IAApBuU,EAAoBvU,EAApBuU,cAElBqC,EADe,IAAI5M,gBAAgBC,OAAOhC,SAASE,QACfhH,IAAI,mBAAqB,OACnE,OACE6C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACbH,EAAAC,EAAAC,cAAA,OAAKqF,KAAK,eAAepF,UAAS,iCAAArT,OAAmC2lB,GAAuC,SAAzBG,IAAoCC,uBAAqB,OAAOrN,QAAS+K,GAC1JvQ,EAAAC,EAAAC,cAAA,yCAEFF,EAAAC,EAAAC,cAAA,OAAKqF,KAAK,eAAepF,UAAS,iCAAArT,OAAmC2lB,GAAuC,aAAzBG,IAAwCC,uBAAqB,WAAWrN,QAAS+K,GAClKvQ,EAAAC,EAAAC,cAAA,ifCTR,IAAM4S,GAAiBlT,IAAOC,IAAVkT,KAEM,SAAChS,GAAD,OAAWA,EAAM6Q,YA+C5BoB,GA5BE,SAAAhX,GAA+B,IAA5B0S,EAA4B1S,EAA5B0S,OAAQ6B,EAAoBvU,EAApBuU,cAE1B,OACEvQ,EAAAC,EAAAC,cAAC4S,GAAD,CACElB,UAHc,gFAIdqB,UAASvE,EACTjJ,qBAAoB/C,GACpB8C,QAAS+K,GAETvQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,oOC/BR,IAAM+S,GAAuBtT,IAAOC,IAAVsT,MAmCXC,GA3BQ,SAAApX,GAEjB,IADJuU,EACIvU,EADJuU,cAEM0B,EAAQ,IAAItc,MAAM,IAAIuc,KAAK,GAAG5Z,IAAI,SAAC6Z,EAAGle,GAAJ,OAAcA,IACtD,OACE+L,EAAAC,EAAAC,cAACgT,GAAD,KAEIjB,EAAM3Z,IAAI,SAAC8Z,GAAD,OACRpS,EAAAC,EAAAC,cAACmT,GAAD,CACEhf,IAAK+d,EACL1D,OAAQ0D,EACR7B,cAAeA,m2BCnB3B,IAAM+C,GAAqB1T,IAAOC,IAAV0T,KAEE,SAACxS,GAAD,OAAWA,EAAM6Q,WAyBb,SAAC7Q,GAAD,OAAWA,EAAMyS,cA6ChCC,GAjCM,SAAAzX,GAAmC,IAAhC0X,EAAgC1X,EAAhC0X,WAAYnD,EAAoBvU,EAApBuU,cAGlC,OACEvQ,EAAAC,EAAAC,cAACoT,GAAD,CACE1B,UAJc,2EAKdqB,UAASS,EACTjO,qBAAoB/C,GACpB8C,QAAS+K,GAETvQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAiCiG,IATlC,kEASoDE,IAAI,KACtEtG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BAAf,mCAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,wBAAhB,yPCtDR,IAAMwT,GAA2B/T,IAAOC,IAAV+T,MAmCfC,GA3BY,SAAA7X,GAErB,IADJuU,EACIvU,EADJuU,cAEM0B,EAAQ,IAAItc,MAAM,IAAIuc,KAAK,GAAG5Z,IAAI,SAAC6Z,EAAGle,GAAJ,OAAcA,IACtD,OACE+L,EAAAC,EAAAC,cAACyT,GAAD,KAEI1B,EAAM3Z,IAAI,SAAC8Z,GAAD,OACRpS,EAAAC,EAAAC,cAAC4T,GAAD,CACEzf,IAAK+d,EACLsB,WAAYtB,EACZ7B,cAAeA,QCHZwD,GAfW,WACxB,IACMC,EAAoB,SAAC1P,GACzB,IAAM/Q,EAAK8Q,GAAqBC,EAAO,WACjC2P,EAAe5P,GAAqBC,EAAO,sBACjDvG,GAAQqH,KAAK,CACXe,SAAQ,GAAArZ,OAAKmnB,EAAL,KAAAnnB,OAAqByG,MAGjC,MAA2C,aARtB,IAAIyS,gBAAgBC,OAAOhC,SAASE,QAQxChH,IAAI,kBACZ6C,EAAAC,EAAAC,cAACgU,GAAD,CAAoB3D,cAAeyD,IAErChU,EAAAC,EAAAC,cAACiU,GAAD,CAAgB5D,cAAeyD,mnECTxC,IAAMI,GAAqBxU,IAAOC,IAAVwU,KAGI,SAACtT,GAAD,OAAWA,EAAMuT,gBAaf,SAACvT,GAAD,OAAWA,EAAMyS,aAE/B,SAACzS,GAAD,OAAWA,EAAMwT,aAClB,SAACxT,GAAD,OAAWA,EAAMwT,cA2FjBC,GA9BM,WAAM,IAAAvT,EAC+BC,mBAAS,QADxCC,EAAAxU,OAAAyU,GAAA,EAAAzU,CAAAsU,EAAA,GAClB2R,EADkBzR,EAAA,GACIsT,EADJtT,EAAA,GAczB,OACEnB,EAAAC,EAAAC,cAACkU,GAAD,CACEE,eAZmB,yEAanBd,YAfgB,iCAgBhBe,YAfgB,IAiBhBvU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACfH,EAAAC,EAAAC,cAACwU,GAAD,MACA1U,EAAAC,EAAAC,cAACyU,GAAD,CACEpE,cAlBmB,SAACjM,GACxB,IAAM/R,EAAO8R,GAAqBC,EAAO,wBACzCmQ,EAAwBliB,GACxB,IAAMqiB,EAAgB,IAAA9nB,OAAO4V,IAC7B3E,GAAQqH,KAAK,CACXe,SAAUyO,EACVzQ,OAAM,mBAAArX,OAAqByF,QAc3ByN,EAAAC,EAAAC,cAAC2U,GAAD,CAAmBjC,qBAAsBA,02BC7G/C,IAEMkC,GAAalV,IAAOC,IAAVkV,KAsBI,SAAChU,GAAD,OAAWA,EAAMiU,MAAMvV,WAKzB,SAACsB,GAAD,OAAWA,EAAMiU,MAAMvV,YAcnCwV,GAAM,SAAClU,GAAU,IA3CK2R,EA6CxBnf,EAEEwN,EAFFxN,GACA0Q,EACElD,EADFkD,SASIiR,EADe,IAAIlP,gBAAgBC,OAAOhC,SAASE,QACzBhH,IAAI,OACpC,OACE6C,EAAAC,EAAAC,cAAC4U,GAAD,KACE9U,EAAAC,EAAAC,cAAA,OACEqF,KAAK,eACLpF,UAAS,eAAArT,QA5DW4lB,EA4DyBwC,KAAgB3hB,EAAK,GAAG4hB,WA5DnCzC,EAAW,sBAAwB,KA6DrElN,QAbgB,WACpBzH,GAAQqH,KAAK,CACXe,SAAQ,GAAArZ,OAAKmX,EAASkC,UACtBhC,OAAM,QAAArX,OAAUyG,EAAK,OAYnByM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,SAAArT,OAAgCyG,EAAK,EAArC,cAcR0hB,GAAI1S,aAAe,CACjBhP,GAAI,EACJ0Q,SAAU,IAGGgR,ofCjFf,IAAMG,GAAoBxV,IAAOC,IAAVwV,MAsBjBC,GAAW,SAACvU,GAAU,IAExBqG,EACErG,EADFqG,KAEImO,EAAO,IAAI5f,MAAMyR,GAAM8K,KAAK,GAAG5Z,IAAI,SAAC6Z,EAAGle,GAAJ,OAAcA,IACvD,OACE+L,EAAAC,EAAAC,cAACkV,GAAD,KACEpV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAEXoV,EAAKjd,IAAI,SAACkd,GAAD,OACPxV,EAAAC,EAAAC,cAACuV,GAAD9oB,OAAA+oB,OAAA,CACErhB,IAAKmhB,EACLjiB,GAAIiiB,GACAzU,OAKZf,EAAAC,EAAAC,cAAA,OAAKkG,IAAKuP,KAAaxV,UAAU,0BAA0BmG,IAAI,OASrEgP,GAAS/S,aAAe,CACtB6E,KAAM,GAGOkO,4xBCtDf,IAAMM,GAAOC,YAAHC,MASJC,GAAyBF,YAAHG,MAWtBC,GAAerW,IAAOC,IAAVqW,KAOgBN,GASAG,IAI5B9F,eAeJ,SAAAA,EAAYlP,GAAO,IAAAoV,EAAAxpB,OAAAypB,GAAA,EAAAzpB,CAAA2I,KAAA2a,GAAA,IAGfpc,GAFFsiB,EAAAxpB,OAAA0pB,GAAA,EAAA1pB,CAAA2I,KAAA3I,OAAA2pB,GAAA,EAAA3pB,CAAAsjB,GAAAsG,KAAAjhB,KAAMyL,KAGGA,MADPlN,UAHe,OAKjBsiB,EAAKK,GAAKC,SAASvW,cAAc,OACjCiW,EAAKK,GAAGE,aAAa,KAAM,uBACT,IAAd7iB,GACFsiB,EAAKK,GAAGG,MAAMC,SAAW,WACzBT,EAAKK,GAAGG,MAAME,IAAM,MACpBV,EAAKK,GAAGG,MAAMG,MAAQ,OACtBX,EAAKK,GAAGG,MAAMI,OAAS,OACvBZ,EAAKK,GAAGG,MAAMK,OAAS,IACvBb,EAAKK,GAAGG,MAAMM,QAAU,KAExBd,EAAKK,GAAGG,MAAQ,GAChBR,EAAKK,GAAGG,MAAMM,QAAU,QAhBTd,qFAqBb7gB,KAAKkhB,IACPC,SAASvf,KAAKggB,YAAY5hB,KAAKkhB,iDAId,IAEjB3iB,EACEyB,KAAKyL,MADPlN,UAEIsjB,EAAcV,SAASW,eAAe,uBAC1B,IAAdvjB,GACFyB,KAAKkhB,GAAGG,MAAMC,SAAW,WACzBthB,KAAKkhB,GAAGG,MAAME,IAAM,MACpBvhB,KAAKkhB,GAAGG,MAAMG,MAAQ,OACtBxhB,KAAKkhB,GAAGG,MAAMI,OAAS,OACvBzhB,KAAKkhB,GAAGG,MAAMK,OAAS,IACvB1hB,KAAKkhB,GAAGG,MAAMM,QAAU,KAExB3hB,KAAKkhB,GAAGG,MAAQ,GAChBQ,EAAYR,MAAMM,QAAU,uDAK1B3hB,KAAKkhB,IACPC,SAASvf,KAAKmgB,YAAY/hB,KAAKkhB,qCAI1B,IAvFkBc,EAuFlBC,EAMHjiB,KAAKyL,MAJPC,EAFKuW,EAELvW,SACAnN,EAHK0jB,EAGL1jB,UACA2jB,EAJKD,EAILC,YACAC,EALKF,EAKLE,cAEF,OAAI5jB,EACK6jB,IAASC,aACd3X,EAAAC,EAAAC,cAAC+V,GAAD,KACEjW,EAAAC,EAAAC,cAAA,OAAKC,UAAS,uBAAArT,QAjGKwqB,EAiGwCG,EAjGnBH,EAAkB,0CAA4C,OAkGtGtX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BAA+BwW,MAAOa,GAAcxW,IAErE1L,KAAKkhB,IAGF,YAjFSoB,IAAMC,WAApB5H,GAQG1N,aAAe,CACpBvB,SAAU,KACVnN,WAAW,EACX2jB,YAAa,GACbC,eAAe,GAyEJxH,k+BCzHf,IAAM8F,GAAyBF,YAAHiC,MAStBC,GAAoBnY,IAAOC,IAAVmY,KAQSjC,GAGd,SAAChV,GAAD,OAAWA,EAAMiU,MAAMvV,YA4BnCwY,eAaJ,SAAAA,EAAYlX,GAAO,IAAAoV,EAAAxpB,OAAAypB,GAAA,EAAAzpB,CAAA2I,KAAA2iB,IACjB9B,EAAAxpB,OAAA0pB,GAAA,EAAA1pB,CAAA2I,KAAA3I,OAAA2pB,GAAA,EAAA3pB,CAAAsrB,GAAA1B,KAAAjhB,KAAMyL,KAoBRmX,iBAAmB,SAAC3oB,EAAM2N,GACxBiZ,EAAKgC,SAAS,SAAAnc,GAAA,IAAGoc,EAAHpc,EAAGoc,gBAAH,MAA0B,CACtCA,gBAAgBzrB,OAAAsK,GAAA,EAAAtK,CAAA,GACXyrB,EADUzrB,OAAAC,EAAA,EAAAD,CAAA,GAEZ4C,EAAO2N,QAzBKiZ,EA8BnBkC,mBAAqB,SAAC9oB,EAAM2N,GAC1BiZ,EAAKgC,SAAS,SAAA5hB,GAAA,IAAG+hB,EAAH/hB,EAAG+hB,kBAAH,MAA4B,CACxCA,kBAAkB3rB,OAAAsK,GAAA,EAAAtK,CAAA,GACb2rB,EADY3rB,OAAAC,EAAA,EAAAD,CAAA,GAEd4C,EAAO2N,QAlCKiZ,EAuCnBoC,cAAgB,WAAM,IAElBC,EACErC,EAAKpV,MADPyX,WAFkBC,EAOhBtC,EAAKjkB,MAFPkmB,EALkBK,EAKlBL,gBACAE,EANkBG,EAMlBH,kBAEFE,EAAU,GAAA1rB,OAAIsrB,EAAgBM,KAApB,KAAA5rB,OAA4BwrB,EAAkBK,OAA9C,SA/CO,IAGfC,EACE7X,EADF6X,UAHe,OAKjBzC,EAAKjkB,MAAQ,CACXkmB,gBAAiB,CACfM,KAAME,EAAUloB,MAAM,KAAK,IAE7BmoB,iBAAkB,CAChBH,KAAM/nB,IAER2nB,kBAAmB,CACjBK,OAAQC,EAAUloB,MAAM,KAAK,IAE/BooB,mBAAoB,CAClBH,OAAQ/nB,KAhBKulB,0EAkDV,IAEL4C,EACEzjB,KAAKyL,MADPgY,eAFKC,EASH1jB,KAAKpD,MAJPkmB,EALKY,EAKLZ,gBACAS,EANKG,EAMLH,iBACAP,EAPKU,EAOLV,kBACAQ,EARKE,EAQLF,mBAEF,OACE9Y,EAAAC,EAAAC,cAAC6X,GAAD,KACE/X,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,OAAKqF,KAAK,eAAepF,UAAU,sBAAsBqF,QAASuT,GAAlE,gBACA/Y,EAAAC,EAAAC,cAAA,OAAKqF,KAAK,eAAepF,UAAU,sBAAsBqF,QAASlQ,KAAKijB,eAAvE,iBAEFvY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACEiZ,YAAad,EACbe,aAAcN,EACdxO,SAAU/U,KAAK4iB,oBAGnBlY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,UACAH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC+Y,GAAAhZ,EAAD,CACEiZ,YAAaZ,EACba,aAAcL,EACdzO,SAAU/U,KAAK+iB,sBAGnBrY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,mBA/Fe0X,aAAnBI,GAOG1V,aAAe,CACpBqW,UAAW,GACXJ,WAAY,aACZO,eAAgB,cA4FLd,iwBC3If,IAAMmB,GAAa,CACjBC,OAAQ,MACRvC,MAAO,OACPC,OAAQ,SAGJuC,GAAqB1Z,IAAOC,IAAV0Z,KA6BX,SAACxY,GAAD,OAAWA,EAAMiU,MAAMvV,YAI9B+Z,GAAe,SAACzY,GAAU,IAE5BmF,EAMEnF,EANFmF,MACAe,EAKElG,EALFkG,SACAwS,EAIE1Y,EAJF0Y,KACA9nB,EAGEoP,EAHFpP,eACA+nB,EAEE3Y,EAFF2Y,sBACAlT,EACEzF,EADFyF,0BAEImT,EAAe,IAAI3T,gBAAgBC,OAAOhC,SAASE,QACnD4B,EAAM6T,SAASD,EAAaxc,IAAI,OAAQ,IACxC0c,EAAO3S,KAAOD,EAAU,cAAclT,IAAIgS,EAAM,EAAG,QAAQoB,OAAO,8BAClE2S,EAAUrpB,GAAeyW,KAAOD,EAAU,cAAclT,IAAIgS,EAAM,EAAG,QAAQ5I,IAAI,YACjFyb,EAAY1R,KAAOuS,EAAKlc,MAAM,CAACwI,EAAM,EAAG,eAAgB,SAASoB,OAAO,SACxE4S,EAAkB7U,sBAAY,WAClCwU,GAAsB,IACrB,IACGM,EAAkB9U,sBAAY,WAClCwU,GAAsB,IACrB,IACGO,EAAsB/U,sBAAY,SAAChI,GAAU,IACzCjD,EAAciM,EAAM1N,OAApByB,UACFigB,EAAcT,EAAK9O,MAAM,CAAC5E,EAAM,EAAG,cAAe7I,GAClDqK,EAAiBzW,iBAAO,CAC5B2oB,KAAMS,IAER1T,EAA0BvM,EAAWsN,IACpC,IAEH,OACEvH,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2I,SAAA,KACE5I,EAAAC,EAAAC,cAACoZ,GAAD,KACEtZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAAf,GAAArT,OAA+C+sB,EAA/C,KAAA/sB,OAAuDgtB,IACvD9Z,EAAAC,EAAAC,cAAA,OAAKqF,KAAK,eAAepF,UAAU,qCAAqCqF,QAASuU,GAC/E/Z,EAAAC,EAAAC,cAAA,KAAGC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,wCAAApT,OAAe8rB,MAGnB5Y,EAAAC,EAAAC,cAACia,GAAD,CACE3C,YAAa4B,GACbvlB,UAAWlC,EACX8lB,eAAa,GAEbzX,EAAAC,EAAAC,cAACka,GAAD,CACExB,UAAWA,EACXG,eAAgBiB,EAChBxB,WAAYyB,OAgBtBT,GAAajX,aAAe,CAC1B2D,MAAO,GACPe,SAAU,GACVtV,gBAAgB,EAChB8nB,KAAMhI,iBACNiI,sBAAuB,aACvBlT,0BAA2B,cAG7B,IAAMG,GAAkBC,aAAyB,CAC/CjV,exCtDwC2O,aACxCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,sBwC4D1B0J,qBAAQF,GALI,SAACG,GAAD,MAAe,CACxC4S,sBAAuB,SAAC7lB,GAAD,OAAeiT,EhDhFP,SAACjT,GAAD,MAAgB,CAC/CtB,KAAMlD,GACNqD,QAAS,CACPmB,cgD6E6CwmB,CAAkBxmB,KACjE2S,0BAA2B,SAACvM,EAAWC,GAAZ,OAA8B4M,EAAS9M,GAAoBC,EAAWC,OAGpF2M,CAA6C2S,4vCCvIrD,IAGD1G,GAAiBlT,IAAOC,IAAVya,KACRC,IAJoB,GACO,IAqDjCvH,GAAW,SAAAhX,GAAA,IAAGpJ,EAAHoJ,EAAGpJ,KAAH,OACfoN,EAAAC,EAAAC,cAACsa,GAAD,KACExa,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,qBAEFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCAAmCvN,EAAKuK,IAAI,SAC3D6C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAgCvN,EAAKuK,IAAI,cAG5D6C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2CACbH,EAAAC,EAAAC,cAAA,+BAEFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,+CACbH,EAAAC,EAAAC,cAAA,kCAUR8S,GAASzQ,aAAe,CACtB3P,KAAM,IAGOogB,+xDC/Ef,IAAMyH,GAAgB7a,IAAOC,IAAV6a,MA6BbC,GAAe/a,IAAOC,IAAV+a,KACNL,IDvCoB,GC+DjB,SAACxZ,GAAD,OAAWA,EAAMiU,MAAMvV,WD9DC,IC8FjCob,GAAe/pB,iBAAO,CAC1B,CACEyC,GAAI,EACJhE,KAAM,kBACNurB,QAAS,+EACTlC,UAAW,SAEb,CACErlB,GAAI,EACJhE,KAAM,qEACNurB,QAAS,kEACTlC,UAAW,SAEb,CACErlB,GAAI,EACJhE,KAAM,mFACNurB,QAAS,uEACTlC,UAAW,SAEb,CACErlB,GAAI,EACJhE,KAAM,6CACNurB,QAAS,wEACTlC,UAAW,WAITmC,GAAU,kBACd/a,EAAAC,EAAAC,cAACua,GAAD,KACEza,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACbH,EAAAC,EAAAC,cAAA,WAEI2a,GAAaviB,IAAI,SAAC1F,EAAMqB,GAAP,OACf+L,EAAAC,EAAAC,cAACya,GAAD,CAActmB,IAAKzB,EAAKuK,IAAI,OAC1B6C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAEX6a,QAAQ/mB,IACR+L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sDAEjBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCAAiCH,EAAAC,EAAAC,cAAA,YAAOtN,EAAKuK,IAAI,MAAQ,IACxE6C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0DAEjBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,OAAKkG,IAAK6U,KAAiB9a,UAAU,4BAA4BmG,IAAI,UAM/EtG,EAAAC,EAAAC,cAACgb,GAAAjb,EAAD,CACEkb,WAAYN,GACZ5d,IAAK,SAACrK,EAAMqB,GAAP,OACH+L,EAAAC,EAAAC,cAACkb,GAAD,CACE/mB,IAAKzB,EAAKuK,IAAI,MACdvK,KAAMA,EACNqB,MAAOA,KAGXonB,SAAS,EACTlb,UAAU,wCACVmb,aAAa,kBACbC,SAAU,kBAUlBR,GAAQxY,aAAe,GAIRwY,wpBC5Kf,IAEaS,GAA8B5b,IAAOC,IAAV4b,KAFlB,gECoBhB7V,GAAqB,SAAC7E,GAAU,IAElCmF,EAIEnF,EAJFmF,MACA3U,EAGEwP,EAHFxP,gBACAM,EAEEkP,EAFFlP,YACAuf,EACErQ,EADFqQ,uBAIEnX,EAEAiM,EAHF1N,OACEyB,UAGEoX,EAAW9f,EAAgB4L,IAAI,YAC/BmU,EAAY/f,EAAgB4L,IAAI,aAMtC,GALA4G,oBAAU,WACHsN,GACHD,KAED,IACCE,EACF,OAAOtR,EAAAC,EAAAC,cAAC4P,GAAD,MAET,IAAKje,EAAY0Y,KACf,OAAOvK,EAAAC,EAAAC,cAAA,+DAET,IAAMwb,EAAa7pB,EAAY4L,KAAK,SAAC2S,GAAD,OAAaA,EAAQjT,IAAI,WAAWgY,aAAelb,IACvF,IAAKyhB,EACH,OAAO1b,EAAAC,EAAAC,cAAA,2EAET,IAAM3Q,EAAOmsB,EAAWve,IAAI,QACtBiK,EAAOsU,EAAWve,IAAI,YACtB8J,EAAWC,KAAOwU,EAAWve,IAAI,aAAc,cAAcgK,OAAO,8BACpEmJ,EAASpJ,KAAOwU,EAAWve,IAAI,aAAc,cAAcpJ,IAAIqT,EAAO,EAAG,QAAQD,OAAO,8BACxFsS,EAAOiC,EAAWve,IAAI,QAC5B,OACE6C,EAAAC,EAAAC,cAACsb,GAAD,KACExb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,YAAO3Q,IAETyQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAf,GAAArT,OACMma,EADN,OAAAna,OACoBwjB,EADpB,OAAAxjB,OACgCsa,EADhC,WAGApH,EAAAC,EAAAC,cAACyb,GAADhvB,OAAA+oB,OAAA,CAAUtO,KAAMA,GAAUrG,MAG9Bf,EAAAC,EAAAC,cAAC0b,GAADjvB,OAAA+oB,OAAA,CAAc+D,KAAMA,EAAMxS,SAAUA,GAAclG,IAClDf,EAAAC,EAAAC,cAAC2b,GAAY9a,KAYnB6E,GAAmBrD,aAAe,CAChC2D,MAAO,GACP3U,gBAAiB,KACjBM,YAAa4f,iBACbL,uBAAwB,cAG1B,IAAMzK,GAAkBC,aAAyB,CAC/CrV,gBAAiBkP,KACjB5O,YAAa2O,OAOAqG,qBAAQF,GAJI,SAACG,GAAD,MAAe,CACxCsK,uBAAwB,kBAAMtK,EAASjN,SAG1BgN,CAA6CjB,otBC9F5D,IAAMkW,GAAkBlc,IAAOC,IAAVkc,MA8BfC,GAAW,SAAAhgB,GAAA,IACf2U,EADe3U,EACf2U,MAAOsL,EADQjgB,EACRigB,UAAWC,EADHlgB,EACGkgB,aAAcC,EADjBngB,EACiBmgB,eADjB,OAGfnc,EAAAC,EAAAC,cAAC4b,GAAD,CAAiB3b,UAAU,4BACzBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAuBH,EAAAC,EAAAC,cAAA,YAAOyQ,IAC7C3Q,EAAAC,EAAAC,cAAA,SAAO3N,KAAM0pB,EAAWC,aAAcA,EAAc/b,UAAU,mBAAmBkK,SAAU8R,MAW/FH,GAASzZ,aAAe,CACtBoO,MAAO,GACPsL,UAAW,OACXC,aAAc,GACdC,eAAgB,cAGHH,8GCrCPtb,GAAqB8B,GAArB9B,iBAEF0b,GAA4Bxc,IAAOC,IAAVwc,MAIzB9V,GAAqB,SAAAvK,GAKrB,IAJJkK,EAIIlK,EAJJkK,MACA3U,EAGIyK,EAHJzK,gBACAM,EAEImK,EAFJnK,YACAuf,EACIpV,EADJoV,uBAIE/O,EAFcyB,qBAAWpD,IAEzB2B,iBAIEpI,EAEAiM,EAHF1N,OACEyB,UAGEqiB,EAAqBpX,sBAAY,SAACZ,GACtC,IAAM/U,EAAO+U,EAAMK,OAAOzH,MAC1BmF,EAAiB,SAACnI,GAAD,OAAmBA,EAAc3N,IAAI,OAAQgD,MAC7D,IACGgtB,EAAqBrX,sBAAY,SAACZ,GACtC,IAAMkY,EAAUlY,EAAMK,OAAOzH,MAC7BmF,EAAiB,SAACrM,GAAD,OAAUA,EAAKzJ,IAAI,YAAa2a,KAAOsV,GAASrV,OAAO,2BACvE,IAEGkK,EAAW9f,EAAgB4L,IAAI,YAC/BmU,EAAY/f,EAAgB4L,IAAI,aAUtC,GATA4G,oBAAU,WAKR,OAJA1B,EAAiBF,iBACZkP,GACHD,IAEK,WACL/O,EAAiBF,mBAElB,IACCmP,EACF,OAAOtR,EAAAC,EAAAC,cAAC4P,GAAD,MAET,IAAKje,EAAY0Y,KACf,OAAOvK,EAAAC,EAAAC,cAAA,+DAET,IAAMwb,EAAa7pB,EAAY4L,KAAK,SAAC2S,GAAD,OAAaA,EAAQjT,IAAI,WAAWgY,aAAelb,IACvF,IAAKyhB,EACH,OAAO1b,EAAAC,EAAAC,cAAA,2EAET,IAAM3Q,EAAOmsB,EAAWve,IAAI,QACtB8J,EAAWC,KAAOwU,EAAWve,IAAI,aAAc,cAAcgK,OAAO,cAC1E,OACEnH,EAAAC,EAAAC,cAACkc,GAAD,KACEpc,EAAAC,EAAAC,cAACuc,GAAD,CACE9L,MAAM,2BACNuL,aAAc3sB,EACd4sB,eAAgBG,IAElBtc,EAAAC,EAAAC,cAACuc,GAAD,CACE9L,MAAM,2BACNsL,UAAU,OACVC,aAAcjV,EACdkV,eAAgBI,MAcxBhW,GAAmBhE,aAAe,CAChC2D,MAAO,GACP3U,gBAAiB,KACjBM,YAAa4f,iBACbL,uBAAwB,cAG1B,IAAMzK,GAAkBC,aAAyB,CAC/CrV,gBAAiBkP,KACjB5O,YAAa2O,OAOAqG,qBAAQF,GAJI,SAACG,GAAD,MAAe,CACxCsK,uBAAwB,kBAAMtK,EAASjN,SAG1BgN,CAA6CN,gkBC7GpD7F,GAAqB8B,GAArB9B,iBAEFgc,GAA0B9c,IAAOC,IAAV8c,MA8Dd5V,GApCW,WACxB,IAEElF,EAFciC,qBAAWpD,IAEzBmB,cAcF,OACE7B,EAAAC,EAAAC,cAACwc,GAAD,KACE1c,EAAAC,EAAAC,cAACuc,GAAD,CACE9L,MAAM,2BACNwL,eAhBqB,SAAC7X,GAC1B,IAAMsY,EAAetY,EAAMG,cAAcvH,MACzC2E,EAAc,SAACrF,GAAD,OAAgBA,EAAWjQ,IAAI,OAAQqwB,QAgBnD5c,EAAAC,EAAAC,cAACuc,GAAD,CACE9L,MAAM,2BACNsL,UAAU,OACVE,eAjByB,SAAC7X,GAC9B,IAAMsY,EAAetY,EAAMG,cAAcvH,MACzC2E,EAAc,SAACrF,GAAD,OAAgBA,EAAWjQ,IAAI,YAAaqwB,QAiBxD5c,EAAAC,EAAAC,cAACuc,GAAD,CACE9L,MAAM,eACNwL,eAjBqB,SAAC7X,GAC1B,IAAMsY,EAAetY,EAAMG,cAAcvH,MAAQ,EAAI0c,SAAStV,EAAMG,cAAcvH,MAAO,IAAM,EAC/F2E,EAAc,SAACrF,GAAD,OAAgBA,EAAWjQ,IAAI,WAAYqwB,otEC7CtD,IAAMlT,GAAY9J,IAAOC,IAAVgd,MAITC,GAAUld,IAAOC,IAAVkd,MAMPC,GAAapd,YAAO4D,IAAP5D,CAAHqd,MASVC,GAAYtd,YAAO4D,IAAP5D,CAAHud,MASTC,GAAexd,IAAO0I,IAAV+U,MASZC,GAAc1d,IAAOC,IAAV0d,MAcX9Q,GAAW7M,IAAO8M,KAAV8Q,MAURC,GAAQ7d,IAAOC,IAAV6d,MAQLC,GAAY/d,IAAOmK,MAAV6T,MAQTC,GAAaje,IAAOuN,EAAV2Q,MAaVC,GAAYne,IAAOxT,EAAV4xB,MC9Ddtd,GAAqB8B,GAArB9B,iBA+FFiG,GAAkBC,aAAyB,CAC/C1V,MjD7G+BoP,aAC/BF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,WiD4GvCpM,YjDxHkCuP,aAClCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,iBiDuHvCnL,gBjDzDyCsO,aACzCF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,uBiDiE1B6G,yBAAW6C,kBAAQF,GAPP,SAACG,GAAD,MAAe,CACxCmX,oBAAqB,SAAC1qB,GAAD,OAAQuT,EzDvEF,SAACvT,GAAD,MAAS,CACpChB,KAAMxF,EACN2F,QAAS,CACPa,OyDoEoC2qB,CAAc3qB,KACpD2b,2BAA4B,kBAAMpI,EAASrM,OAC3C0jB,eAAgB,SAAC5qB,GAAD,OAAQuT,EAASxM,GAAS/G,KAC1C6qB,qBAAsB,SAAC7qB,GAAD,OAAQuT,EzDoHF,SAACvT,GAAD,MAAS,CACrChB,KAAMzD,GACN4D,QAASa,GyDtH8B8qB,CAAe9qB,OAG9BsT,CA1GT,SAAA7K,GAUX,IATJkK,EASIlK,EATJkK,MACAhV,EAQI8K,EARJ9K,MACA+sB,EAOIjiB,EAPJiiB,oBACAltB,EAMIiL,EANJjL,YACAkT,EAKIjI,EALJiI,SACAiL,EAIIlT,EAJJkT,2BACAld,EAGIgK,EAHJhK,gBACAmsB,EAEIniB,EAFJmiB,eACAC,EACIpiB,EADJoiB,qBAEQ1c,EAAuBoC,qBAAWpD,IAAlCgB,mBACAgN,EAAWxI,EAAM1N,OAAjBkW,OACF4P,EAAiBtsB,EAAgB0L,SAAS6gB,OAAO7P,IAEvD3K,oBAAU,WAKR,OAJAka,EAAoBvP,GACpBQ,IACAxN,GAAmB,GAEZ,WACLA,GAAmB,KAEpB,IAEH,IAAM8c,EAAoBtZ,sBAAY,WAChCoZ,EACFF,EAAqBG,OAAO7P,IAE5ByP,EAAeI,OAAO7P,MAI1B,GAAI3d,EAAYoM,IAAI,aAClB,OAAO6C,EAAAC,EAAAC,cAAC4P,GAAD,MAGT,IAAMld,EAAO1B,EAAMiM,IAAIohB,OAAO7P,GAASvM,iBACvC,OAAKvP,EAAK2X,KAIRvK,EAAAC,EAAAC,cAACue,GAAD,KACEze,EAAAC,EAAAC,cAAC4c,GAAD,KACE9c,EAAAC,EAAAC,cAAC8c,GAAD,CAAY5Y,GAAE,IAAAtX,OAAM4V,KAClB1C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAEfH,EAAAC,EAAAC,cAACgd,GAAD,CAAW9Y,GAAE,GAAAtX,OAAKmX,EAASkC,SAAd,KAAArZ,OAA0B4V,KACrC1C,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAEfH,EAAAC,EAAAC,cAACkd,GAAD,CAAchX,IAAKxT,EAAK2K,MAAM,CAAC,MAAO,KAAO,qEAC7CyC,EAAAC,EAAAC,cAACod,GAAD,KACEtd,EAAAC,EAAAC,cAACwe,GAAD,KAAW9rB,EAAKuK,IAAI,SACpB6C,EAAAC,EAAAC,cAACyd,GAAD,CAAWnY,QAASgZ,GAClBxe,EAAAC,EAAAC,cAAC2d,GAAD,CACE1d,UAAS,GAAArT,OACPwxB,EACI,eACA,kBAGP1rB,EAAKuK,IAAI,eAIhB6C,EAAAC,EAAAC,cAACud,GAAD,iCACAzd,EAAAC,EAAAC,cAAC6d,GAAD,KACGnrB,EAAKuK,IAAI,aAEZ6C,EAAAC,EAAAC,cAACud,GAAD,qBACAzd,EAAAC,EAAAC,cAAC6d,GAAD,KAAYnrB,EAAKuK,IAAI,YACrB6C,EAAAC,EAAAC,cAACud,GAAD,qBACAzd,EAAAC,EAAAC,cAAC6d,GAAD,KAAYnrB,EAAKuK,IAAI,QACrB6C,EAAAC,EAAAC,cAACud,GAAD,qBACAzd,EAAAC,EAAAC,cAAC6d,GAAD,KACE/d,EAAAC,EAAAC,cAAA,KAAGgJ,KAAMtW,EAAKuK,IAAI,YAAavK,EAAKuK,IAAI,cApCrC6C,EAAAC,EAAAC,cAAA,8SCrEJ,IAAMye,GAAU/e,YAAO4D,IAAP5D,CAAHgf,MCoEdjY,GAAkBC,aAAyB,CAC/CrV,gBAAiBkP,KACjB5O,YAAa2O,OAQAwD,yBAAW6C,kBAAQF,GALP,SAACG,GAAD,MAAe,CACxCsK,uBAAwB,kBAAMtK,EAASjN,OACvCwW,oBAAqB,SAACpW,GAAD,OAAe6M,EAAS1M,GAAoBH,OAGzC4M,CA9DG,SAAA7K,GAKvB,IAJJzK,EAIIyK,EAJJzK,gBACA6f,EAGIpV,EAHJoV,uBACAvf,EAEImK,EAFJnK,YACAoS,EACIjI,EADJiI,SAQA,OANAF,oBAAU,WACHxS,EAAgB4L,IAAI,aACvBiU,KAED,IAEC7f,EAAgB4L,IAAI,aACf6C,EAAAC,EAAAC,cAAC4P,GAAD,MAIP9P,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACGrO,EAAYyG,IAAI,SAAC8X,GAAD,OACfpQ,EAAAC,EAAAC,cAACye,GAAD,CACEtqB,IAAK+b,EAAQjT,IAAI,WACjBiH,GAAE,GAAAtX,OAAKmX,EAASkC,SAAd,KAAArZ,OAA0BsjB,EAAQjT,IAAI,aAExC6C,EAAAC,EAAAC,cAAA,WAAMkQ,EAAQjT,IAAI,SAClB6C,EAAAC,EAAAC,cAAA,WACGgH,KAAOkJ,EAAQjT,IAAI,aAAc,cAC/BgK,OAAO,8BAET,MACAD,KAAOkJ,EAAQjT,IAAI,aAAc,cAC/BpJ,IAAIqc,EAAQjT,IAAI,YAAc,EAAG,QACjCgK,OAAO,8BAET,MACAiJ,EAAQjT,IAAI,YAVf,iXC1CL,IAAM0hB,GAAejf,IAAOC,IAAVif,MAMZC,GAAOnf,IAAOmK,MAAViV,MCYTte,GAAqB8B,GAArB9B,iBAmFOsD,yBAAW6C,kBAVF,SAAC3U,EAAO+sB,GAAR,MAAsB,CAC5C1tB,gBAAiBkP,KAAwBvO,GACzCke,SrDpCmC7c,EqDoCL0rB,EAAS/Y,MAAM1N,OAAOyB,UrDpCVqG,aAC1CF,GACA,SAACG,GAAD,OAAoBA,EAAepD,IAAI,eACpCM,KACC,SAAC2S,GAAD,OAAaA,EAAQjT,IAAI,aAAeohB,OAAOhrB,QqDgCYrB,IrDpC7B,IAACqB,GqDuCV,SAACuT,GAAD,MAAe,CACxCsK,uBAAwB,kBAAMtK,EAASjN,OACvCwW,oBAAqB,SAACpW,GAAD,OAAe6M,EAAS1M,GAAoBH,OAGzC4M,CAjFO,SAAA7K,GAK3B,IAJJzK,EAIIyK,EAJJzK,gBACA6f,EAGIpV,EAHJoV,uBACAhB,EAEIpU,EAFJoU,QACAlK,EACIlK,EADJkK,MAEAnC,oBAAU,WACHxS,EAAgB4L,IAAI,aAAgB5L,EAAgB4L,IAAI,cAC3DiU,KAED,IALC,IAOI/O,EAAqByB,qBAAWpD,IAAhC2B,iBAPJpB,EAQoCC,mBAASuQ,kBAR7CtQ,EAAAxU,OAAAyU,GAAA,EAAAzU,CAAAsU,EAAA,GAQGie,EARH/d,EAAA,GAQiBge,EARjBhe,EAAA,GAgCJ,OAtBA4C,oBAAU,WAiBR,OAhBIqM,GACF/N,EAAiB+N,EAAQ5d,OAAO,OAAQ,SAACinB,GAAD,OAAUA,EAAKnhB,IAAI,SAACyN,EAAK9R,GAAU,IACjEya,EAAWxI,EAAM1N,OAAjBkW,OACF0Q,EAAUrZ,EAAI5I,IAAI,WAGxB,OAF8BiiB,EAAQjkB,OAAO,SAACkkB,GAAD,OAAiBA,EAAYliB,IAAI,aAAeuR,IAAQnE,KAAO,IAE9E2U,EAAa/hB,IAAIlJ,GAMxC8R,EALEA,EAAIxZ,IACT,UACA6yB,EAAQha,KAAKjD,cAAI,CAAErP,QAAS4b,EAAQ4Q,OA7BlB,YAoCnB,WACLjd,EAAiBF,mBAElB,CAAC+c,KAEC3tB,EAAgB4L,IAAI,aAAe5L,EAAgB4L,IAAI,aACnD6C,EAAAC,EAAAC,cAAC4P,GAAD,MAGJM,EAKHpQ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC2e,GAAD,KAAezO,EAAQjT,IAAI,SAC1BiT,EAAQjT,IAAI,QAAQ7E,IAAI,SAACinB,EAAOtrB,GAAR,OACvB+L,EAAAC,EAAAC,cAAC6e,GAAD,CAAM1qB,IAAKJ,GAAX,SAAAnH,OACOmH,EAAQ,EADf,UAEE+L,EAAAC,EAAAC,cAAA,SACE3N,KAAK,WACLiY,QAAS0U,EAAa/hB,IAAIlJ,KAAU,EACpCoW,SAAU,SAAC/F,GAAD,OACR6a,EAAgBD,EAAa3yB,IAAI0H,EAAOqQ,EAAMG,cAAc+F,iBAb/D,0CChDEgV,GAAkB,CAC7BC,cAAe,IACfC,gBAAe,IAAA5yB,OAAM4V,IACrBid,iBAAgB,IAAA7yB,OAAM4V,IACtBkd,mBAAkB,IAAA9yB,OAAM4V,IACxBkS,iBAAgB,IAAA9nB,OAAM4V,IACtB8N,uBAAsB,IAAA1jB,OAAM4V,GAAN,eACtBmd,uBAAsB,IAAA/yB,OAAM4V,GAAN,eACtBod,sBAAqB,IAAAhzB,OAAM4V,IAC3Bqd,aAAY,IAAAjzB,OAAM4V,GAAN,YACZsd,yBAAwB,IAAAlzB,OAAM4V,GAAN,aAAA5V,OAAmC4V,IAC3Dud,6BAA4B,IAAAnzB,OAAM4V,GAAN,aAAA5V,OAAmC4V,GAAnC,gBAGfwd,GAAA,kBACblgB,EAAAC,EAAAC,cAACigB,GAAA,OAAD,CAAQpiB,QAASA,IACfiC,EAAAC,EAAAC,cAACigB,GAAA,OAAD,KACEngB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBC,cAAeY,UAAWxc,KAC7D7D,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBE,gBAAiBW,UAAWC,KAC/DtgB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBG,iBAAkBU,UAAWlP,KAChEnR,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBI,mBAAoBS,UAAWrO,KAClEhS,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgB5K,iBAAkByL,UAAW7L,KAChExU,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBhP,uBAAwB6P,UAAWza,KACtE5F,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBK,uBAAwBQ,UAAW9Z,KACtEvG,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBM,sBAAuBO,UAAWtZ,KACrE/G,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBO,aAAcM,UAAWE,KAC5DvgB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBQ,yBAA0BK,UAAWG,KACxExgB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBS,6BAA8BI,UAAWI,QC5BnEC,GAAA,kBACb1gB,EAAAC,EAAAC,cAACigB,GAAA,OAAD,CAAQpiB,QAASA,IACfiC,EAAAC,EAAAC,cAACigB,GAAA,OAAD,KACEngB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBC,cAAeY,UAAWxc,KAC7D7D,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBE,gBAAiBW,UAAWC,KAC/DtgB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBG,iBAAkBU,UAAWlP,KAChEnR,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBI,mBAAoBS,UAAWrO,KAClEhS,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgB5K,iBAAkByL,UAAW7L,KAChExU,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBhP,uBAAwB6P,UAAWza,KACtE5F,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBK,uBAAwBQ,UAAW9Z,KACtEvG,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBM,sBAAuBO,UAAWtZ,KACrE/G,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBQ,yBAA0BK,UAAWG,KACxExgB,EAAAC,EAAAC,cAACigB,GAAA,MAAD,CAAOC,OAAK,EAACjb,KAAMqa,GAAgBS,6BAA8BI,UAAWI,iKCnBlF,IAAM1d,GAAkBnD,IAAOC,IAAV8gB,KACL,SAAC5f,GAAD,OAAWA,EAAMiU,MAAMvV,WAGnCkD,MASWie,GANA,kBACb5gB,EAAAC,EAAAC,cAAC2gB,GAAD,KACE7gB,EAAAC,EAAAC,cAACwgB,GAAD,yFCVJ,IAAMI,GAAmBlhB,IAAOC,IAAVkhB,KAClBpe,MASWoY,GANC,kBACd/a,EAAAC,EAAAC,cAAC4gB,GAAD,KACE9gB,EAAAC,EAAAC,cAACggB,GAAD,+hBCLJ,IAAMc,GAAgBphB,IAAOC,IAAVohB,KAiBS,SAAClgB,GAAD,OAAWA,EAAMmgB,SAAStxB,QAGxB,SAACmR,GAAD,OAAWA,EAAMmgB,SAASpxB,OAG1B,SAACiR,GAAD,OAAWA,EAAMmgB,SAASpxB,QA4BzCqxB,GAvBA,SAACpgB,GAAU,IAEtB4P,EAEE5P,EAFF4P,MACAuQ,EACEngB,EADFmgB,SAOF,OACElhB,EAAAC,EAAAC,cAAC8gB,GAAD,CAAeE,SAAUA,EAAUE,iBAAgBzQ,EAAOnL,QANrC,SAAClB,GACtB,IAAM+c,EAAWhd,GAAqBC,EAAO,kBAC7CvG,GAAQqH,KAAR,IAAAtY,OAAiBu0B,MAKfrhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACfH,EAAAC,EAAAC,cAAA,WAAMyQ,8LCtCZ,IAAM2Q,GAAsB1hB,IAAOC,IAAV0hB,KAIrB5e,MAYW6e,GATI,kBACjBxhB,EAAAC,EAAAC,cAACohB,GAAD,KACEthB,EAAAC,EAAAC,cAACuhB,GAAD,CAAQ9Q,MAAOjO,GAAmBwe,SAAUxxB,GAAQC,UACpDqQ,EAAAC,EAAAC,cAACuhB,GAAD,CAAQ9Q,MAAOjO,GAAoBwe,SAAUxxB,GAAQM,WACrDgQ,EAAAC,EAAAC,cAACuhB,GAAD,CAAQ9Q,MAAOjO,GAAuBwe,SAAUxxB,GAAQS,aACxD6P,EAAAC,EAAAC,cAACuhB,GAAD,CAAQ9Q,MAAOjO,GAAyBwe,SAAUxxB,GAAQY,+mBCjBvD,IAAMoxB,GAAqB9hB,IAAOC,IAAV8hB,KAE3B,SAAC5gB,GAAD,0CAAAjU,OAEIiU,EAAMU,gB1DTe,G0DSmB,EAF5C,0BAAA3U,OAIIiU,EAAMM,a1DVmB,G0DUgB,EAJ7C,mBCcFP,GAEEJ,GAFFI,kBACA2B,GACE/B,GADF+B,kBAGImf,GAAY,SAAA5lB,GAGZ,IAFJ6lB,EAEI7lB,EAFJ6lB,uBACAvwB,EACI0K,EADJ1K,gBAOA,OALAyS,oBAAU,WACHzS,EAAgB6L,IAAI,cACvB0kB,KAED,IAED7hB,EAAAC,EAAAC,cAAC4hB,GAAD,KACE9hB,EAAAC,EAAAC,cAACuC,GAAD,KAEI,SAAAlM,GAAA,IAAG8K,EAAH9K,EAAG8K,aAAcI,EAAjBlL,EAAiBkL,gBAAjB,OACEzB,EAAAC,EAAAC,cAACwhB,GAAD,CAAoBrgB,aAAcA,EAAcI,gBAAiBA,GAE7DA,GACAzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAC6hB,GAAD,OAGJ/hB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAEV7O,EAAgB6L,IAAI,aACjB6C,EAAAC,EAAAC,cAAC4P,GAAD,MACA9P,EAAAC,EAAAC,cAAC8hB,GAAD,OAIN3gB,GACArB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAAC+hB,GAAD,YAgBlBL,GAAUrf,aAAe,GAGzB,IAAMoE,GAAkBC,aAAyB,CAC/CtV,gBAAiB+O,OAOJ2D,yBAAW6C,kBAAQF,GAJP,SAACG,GAAD,MAAe,CACxC+a,uBAAwB,kBAAM/a,ErEyDO,CACrCvU,KAAM/E,OqEvDkBqZ,CAA6C+a,KCxExDM,WANH,kBACVliB,EAAAC,EAAAC,cAACigB,GAAA,OAAD,CAAQpiB,QAASA,IACfiC,EAAAC,EAAAC,cAACiiB,GAAD,SCIgBnH,QACW,cAA7B/U,OAAOhC,SAASme,UAEe,UAA7Bnc,OAAOhC,SAASme,UAEhBnc,OAAOhC,SAASme,SAASlc,MACvB,kECLNwR,IAAS2K,OACPriB,EAAAC,EAAAC,cAACoiB,EAAA,SAAD,CAAUxkB,MAAOA,IACfkC,EAAAC,EAAAC,cAACqiB,EAAA,EAAD,CAAevN,MAAOtV,IACpBM,EAAAC,EAAAC,cAAC6P,EAAA,EAAD,CAAelN,SAAUC,IACvB9C,EAAAC,EAAAC,cAACsiB,GAAD,SAIN/L,SAASW,eAAe,SD4GpB,kBAAmBjhB,WACrBA,UAAUssB,cAAcC,MAAM5qB,KAAK,SAAA6qB,GACjCA,EAAaC","file":"static/js/main.d6d72d0e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/planning_icon.3f20bcf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon_hover.227d029b.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon.7ee67c0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon_hover.bdbf1daf.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon.f266c270.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon_hover.8af82dd9.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon.88417814.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon_hover.55279ab9.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload_travel_wall_icon.ebe53160.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash_icon.9cc5960c.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit_day_icon.d93c390b.svg\";","module.exports = __webpack_public_path__ + \"static/media/map_plus_icon.9917e007.svg\";","export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","import planningIconPath from 'assets/NavIcons/planning_icon.svg';\nimport planningHoverIconPath from 'assets/NavIcons/planning_icon_hover.svg';\n\nimport exploreIconPath from 'assets/NavIcons/explore_icon.svg';\nimport exploreHoverIconPath from 'assets/NavIcons/explore_icon_hover.svg';\n\nimport travelWallIconPath from 'assets/NavIcons/travel_wall_icon.svg';\nimport travelWallHoverIconPath from 'assets/NavIcons/travel_wall_icon_hover.svg';\n\nimport personalIconPath from 'assets/NavIcons/personal_icon.svg';\nimport personalHoverIconPath from 'assets/NavIcons/personal_icon_hover.svg';\n\n\nexport const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const FETCH_LOGIN_STATUS = `${KEY_REDUCER}/FETCH_LOGIN_STATUS`;\nexport const SET_LOGIN_STATUS_LOADING = `${KEY_REDUCER}/SET_LOGIN_STATUS_LOADING`;\nexport const SET_LOGIN_STATUS_DONE = `${KEY_REDUCER}/SET_LOGIN_STATUS_DONE`;\n\nexport const REGISTER = `${KEY_REDUCER}/REGISTER`;\nexport const SET_REGISTER_LOADING = `${KEY_REDUCER}/SET_REGISTER_LOADING`;\nexport const SET_REGISTER_DONE = `${KEY_REDUCER}/SET_REGISTER_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\nexport const SET_EXPLORING_SPOT_ID = `${KEY_REDUCER}/SET_EXPLORING_SPOT_ID`;\n\nexport const FETCH_OWN_PROJECTS = `${KEY_REDUCER}/FETCH_OWN_PROJECTS`;\nexport const SET_OWN_PROJECTS_LOADING = `${KEY_REDUCER}/SET_OWN_PROJECTS_LOADING`;\nexport const SET_OWN_PROJECTS_DONE = `${KEY_REDUCER}/SET_OWN_PROJECTS_DONE`;\n\nexport const SUBMIT_CREATE_PROJECT = `${KEY_REDUCER}/SUBMIT_CREATE_PROJECT`;\nexport const CREATE_PROJECT_LOADING = `${KEY_REDUCER}/CREATE_PROJECT_LOADING`;\nexport const CREATE_PROJECT_DONE = `${KEY_REDUCER}/CREATE_PROJECT_DONE`;\n\nexport const SUBMIT_UPDATE_PROJECT = `${KEY_REDUCER}/SUBMIT_UPDATE_PROJECT`;\nexport const UPDATE_PROJECT_LOADING = `${KEY_REDUCER}/UPDATE_PROJECT_LOADING`;\nexport const UPDATE_PROJECT_DONE = `${KEY_REDUCER}/UPDATE_PROJECT_DONE`;\n\nexport const SUBMIT_DELETE_PROJECT = `${KEY_REDUCER}/SUBMIT_DELETE_PROJECT`;\nexport const DELETE_PROJECT_LOADING = `${KEY_REDUCER}/DELETE_PROJECT_LOADING`;\nexport const DELETE_PROJECT_DONE = `${KEY_REDUCER}/DELETE_PROJECT_DONE`;\n\nexport const LIKE_SPOT = `${KEY_REDUCER}/LIKE_SPOT`;\nexport const SET_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_LIKE_SPOT_DONE`;\n\nexport const CANCEL_LIKE_SPOT = `${KEY_REDUCER}/CANCEL_LIKE_SPOT`;\nexport const SET_CANCEL_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_SPOT_DONE`;\n\nexport const FETCH_FAVORITE_SPOT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_SPOT_IDS`;\nexport const SET_FAVORITE_SPOT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_LOADING`;\nexport const SET_FAVORITE_SPOT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_DONE`;\n\nexport const ADD_FAVORITE_SPOT_ID = `${KEY_REDUCER}/ADD_FAVORITE_SPOT_ID`;\nexport const DELETE_FAVORITE_SPOT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_SPOT_ID`;\n\nexport const SET_IS_MODAL_VISIBLE = `${KEY_REDUCER}/SET_IS_MODAL_VISIBLE`;\n\nexport const DEFAULT_PROJECT = {\n  name: '',\n  start_day: '', // format: 2018/12/01 00:00:00\n  tot_days: 0,\n};\n\nexport const DEFAULT_PLAN = {\n  start_time: '08:00:00', // format: 08:00:00\n  arrange: [],\n};\n\nexport const DEFAULT_ARRANGE = {\n  spot_id: null,\n  during: 0,\n};\n\nexport const NavIcon = {\n  explore: {\n    normal: exploreIconPath,\n    hover: exploreHoverIconPath,\n  },\n  planning: {\n    normal: planningIconPath,\n    hover: planningHoverIconPath,\n  },\n  travelWall: {\n    normal: travelWallIconPath,\n    hover: travelWallHoverIconPath,\n  },\n  personal: {\n    normal: personalIconPath,\n    hover: personalHoverIconPath,\n  },\n};\n\nexport const WEEKDAYS = '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_');\nexport const WEEKDAYS_SHORT = '週日_週一_週二_週三_週四_週五_週六'.split('_');\n\nexport const HOURS = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '21', '22', '23',\n];\n\nexport const MINUTES = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '22', '22', '23', '24', '25', '26', '27', '28', '29',\n  '30', '33', '32', '33', '34', '35', '36', '37', '38', '39',\n  '40', '44', '42', '43', '44', '45', '46', '47', '48', '49',\n  '50', '55', '52', '53', '54', '55', '56', '57', '58', '59',\n];\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  SET_REGISTER_LOADING,\n  SET_REGISTER_DONE,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_LIKE_SPOT_DONE,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  SET_CANCEL_LIKE_SPOT_DONE,\n} from './constants';\n\nconst initialState = fromJS({\n  setSpotMeta: META,\n  setSpotsMeta: META,\n  spots: {},\n  spotsResult: [],\n\n  loginMeta: META,\n  registerMeta: META,\n  loginStatusMeta: META,\n  ownProjectsMeta: META,\n  createProjectMeta: META,\n  updateProjectMeta: META,\n  deleteProjectMeta: META,\n\n  // modal\n  isModalVisible: false,\n\n  user: null,\n  ownProjects: [],\n  exploringSpotId: 0,\n  setFavoriteSpotIdsMeta: META,\n  favoriteSpotIds: [],\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_SPOT_LOADING:\n      return state.update('setSpotMeta', updateMetaLoading);\n\n    case SET_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setSpotMeta', updateMetaError);\n      }\n      if (!spot) { // handle spot is undefined\n        return state.update('setSpotMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['spots', spot.spot_id], fromJS(spot))\n        .update('setSpotMeta', updateMetaDone);\n    }\n\n    case SET_SPOTS_LOADING:\n      return state\n        .update('setSpotsMeta', updateMetaLoading);\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .set('spotsResult', fromJS(result))\n        .update('setSpotsMeta', updateMetaDone)\n        .set('exploringSpotId', result[0]);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_REGISTER_LOADING:\n      return state.update('registerMeta', updateMetaLoading);\n\n    case SET_REGISTER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('registerMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('registerMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGIN_STATUS_LOADING:\n      return state.update('loginStatusMeta', updateMetaLoading);\n\n    case SET_LOGIN_STATUS_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginStatusMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginStatusMeta', updateMetaDone);\n    }\n\n    case SET_EXPLORING_SPOT_ID:\n      return state.set('exploringSpotId', action.payload);\n\n    case SET_OWN_PROJECTS_LOADING:\n      return state.update('ownProjectsMeta', updateMetaLoading);\n\n    case SET_OWN_PROJECTS_DONE: {\n      const {\n        error,\n        ownProjects,\n      } = action.payload;\n      if (error) {\n        return state.update('ownProjectsMeta', updateMetaError);\n      }\n      return state\n        .set('ownProjects', fromJS(ownProjects))\n        .update('ownProjectsMeta', updateMetaDone);\n    }\n\n    // create project\n    case CREATE_PROJECT_LOADING:\n      return state.update('createProjectMeta', updateMetaLoading);\n\n    case CREATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('createProjectMeta', updateMetaError);\n      }\n      return state\n        .update('createProjectMeta', updateMetaDone);\n    }\n\n    // update project\n    case UPDATE_PROJECT_LOADING:\n      return state.update('updateProjectMeta', updateMetaLoading);\n\n    case UPDATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('updateProjectMeta', updateMetaError);\n      }\n      return state\n        .update('updateProjectMeta', updateMetaDone)\n        .set('isModalVisible', false);\n    }\n\n    // delete project\n    case DELETE_PROJECT_LOADING:\n      return state.update('deleteProjectMeta', updateMetaLoading);\n\n    case DELETE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('deleteProjectMeta', updateMetaError);\n      }\n      return state\n        .update('deleteProjectMeta', updateMetaDone);\n    }\n\n    case SET_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['spots', id, 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['spots', id, 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_FAVORITE_SPOT_IDS_LOADING:\n      return state.update('setFavoriteSpotIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_SPOT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteSpotIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteSpotIds', fromJS(ids))\n        .update('setFavoriteSpotIdsMeta', updateMetaDone);\n    }\n\n    // modal\n    case SET_IS_MODAL_VISIBLE: {\n      const {\n        isVisible,\n      } = action.payload;\n      return state.set('isModalVisible', isVisible);\n    }\n\n    case ADD_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","export const API_URI = '/api';\nexport const ADMIN_API_URI = API_URI;\n","import { schema, normalize } from 'normalizr';\nimport {\n  FETCH_SPOT_BY_ID,\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  REGISTER,\n  SET_REGISTER_DONE,\n  SET_REGISTER_LOADING,\n  EXPLORE_NEXT_SPOT,\n  FETCH_LOGIN_STATUS,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n  FETCH_OWN_PROJECTS,\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  SUBMIT_CREATE_PROJECT,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  SUBMIT_UPDATE_PROJECT,\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  SUBMIT_DELETE_PROJECT,\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  CANCEL_LIKE_SPOT,\n  SET_CANCEL_LIKE_SPOT_DONE,\n  LIKE_SPOT,\n  SET_LIKE_SPOT_DONE,\n  FETCH_FAVORITE_SPOT_IDS,\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n} from './constants';\n\nconst spotSchema = new schema.Entity('spots', {}, { idAttribute: 'spot_id' });\nconst spotListSchema = new schema.Array(spotSchema);\n\nexport const setIsModalVisible = (isVisible) => ({\n  type: SET_IS_MODAL_VISIBLE,\n  payload: {\n    isVisible,\n  },\n});\n\nexport const fetchSpotById = (id) => ({\n  type: FETCH_SPOT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setSpotLoading = () => ({\n  type: SET_SPOT_LOADING,\n});\n\nexport const setSpotDone = (error, spot) => ({\n  type: SET_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const register = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: REGISTER,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setRegisterLoading = () => ({\n  type: SET_REGISTER_LOADING,\n});\n\nexport const setRegisterDone = (error, user) => ({\n  type: SET_REGISTER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchLoginStatus = () => ({\n  type: FETCH_LOGIN_STATUS,\n});\n\nexport const setLoginStatusLoading = () => ({\n  type: SET_LOGIN_STATUS_LOADING,\n});\n\nexport const setLoginStatusDone = (error, user) => ({\n  type: SET_LOGIN_STATUS_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n\nexport const setExploringSpotId = (id) => ({\n  type: SET_EXPLORING_SPOT_ID,\n  payload: id,\n});\n\n// fetch own project\nexport const fetchOwnProjects = () => ({\n  type: FETCH_OWN_PROJECTS,\n});\n\nexport const setOwnProjectsLoading = () => ({\n  type: SET_OWN_PROJECTS_LOADING,\n});\n\nexport const setOwnProjectsDone = (error, ownProjects) => ({\n  type: SET_OWN_PROJECTS_DONE,\n  payload: {\n    error,\n    ownProjects,\n  },\n});\n\n// create project\nexport const submitCreateProject = (newProject) => ({\n  type: SUBMIT_CREATE_PROJECT,\n  payload: {\n    newProject,\n  },\n});\n\nexport const createProjectLoading = () => ({\n  type: CREATE_PROJECT_LOADING,\n});\n\nexport const createProjectDone = (error, user) => ({\n  type: CREATE_PROJECT_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\n// update project\nexport const submitUpdateProject = (projectId, updateProject) => ({\n  type: SUBMIT_UPDATE_PROJECT,\n  payload: {\n    projectId,\n    updateProject,\n  },\n});\n\nexport const updateProjectLoading = () => ({\n  type: UPDATE_PROJECT_LOADING,\n});\n\nexport const updateProjectDone = (error) => ({\n  type: UPDATE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\n// delete project\nexport const submitDeleteProject = (projectId) => ({\n  type: SUBMIT_DELETE_PROJECT,\n  payload: {\n    projectId,\n  },\n});\n\nexport const deleteProjectLoading = () => ({\n  type: DELETE_PROJECT_LOADING,\n});\n\nexport const deleteProjectDone = (error) => ({\n  type: DELETE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const likeSpot = (id) => ({\n  type: LIKE_SPOT,\n  payload: id,\n});\n\nexport const setLikeSpotDone = (error, id) => ({\n  type: SET_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeSpot = (id) => ({\n  type: CANCEL_LIKE_SPOT,\n  payload: id,\n});\n\nexport const setCancelLikeSpotDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const fetchFavoriteSpotIds = () => ({\n  type: FETCH_FAVORITE_SPOT_IDS,\n});\n\nexport const setFavoriteSpotIdsLoading = () => ({\n  type: SET_FAVORITE_SPOT_IDS_LOADING,\n});\n\nexport const setFavoriteSpotIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_SPOT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n\nexport const addFavoriteSpotId = (id) => ({\n  type: ADD_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteSpotId = (id) => ({\n  type: DELETE_FAVORITE_SPOT_ID,\n  payload: id,\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n  map,\n} from 'rxjs/operators';\nimport message from 'antd/lib/message';\nimport {\n  INIT,\n  FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  LOGIN,\n  REGISTER,\n  FETCH_LOGIN_STATUS,\n  FETCH_OWN_PROJECTS,\n  SUBMIT_CREATE_PROJECT,\n  SUBMIT_DELETE_PROJECT,\n  LIKE_SPOT,\n  FETCH_FAVORITE_SPOT_IDS,\n  EXPLORE_NEXT_SPOT,\n  KEY_REDUCER,\n  SUBMIT_UPDATE_PROJECT,\n  CANCEL_LIKE_SPOT,\n} from './constants';\nimport {\n  setSpotLoading,\n  setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setLoginLoading,\n  setLoginDone,\n  setRegisterDone,\n  setRegisterLoading,\n  setLoginStatusDone,\n  setLoginStatusLoading,\n  setOwnProjectsDone,\n  setOwnProjectsLoading,\n\n  // create project\n  createProjectDone,\n  createProjectLoading,\n\n  // update project\n  updateProjectDone,\n  updateProjectLoading,\n\n  fetchOwnProjects,\n\n  // delete project\n  deleteProjectLoading,\n  deleteProjectDone,\n\n  setCancelLikeSpotDone,\n  setLikeSpotDone,\n  setFavoriteSpotIdsDone,\n  setFavoriteSpotIdsLoading,\n  setExploringSpotId,\n  deleteFavoriteSpotId,\n  addFavoriteSpotId,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\nconst fetchSpotByIdEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOT_BY_ID),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spot/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotDone(error),\n      )),\n      startWith(setSpotLoading()),\n    )),\n  )\n);\n\nconst createProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_PROJECT),\n    switchMap((action) => {\n      const {\n        newProject,\n      } = action.payload;\n      return request({\n        method: 'post',\n        url: '/own/proj',\n        data: newProject,\n      }).pipe(\n        flatMap((data) => {\n          message.success('創建成功');\n          return of(\n            createProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('創建失敗');\n          return fetchErrorEpic(\n            error,\n            createProjectDone(error),\n          );\n        }),\n        startWith(createProjectLoading()),\n      );\n    }),\n  )\n);\n\n// PUT /own/proj/<int:proj_id>\nconst updateProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_UPDATE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n        updateProject,\n      } = action.payload;\n      return request({\n        method: 'put',\n        url: `/own/proj/${projectId}`,\n        data: updateProject.toJS(),\n      }).pipe(\n        flatMap((data) => {\n          message.success('更新成功');\n          return of(\n            updateProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('更新失敗');\n          return fetchErrorEpic(\n            error,\n            updateProjectDone(error),\n          );\n        }),\n        startWith(updateProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst deleteProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_DELETE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n      } = action.payload;\n      return request({\n        method: 'delete',\n        url: `/proj/${projectId}`,\n      }).pipe(\n        flatMap(() => {\n          message.success('刪除成功');\n          return of(\n            deleteProjectDone(null),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('刪除失敗');\n          return fetchErrorEpic(\n            error,\n            deleteProjectDone(error),\n          );\n        }),\n        startWith(deleteProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchOwnProjectsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_OWN_PROJECTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/own/projs',\n    }).pipe(\n      flatMap((data) => of(\n        setOwnProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setOwnProjectsDone(error),\n      )),\n      startWith(setOwnProjectsLoading()),\n    )),\n  )\n);\n\nconst getKeywordQueryString = (keyword) => (\n  typeof keyword === 'string' && keyword.length > 0\n    ? `kw=${keyword}`\n    : ''\n);\n\nconst getZonesQueryString = (zones) => zones\n  .map((zone) => `zone=${zone}`)\n  .join('&');\n\nconst getSearchSpotQueryString = ({ zones, keyword }) => {\n  const queryString = [\n    getKeywordQueryString(keyword),\n    getZonesQueryString(zones),\n  ]\n    .filter((queryStringSegment) => queryStringSegment !== '')\n    .join('&');\n\n  return queryString.length > 0 ? `?${queryString}` : '';\n};\n\nconst fetchSpotsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: data.content.user }\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nconst registerEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(REGISTER),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/register',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: action.payload.acc }\n          : null;\n        return of(setRegisterDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRegisterDone(error),\n      )),\n      startWith(setRegisterLoading()),\n    )),\n  )\n);\n\nconst fetchLoginStatusEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_LOGIN_STATUS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/check_login',\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginStatusDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginStatusDone(error),\n      )),\n      startWith(setLoginStatusLoading()),\n    )),\n  )\n);\n\nconst likeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeSpotDone(null, action.payload),\n            addFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeSpotDone(null, action.payload),\n            deleteFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setCancelLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst fetchFavoriteSpotIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_SPOT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/spots',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteSpotIdsDone(null, res.content.map((row) => row.spot_id)),\n          );\n        }\n        return of(setFavoriteSpotIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteSpotIdsDone(error),\n      )),\n      startWith(setFavoriteSpotIdsLoading()),\n    )),\n  )\n);\n\nconst exploreNextSpotEpic = (action$, state$) => (\n  action$.pipe(\n    ofType(EXPLORE_NEXT_SPOT),\n    map(() => {\n      const state = state$.value.get(KEY_REDUCER);\n      const favoriteSpotIds = state.get('favoriteSpotIds');\n      const spotIds = state.get('spotsResult');\n      const exploringSpotId = state.get('exploringSpotId');\n      const nextSpot = spotIds\n        .slice(spotIds.indexOf(exploringSpotId) + 1)\n        .map((id) => state.getIn(['spots', String(id)]))\n        .find((spot) => !favoriteSpotIds.includes(spot.get('spot_id')));\n\n      if (nextSpot) {\n        return setExploringSpotId(nextSpot.get('spot_id'));\n      }\n\n      return setExploringSpotId(exploringSpotId);\n    }),\n  )\n);\n\nexport default [\n  setInit,\n  fetchOwnProjectsEpic,\n  fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  loginEpic,\n  registerEpic,\n  fetchLoginStatusEpic,\n  createProjectEpic,\n  updateProjectEpic,\n  deleteProjectEpic,\n  likeSpotEpic,\n  cancelLikeSpotEpic,\n  fetchFavoriteSpotIdsEpic,\n  exploreNextSpotEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","\nconst YELLOW = '#F9D94A';\n\nconst SpotlightTheme = {\n  mainColor: YELLOW,\n};\n\nexport const defaultTheme = {\n  ...SpotlightTheme,\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 300px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst Spinner = () => (\n  <StyledSpinner>\n    <i className=\"fa fa-spinner fa-spin\" />\n  </StyledSpinner>\n);\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotMeta'),\n);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpotId = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('exploringSpotId'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  selectExploringSpotId(),\n  (spotlightState, spotId) => spotlightState.getIn(['spots', String(spotId)], Map()),\n);\n\nexport const selectLoginStatusMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginStatusMeta'),\n);\n\nexport const selectOwnProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects'),\n);\n\nexport const selectOwnProjectsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjectsMeta'),\n);\n\nexport const selectOwnProjectById = (id) => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects')\n    .find(\n      (project) => project.get('proj_id') === Number(id),\n    ),\n);\n\nexport const selectFavoriteSpotIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteSpotIdsMeta'),\n);\n\nexport const selectFavoriteSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteSpotIds'),\n);\n\nexport const selectIsModalVisible = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('isModalVisible'),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS, Map } from 'immutable';\nimport { DEFAULT_PROJECT } from './constants';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [isNavVisible, setIsNavVisible] = useState(true);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true);\n\n  // create project\n  const [newProject, setNewProject] = useState(fromJS(DEFAULT_PROJECT));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // update project\n  const [updateProject, setUpdateProject] = useState(Map());\n\n  return {\n    isNavVisible,\n    setIsNavVisible,\n\n    isHeaderVisible,\n    setIsHeaderVisible,\n\n    // create project\n    newProject,\n    setNewProject,\n\n    // update project\n    updateProject,\n    setUpdateProject,\n\n    isEditMode,\n    setIsEditMode,\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: '探索景點',\n  PLANNING: '計畫旅程',\n  TRAVEL_WALL: '旅遊牆',\n  PERSONAL_PAGE: '我的',\n  DETAIL_PLANNING: '旅程內容',\n  UPDATE_PLANNING: '修改旅程',\n  CREATE_PROJECT: '增加旅程',\n  ADD_SPOT_TO_PROJECT: '加到我的行程',\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const HeaderContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n  }\n  .icon-style {\n    color: rgba(51, 51, 51, 1);\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n\nexport const HeaderTitle = styled.div`\n  flex-basis: 1;\n  flex-shrink: 0;\n  text-align: center;\n`;\n\nexport const HeaderLeftButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 14px;\n`;\n\nexport const HeaderRightButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n`;\n\nexport const HeaderLinkButton = styled(Link)`\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n  }\n`;\n\nexport const HeaderButton = styled.button`\n  padding: 0;\n  border: 0;\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n    background-color: transparent;\n  }\n`;\n","import React, { useContext, useEffect } from 'react';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  return (\n    <HeaderContainer>\n      {'登入'}\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  HeaderLinkButton,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst ExplorePageHeader = ({ location }) => {\n  const { menu } = queryString.parse(location.search);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE}`}>\n            <i className=\"fas fa-times\" />\n          </HeaderLinkButton>\n        }\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        {menu === 'zone' ? '縣市選擇' : PAGE_NAME.EXPLORE}\n      </HeaderTitle>\n      <HeaderRightButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE}`}>\n            <i className=\"fas fa-check\" />\n          </HeaderLinkButton>\n        }\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nExplorePageHeader.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(ExplorePageHeader);\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n    setIsEditMode,\n    setIsNavVisible,\n  } = context;\n  const handleToCreateProject = useCallback((event) => {\n    const path = findAttributeInEvent(event, 'data-redirect-path');\n    history.push(path);\n  }, []);\n  const handleEditModeOn = useCallback(() => {\n    setIsEditMode(true);\n    setIsNavVisible(false);\n  }, []);\n  const handleEditModeOff = useCallback(() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }, []);\n  useEffect(() => (() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }), []);\n  if (isEditMode) {\n    return (\n      <HeaderContainer>\n        <div>調整旅程</div>\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <i\n            role=\"presentation\"\n            className=\"fas fa-check icon-style\"\n            onClick={handleEditModeOff}\n          />\n        </div>\n      </HeaderContainer>\n    );\n  }\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleEditModeOn} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT}\n          onClick={handleToCreateProject}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.TRAVEL_WALL}\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    <div>{PAGE_NAME.PERSONAL_PAGE}</div>\n    <div className=\"header-container__icon-wrapper icon-right\">\n      <i className=\"fas fa-cog icon-style\" />\n    </div>\n  </HeaderContainer>\n);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\nimport uploadTravelWallIconPath from 'assets/upload_travel_wall_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst DetailPlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  }, []);\n  const handleGoToUpdatePlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.UPDATE_PLANNING}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.DETAIL_PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleGoToUpdatePlanning} />\n        <img src={uploadTravelWallIconPath} className=\"icon-style\" alt=\"\" />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n};\n\nexport default DetailPlanningPage;\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    setUpdateProject,\n    updateProject,\n  } = context;\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n\n    handleSubmitUpdateProject(projectId, updateProject);\n    setUpdateProject(Map());\n\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, [updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleGoBackToDetailPlanning}\n        />\n      </div>\n      <div>{PAGE_NAME.UPDATE_PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from 'containers/Spotlight/constants';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  PAGE_NAME,\n} from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\n\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitCreateProject,\n} from 'containers/Spotlight/actions';\n\nconst { SpotlightContext } = Context;\n\nconst CreateProjectPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    newProject,\n    setNewProject,\n  } = context;\n  const setInit = () => {\n    setNewProject(fromJS(DEFAULT_PROJECT));\n  };\n  const handleOnCancelBtn = () => {\n    history.push(PAGE_NAME.PLANNING);\n  };\n  const handleOnCheckBtn = () => {\n    const {\n      handleSubmitCreateProject,\n    } = props;\n    const name = newProject.get('name');\n    const startDay = moment(newProject.get('start_day')).format('YYYY/MM/DD 00:mm:ss');\n    const days = newProject.get('tot_days');\n    if (!name || !newProject.get('start_day')) {\n      message.error('欄位皆為必填');\n      return;\n    }\n    if (days <= 0) {\n      message.error('天數格式錯誤');\n      return;\n    }\n    handleSubmitCreateProject({\n      name,\n      start_day: startDay,\n      tot_days: days,\n    });\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  };\n  useEffect(() => {\n    setIsNavVisible(false);\n    setInit();\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleOnCancelBtn}\n        />\n      </div>\n      <div>{PAGE_NAME.CREATE_PROJECT}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nCreateProjectPage.propTypes = {\n  handleSubmitCreateProject: PropTypes.func,\n};\n\nCreateProjectPage.defaultProps = {\n  handleSubmitCreateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateProject: (newProject) => dispatch(submitCreateProject(newProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProjectPage);\n","import React, { useContext, useEffect } from 'react';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPage = () => {\n  const { setIsNavVisible } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons />\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n};\n\nexport default withRouter(AddSpotToProjectPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { submitUpdateProject } from 'containers/Spotlight/actions';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  handleSubmitUpdateProject,\n  match,\n}) => {\n  const { setIsNavVisible, updateProject } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  const handleOnCheckClick = useCallback(() => {\n    history.goBack();\n    handleSubmitUpdateProject(match.params.projectId, updateProject);\n  });\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons>\n        <HeaderButton type=\"button\" onClick={handleOnCheckClick}>\n          <i className=\"fas fa-check\" />\n        </HeaderButton>\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  handleSubmitUpdateProject: PropTypes.func.isRequired,\n  match: PropTypes.object.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updatedProject) => (\n    dispatch(submitUpdateProject(projectId, updatedProject))\n  ),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React, { createRef, useEffect } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport {\n  login,\n  register,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectLoginStatusMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst row = `\n  width: 300px;\n  display: block;\n  margin: 0 auto 24px;\n`;\n\nconst UserName = styled.input`\n  ${row}\n  margin-top: 24px;\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst PassWord = styled.input`\n  ${row}\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst LoginButton = styled.button`\n  ${row}\n  line-height: 1.5;\n  background-color: lightgray;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n`;\n\nconst RegisterRow = styled.div`\n  ${row}\n  display: flex;\n  justify-content: center;\n`;\n\nconst ErrorMessage = styled.div`\n  ${row}\n  color: red;\n`;\n\nconst Logo = styled.img`\n  width: 125px;\n  display: block;\n  margin: 0 auto;\n  border-radius: 50%;\n  margin-top: 24px;\n`;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n    loginStatusMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const handleRegisterBtnClick = () => {\n    const {\n      handleSubmitRegister,\n    } = props;\n    handleSubmitRegister({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (loginStatusMeta.get('isLoaded') && user) {\n      history.push(`/${PAGE_NAME.EXPLORE}`);\n    }\n  }, [user]);\n\n  return (\n    loginStatusMeta.get('isLoaded') && !user ? (\n      <React.Fragment>\n        <Logo src=\"https://avatars0.githubusercontent.com/u/48876369?s=200&v=4\" />\n        <UserName ref={usernameRef} type=\"email\" placeholder=\"輸入電子信箱/用戶名\" />\n        <PassWord ref={passwordRef} type=\"password\" placeholder=\"輸入密碼\" />\n        <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n        <RegisterRow>\n          <a href=\"/#\" onClick={handleRegisterBtnClick}>\n            立即註冊\n          </a>\n        </RegisterRow>\n        {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n      </React.Fragment>\n    ) : null\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  handleSubmitRegister: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n  handleSubmitRegister: ({ acc, pwd }) => dispatch(register({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const Region = styled.div`\n  font-size: 14px;\n  padding: 9px 15px 15px;\n  color: #AAAAAA;\n\n  &:first-of-type {\n    padding-top: 15px;\n  }\n`;\n\nexport const ZoneLabel = styled.label`\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 15px 11px;\n  padding-bottom: 11px;\n  border-bottom: solid 1px #DFDFDF;\n  color: #333333;\n\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 15px;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport message from 'antd/lib/message';\nimport { Region, ZoneLabel, Container } from './Styled';\n\nconst ZoneMenu = ({\n  zonesState,\n  dispatch,\n}) => {\n  const regions = zonesState.map((zone) => zone.get('region')).toSet();\n\n  return (\n    <Container>\n      {regions.map((region) => (\n        <React.Fragment key={region}>\n          <Region>{region}</Region>\n          {zonesState\n            .filter((zone) => zone.get('region') === region)\n            .map((zone) => (\n              <ZoneLabel key={zone.get('name')}>\n                {zone.get('name')}\n                <input\n                  type=\"checkbox\"\n                  onChange={(event) => {\n                    const selectedSize = zonesState\n                      .filter((zoneState) => zoneState.get('selected'))\n                      .size;\n                    if (selectedSize === 5 && event.currentTarget.checked) {\n                      message.warning('最多可選 5 個！', 2);\n                      return;\n                    }\n                    dispatch({\n                      type: event.currentTarget.checked ? 'SELECT_ZONE' : 'CANCEL_ZONE',\n                      payload: { zone: zone.get('name') },\n                    });\n                  }}\n                  checked={zone.get('selected', false)}\n                />\n              </ZoneLabel>\n            ))\n            .toList()\n          }\n        </React.Fragment>\n      ))}\n    </Container>\n  );\n};\n\nZoneMenu.propTypes = {\n  zonesState: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default ZoneMenu;\n","export const zoneReducer = (state, action) => {\n  switch (action.type) {\n    case 'SELECT_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], true);\n    case 'CANCEL_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], false);\n    default:\n      return state;\n  }\n};\n","export const zones = {\n  基隆市: {\n    name: '基隆市',\n    region: '北部縣市',\n  },\n  臺北市: {\n    name: '臺北市',\n    region: '北部縣市',\n  },\n  新北市: {\n    name: '新北市',\n    region: '北部縣市',\n  },\n  桃園市: {\n    name: '桃園市',\n    region: '北部縣市',\n  },\n  新竹市: {\n    name: '新竹市',\n    region: '北部縣市',\n  },\n  新竹縣: {\n    name: '新竹縣',\n    region: '北部縣市',\n  },\n  苗栗縣: {\n    name: '苗栗縣',\n    region: '中部縣市',\n  },\n  南投縣: {\n    name: '南投縣',\n    region: '中部縣市',\n  },\n  臺中市: {\n    name: '臺中市',\n    region: '中部縣市',\n  },\n  彰化縣: {\n    name: '彰化縣',\n    region: '中部縣市',\n  },\n  雲林縣: {\n    name: '雲林縣',\n    region: '中部縣市',\n  },\n  嘉義市: {\n    name: '嘉義市',\n    region: '南部縣市',\n  },\n  嘉義縣: {\n    name: '嘉義縣',\n    region: '南部縣市',\n  },\n  臺南市: {\n    name: '臺南市',\n    region: '南部縣市',\n  },\n  高雄市: {\n    name: '高雄市',\n    region: '南部縣市',\n  },\n  屏東縣: {\n    name: '屏東縣',\n    region: '南部縣市',\n  },\n  宜蘭縣: {\n    name: '宜蘭縣',\n    region: '東部縣市',\n  },\n  花蓮縣: {\n    name: '花蓮縣',\n    region: '東部縣市',\n  },\n  臺東縣: {\n    name: '臺東縣',\n    region: '東部縣市',\n  },\n  連江縣: {\n    name: '連江縣',\n    region: '外島縣市',\n  },\n  金門縣: {\n    name: '金門縣',\n    region: '外島縣市',\n  },\n  澎湖縣: {\n    name: '澎湖縣',\n    region: '外島縣市',\n  },\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-bottom: 20px;\n`;\n\nexport const Card = styled.div`\n  display: block;\n  width: 300px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  height: 240px;\n  object-fit: cover;\n`;\n\nexport const CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 18px 18px;\n  background-color: #FFFFFF;\n`;\n\nexport const SpotName = styled.span`\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  font-size: 18px;\n  \n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #333333;\n  }\n`;\n\nexport const SpotLikes = styled.span`\n  flex-shrink: 0;\n  font-size: 14px;\n\n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #AAAAAA;\n  }\n`;\n\nexport const ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 16px;\n`;\n\nexport const Button = styled.button`\n  display: block;\n  width: 60px;\n  height: 60px;\n  background: #fff;\n  border-radius: 50%;\n  font-size: 18px;\n  margin-bottom: 5px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  appearance: none;\n  border: 0;\n`;\n\nexport const ButtonCrossIcon = styled.i`\n  font-size: 28px;\n  color: #333333;\n`;\n\nexport const ButtonHeartIcon = styled.i`\n  font-size: 20px;\n  color: #EB715A;\n`;\n\nexport const ButtonLabel = styled.label`\n  margin-right: 16px;\n  text-align: center;\n  font-size: 14px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SearchRow = styled.div`\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(#F9D94A 50%, transparent 50%);\n  padding: 3px 15px 15px;\n`;\n\nexport const SearchBar = styled.div`\n  width: 100%;\n  display: flex;\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nexport const SelectCountyButton = styled.button`\n  flex-shrink: 0;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  appearance: none;\n  border: 0;\n  position: relative;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n\n  &:after {\n    content : \"\";\n    position: absolute;\n    right: 0;\n    z-index: 100;\n    top: 50%;\n    width: 1px;\n    transform: translateY(-50%);\n    height: 70%;\n    background: #B5B5B5;\n  }\n`;\n\nconst searchInputLeftPadding = '33px';\n\nexport const SearchInputContainer = styled.div`\n  position: relative;\n  flex-grow: 1;\n  background-color: #fff;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f002\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${searchInputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  padding: 9px 9px 9px ${searchInputLeftPadding};\n  appearance: none;\n  border: 0;\n`;\n\nexport const ZonesRow = styled.div`\n  padding: 0 12px;\n  margin-bottom: 30px;\n`;\n\nexport const ZoneLabel = styled.span`\n  display: inline-block;\n  background-color: #EEEEEE;\n  color: #AAAAAA;\n  font-size: 12px;\n  padding: 2px 5px;\n  margin-right: 10px;\n  border-radius: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const ZoneLabelCrossIcon = styled.i`\n  margin-left: 5px;\n`;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, fromJS } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport {\n  selectExploringSpot,\n  selectSpotsMeta,\n  selectFavoriteSpotIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  exploreNextSpot,\n  fetchSpots,\n  likeSpot,\n  fetchFavoriteSpotIds,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport ZoneMenu from './ZoneMenu';\nimport { zoneReducer } from './reducer';\nimport { zones as zonesData } from './constants';\n\nimport {\n  Container,\n  CardRow,\n  Card,\n  CardImage,\n  CardInfo,\n  ButtonRow,\n  Button,\n  SearchRow,\n  SearchBar,\n  SelectCountyButton,\n  SearchInputContainer,\n  SearchInput,\n  ZonesRow,\n  ZoneLabel,\n  ButtonLabel,\n  SpotName,\n  SpotLikes,\n  ZoneLabelCrossIcon,\n  ButtonCrossIcon,\n  ButtonHeartIcon,\n} from './Styled';\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    handleSwipeLeft,\n    createHandleSwipeRight,\n    handleFetchSpots,\n    setSpotsMeta,\n    location,\n    history,\n    handleFetchFavoriteSpotIds,\n    favoriteSpotIdsMeta,\n  } = props;\n\n  const [zonesState, dispatch] = useReducer(zoneReducer, fromJS(zonesData));\n  const selectedZones = zonesState\n    .filter((zone) => zone.get('selected'))\n    .map((zone) => zone.get('name'))\n    .toList()\n    .toJS();\n\n  const [keyword, setKeyword] = useState('');\n  const handleSearchInputKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleFetchSpots({ kw: keyword, zones: selectedZones });\n      event.currentTarget.blur();\n    }\n  };\n\n  useEffect(() => {\n    if (!setSpotsMeta.get('isLoading')) {\n      handleFetchSpots();\n    }\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      handleFetchFavoriteSpotIds();\n    }\n  }, []);\n\n  const query = queryString.parse(location.search);\n\n  if (query.menu === 'zone') {\n    return (\n      <ZoneMenu\n        location={location}\n        history={history}\n        zonesState={zonesState}\n        dispatch={dispatch}\n      />\n    );\n  }\n\n  return (\n    <Container>\n      <SearchRow>\n        <SearchBar>\n          <SelectCountyButton onClick={() => history.push(`${location.pathname}?menu=zone`)}>\n            縣市選擇\n            <i className=\"fas fa-caret-right\" />\n          </SelectCountyButton>\n          <SearchInputContainer>\n            <SearchInput\n              type=\"text\"\n              placeholder=\"搜尋景點關鍵字\"\n              value={keyword}\n              onChange={(event) => setKeyword(event.target.value)}\n              onKeyUp={handleSearchInputKeyUp}\n            />\n          </SearchInputContainer>\n        </SearchBar>\n      </SearchRow>\n      <ZonesRow>\n        {selectedZones.map((zone) => (\n          <ZoneLabel key={zone}>\n            {zone}\n            <ZoneLabelCrossIcon className=\"fas fa-times\" />\n          </ZoneLabel>\n        ))}\n      </ZonesRow>\n      {setSpotsMeta.get('isLoading')\n        ? <Spinner />\n        : (\n          <React.Fragment>\n            <CardRow>\n              <Link to={`/${PAGE_NAME.EXPLORE}/${spot.get('spot_id')}`}>\n                <Card>\n                  <CardImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n                  <CardInfo>\n                    <SpotName>{spot.get('name')}</SpotName>\n                    <SpotLikes>\n                      {spot.get('like_num')}\n                      人收藏\n                    </SpotLikes>\n                  </CardInfo>\n                </Card>\n              </Link>\n            </CardRow>\n            <ButtonRow>\n              <ButtonLabel>\n                <Button onClick={handleSwipeLeft}>\n                  <ButtonCrossIcon className=\"fas fa-times\" />\n                </Button>\n                <span>跳過</span>\n              </ButtonLabel>\n              <ButtonLabel>\n                <Button onClick={createHandleSwipeRight(spot.get('spot_id'))}>\n                  <ButtonHeartIcon className=\"fas fa-heart\" />\n                </Button>\n                <span>想去</span>\n              </ButtonLabel>\n            </ButtonRow>\n          </React.Fragment>\n        )\n      }\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  handleSwipeLeft: PropTypes.func.isRequired,\n  createHandleSwipeRight: PropTypes.func.isRequired,\n  handleFetchSpots: PropTypes.func.isRequired,\n  setSpotsMeta: PropTypes.object,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n  setSpotsMeta: selectSpotsMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSwipeLeft: () => dispatch(exploreNextSpot()),\n  createHandleSwipeRight: (spotId) => () => {\n    dispatch(likeSpot(spotId));\n    dispatch(exploreNextSpot());\n  },\n  handleFetchSpots: ({ kw, zones } = {}) => dispatch(fetchSpots({ kw, zones })),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ExplorePage));\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport Modal from 'antd/lib/modal';\nimport trashIconPath from 'assets/trash_icon.svg';\n\nconst { confirm } = Modal;\nconst { SpotlightContext } = Context;\n\nconst Container = styled.div`\n  margin-top: 15px;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  position: relative;\n  .project-card__cover-image {\n    background-image: url(\"https://icrvb3jy.xinmedia.com/solomo/article/139141/7A21D0A7-AEA1-D18D-C305-9A5930D37D27.jpeg\");\n    background-size: cover;\n    height: 150px;\n    border-radius: 10px 10px 0px 0px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    height: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .project-card__info-period {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.7;\n    z-index: 1;\n    border-radius: 10px;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: white;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    z-index: 1;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n    width: 14px;\n    height: 14px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n  } = context;\n  const {\n    project,\n    handleDeleteProject,\n  } = props;\n  const projectId = project.get('proj_id');\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const handleOnClick = useCallback(() => {\n    if (isEditMode) {\n      return;\n    }\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [projectId, isEditMode]);\n  const handleOnDeleteProject = useCallback((event) => {\n    const projId = findAttributeInEvent(event, 'data-project-id');\n    confirm({\n      title: '刪除旅程計畫',\n      content: `確認是否刪除 \"${name}\" ？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleDeleteProject(projId);\n      },\n    });\n  }, []);\n  return (\n    <Container isEditMode={isEditMode} onClick={handleOnClick}>\n      {\n        isEditMode &&\n        <>\n          <div className=\"project-card__mask\" />\n          <div\n            role=\"presentation\"\n            className=\"project-card__trash-icon-wrapper\"\n            data-project-id={projectId}\n            onClick={handleOnDeleteProject}\n          >\n            <img className=\"project-card__trash-icon\" src={trashIconPath} alt=\"\" />\n          </div>\n        </>\n      }\n      <div className=\"project-card__cover-image\" />\n      <div className=\"project-card__info-row\">\n        <div className=\"project-card__info-title\">{name}</div>\n        <div className=\"project-card__info-period\">{`${startDay}-${endDay} / ${days}天`}</div>\n      </div>\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleDeleteProject: PropTypes.func,\n};\n\nProjectCard.defaultProps = {\n  project: Map(),\n  handleDeleteProject: () => { },\n};\n\nexport default ProjectCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\n\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Spinner from 'components/Spinner';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  height: 100%;\n  padding: 0px 15px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = ({\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n  handleDeleteProject,\n}) => {\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  return (\n    <Container>\n      {\n        ownProjects.map((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            project={project}\n            handleDeleteProject={handleDeleteProject}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nPlanningPage.propTypes = {\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n  handleDeleteProject: PropTypes.func,\n};\n\nPlanningPage.defaultProps = {\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n  handleDeleteProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PlanningPage));\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledTravelCard = styled.div`\n  margin-top: 10px;\n  .travel-card__header-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 5px 10px;\n    background: #D3D3D3;\n    .travel-card__header-image {\n      font-size: 30px;\n      color: white;\n    }\n    .travel-card__profile-wrapper {\n      margin-left: 10px;\n    }\n    .travel-card__header-name {\n      font-size: 12px;\n      color: #707070;\n    }\n    .travel-card__header-time {\n      font-size: 12px;\n      color: #A4A4A4;\n    }\n  }\n  .travel-card__body-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    height: 120px;\n    background: black;\n    color: white;\n    position: relative;\n    cursor: pointer;\n    .travel-card__body-cover {\n      opacity: 0.5;\n      background-image: url(${(props) => props.imagePath});\n      background-size: cover;\n      height: 100%;\n    }\n    .travel-card__body-text-wrapper {\n      position: absolute;\n      padding: 10px;\n      .travel-card__body-title {\n        font-size: 16px;\n        color: white;\n      }\n      .travel-card__body-period {\n        font-size: 12px;\n      }\n    }\n  }\n  .travel-card__footer-wrapper {\n    background: #D3D3D3;\n    padding: 13px 12px;\n    display: flex;\n    align-items: center;\n    .travel-card__footer-icon {\n      font-size: 16px;\n      color: #707070;\n    }\n    .travel-card__footer-number {\n      font-size: 12px;\n      color: #707070;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst TravelCard = ({ projectId }) => {\n  const imagePath = 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg';\n  const handleOnClick = useCallback(() => {\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  });\n  return (\n    <StyledTravelCard imagePath={imagePath}>\n      <div className=\"travel-card__header-wrapper\">\n        <i className=\"fas fa-user-circle travel-card__header-image\" />\n        <div className=\"travel-card__profile-wrapper\">\n          <div className=\"travel-card__header-name\">這裡是名字</div>\n          <div className=\"travel-card__header-time\">1天前</div>\n        </div>\n      </div>\n      <div role=\"presentation\" className=\"travel-card__body-wrapper\" onClick={handleOnClick}>\n        <div className=\"travel-card__body-cover\" />\n        <div className=\"travel-card__body-text-wrapper\">\n          <div className=\"travel-card__body-title\">台北購物之旅</div>\n          <div className=\"travel-card__body-period\">2019年6月5日-2019年6月9日 / 4天</div>\n        </div>\n      </div>\n      <div className=\"travel-card__footer-wrapper\">\n        <i className=\"far fa-heart travel-card__footer-icon\" />\n        <div className=\"travel-card__footer-number\">666</div>\n      </div>\n    </StyledTravelCard>\n  );\n};\n\nTravelCard.propTypes = {\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nTravelCard.propTypes = {\n};\n\nexport default TravelCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport TravelCard from './components/TravelCard';\n\nconst StyledTravelWallPage = styled.div`\n  padding: 5px 28px;\n`;\n\nconst TravelWallPage = () => {\n  const cards = new Array(10).fill(0).map((x, index) => index);\n  return (\n    <StyledTravelWallPage>\n      {\n        cards.map((card, index) => (\n          <TravelCard\n            key={card}\n            projectId={index}\n          />\n        ))\n      }\n    </StyledTravelWallPage>\n  );\n};\n\nexport default TravelWallPage;\n","import React from 'react';\n\nconst Favicon = () => (\n  <div className=\"personal-page__favicon-wrapper\">\n    <img className=\"personal-page__favicon\" alt=\"\" />\n  </div>\n);\n\nexport default Favicon;\n","import React from 'react';\nimport Favicon from './Favicon';\n\nconst Information = () => (\n  <div className=\"personal-page__info-wrapper\">\n    <Favicon />\n    <div className=\"personal-page__profile-wrapper\">\n      <div className=\"personal-page__profile-name\">這裡是名字</div>\n      <div className=\"personal-page__profile-travel-info\">\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">旅程發表</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">收藏數</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">被收藏</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledSpotCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .spot-card__title {\n    font-size: 11px;\n  }\n`;\n\nconst SpotCard = ({ spotId, handleOnClick }) => {\n  const imagePath = 'https://www.taipei-101.com.tw/upload/jn_now/201801/2018010102515956G575BF.jpg';\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">台北101</span>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleOnClick: PropTypes.func,\n};\n\nSpotCard.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default SpotCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst SpotCollection = ({\n  handleOnClick,\n}) => {\n  const cards = new Array(11).fill(0).map((x, index) => index);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card) => (\n          <SpotCard\n            key={card}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nSpotCollection.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default SpotCollection;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledPlanningCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .planning-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .planning-card__title {\n    font-size: 11px;\n  }\n\n  .planning-card__profile-wrapper {\n    display: flex;\n    color: white;\n    padding: 10px;\n    .planning-card__profile-favicon {\n      height: 20px;\n      width: 20px;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      border-radius: 100%;\n    }\n    .planning-card__profile-name {\n      color: white;\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst PlanningCard = ({ planningId, handleOnClick }) => {\n  const imagePath = 'https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg';\n  const faviconPath = 'https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg';\n  return (\n    <StyledPlanningCard\n      imagePath={imagePath}\n      data-id={planningId}\n      data-redirect-path={PAGE_NAME.DETAIL_PLANNING}\n      onClick={handleOnClick}\n    >\n      <div className=\"planning-card__profile-wrapper\">\n        <img className=\"planning-card__profile-favicon\" src={faviconPath} alt=\"\" />\n        <div className=\"planning-card__profile-name\">這裡是名字</div>\n      </div>\n      <div className=\"planning-card__title-wrapper\">\n        <span className=\"planning-card__title\">台北購物之旅</span>\n      </div>\n    </StyledPlanningCard>\n  );\n};\n\nPlanningCard.propTypes = {\n  planningId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleOnClick: PropTypes.func,\n};\n\nPlanningCard.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default PlanningCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport PlanningCard from './PlanningCard';\n\nconst StyledPlanningCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst PlanningCollection = ({\n  handleOnClick,\n}) => {\n  const cards = new Array(11).fill(0).map((x, index) => index);\n  return (\n    <StyledPlanningCollection>\n      {\n        cards.map((card) => (\n          <PlanningCard\n            key={card}\n            planningId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledPlanningCollection>\n  );\n};\n\nPlanningCollection.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nPlanningCollection.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default PlanningCollection;\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport PlanningCollection from './PlanningCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <PlanningCollection handleOnClick={handleOnCardClick} />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\n\nconst StyledPersonalPage = styled.div`\n  .personal-page__cover-image {\n    height: 120px;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n  }\n  .personal-page__info-wrapper {\n    display: flex;\n    position: relative;\n    padding: 0px 20px;\n    .personal-page__favicon-wrapper {\n      width: 150px;\n    }\n    .personal-page__favicon {\n      border-radius: 100%;\n      border: 3px solid white;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      height: ${(props) => props.faviconSize}px;\n      width: ${(props) => props.faviconSize}px;\n      position: absolute;\n      top: -30px;\n    }\n    .personal-page__profile-wrapper {\n      padding: 10px 10px;\n      width: 100%;\n      .personal-page__profile-name {\n        font-size: 16px;\n        color: #707070;\n        margin-bottom: 10px;\n      }\n      .personal-page__profile-travel-info {\n        display: flex;\n        .personal-page__profile-travel-info-item-wrapper {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          .personal-page__profile-travel-info-item-title {\n            font-size: 12px;\n            color: #707070;\n            margin-bottom: 3px;\n          }\n          .personal-page__profile-travel-info-item-number {\n            font-size: 12px;\n            color: #707070;\n          }\n        }\n        .personal-page__profile-travel-info-item-divier {\n          border-right: 1px solid #D1D1D1;\n        }\n        .personal-page__profile-travel-info-item-padding-right {\n          padding-right: 20px;\n        }\n        .personal-page__profile-travel-info-item-padding-left {\n          padding-left: 20px;\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n`;\n\nconst PersonalPage = () => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = 'http://i.imgur.com/EUAd2ht.jpg';\n  const faviconSize = 90;\n  const coverImagePath = 'http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg';\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-image\" />\n      <Information />\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nexport default PersonalPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst setBackgroundColor = (isActive) => (isActive ? 'tab__number--active' : '');\n\nconst TabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  &:last-child {\n    padding-right: 50px;\n  }\n  .tab__number {\n    font-size: 14px;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => props.theme.mainColor};\n      color: rgba(51, 51, 51, 1);\n    }\n  }\n  .tab__number--active {\n    background: ${(props) => props.theme.mainColor};\n    color: rgba(51, 51, 51, 1);\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.push({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  const searchParams = new URLSearchParams(window.location.search);\n  const currentDay = searchParams.get('day');\n  return (\n    <TabWrapper>\n      <div\n        role=\"presentation\"\n        className={`tab__number ${setBackgroundColor(currentDay === (id + 1).toString())}`}\n        onClick={handleOnClick}\n      >\n        <div className=\"tab__text\">{`第${id + 1}天`}</div>\n      </div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport editDayIcon from 'assets/edit_day_icon.svg';\nimport Tab from './Tab';\n\nconst DateTabsContainer = styled.div`\n  display: flex;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  position: relative;\n  .date-tab__wrapper {\n    display: flex;\n    height: 50px;\n    overflow-x: auto;\n    border-radius: 10px;\n    padding: 0px 15px;\n  }\n  .date-tab__edit-day-icon {\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 0px;\n    cursor: pointer;\n  }\n`;\n\nconst DateTabs = (props) => {\n  const {\n    days,\n  } = props;\n  const tabs = new Array(days).fill(0).map((x, index) => index);\n  return (\n    <DateTabsContainer>\n      <div className=\"date-tab__wrapper\">\n        {\n          tabs.map((tab) => (\n            <Tab\n              key={tab}\n              id={tab}\n              {...props}\n            />\n          ))\n        }\n      </div>\n      <img src={editDayIcon} className=\"date-tab__edit-day-icon\" alt=\"\" />\n    </DateTabsContainer>\n  );\n};\n\nDateTabs.propTypes = {\n  days: PropTypes.number,\n};\n\nDateTabs.defaultProps = {\n  days: 0,\n};\n\nexport default DateTabs;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nconst fade = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.65;\n  }\n`;\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst addGrowingAnimation = (isHeightGrowing) => (isHeightGrowing ? 'modal-wrapper__height-growing-animation' : '');\n\nconst ModalWrapper = styled.div`\n  .modal-wrapper__mask {\n    background: black;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    opacity: 0.65;\n    animation: 0.2s ease-in-out ${fade};\n    position: absolute;\n    bottom: 0;\n  }\n  .modal-wrapper__modal-content {\n    position: absolute;\n    z-index: 1000;\n  }\n  .modal-wrapper__height-growing-animation {\n    animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  }\n`;\n\nclass Modal extends React.Component {\n  static propTypes = {\n    children: PropTypes.any,\n    isVisible: PropTypes.bool,\n    optionStyle: PropTypes.object,\n    heightGrowing: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    children: null,\n    isVisible: false,\n    optionStyle: {},\n    heightGrowing: false,\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      isVisible,\n    } = this.props;\n    this.el = document.createElement('div');\n    this.el.setAttribute('id', 'modal-root-element');\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      this.el.style.display = 'none';\n    }\n  }\n\n  componentDidMount() {\n    if (this.el) {\n      document.body.appendChild(this.el);\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      isVisible,\n    } = this.props;\n    const modalRootEl = document.getElementById('modal-root-element');\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      modalRootEl.style.display = 'none';\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      document.body.removeChild(this.el);\n    }\n  }\n\n  render() {\n    const {\n      children,\n      isVisible,\n      optionStyle,\n      heightGrowing,\n    } = this.props;\n    if (isVisible) {\n      return ReactDOM.createPortal(\n        <ModalWrapper>\n          <div className={`modal-wrapper__mask ${addGrowingAnimation(heightGrowing)}`} />\n          <div className=\"modal-wrapper__modal-content\" style={optionStyle}>{children}</div>\n        </ModalWrapper>,\n        this.el,\n      );\n    }\n    return null;\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Picker from 'react-mobile-picker-scroll';\nimport {\n  HOURS,\n  MINUTES,\n} from 'containers/Spotlight/constants';\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst TimePickerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  bottom: 0;\n  animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  .time-picker__buttom-wrapper {\n    height: 50px;\n    background: ${(props) => props.theme.mainColor};\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .time-picker__buttom {\n    padding: 0px 15px;\n    font-size: 16px;\n    cursor: pointer;\n    &:hover {\n      color: #333333;\n      font-weight: 500;\n    }\n  }\n\n  .time-picker__scroll-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    overflow: hidden;\n  }\n  .time-picker__option-label {\n    margin: 0px 20px;\n    font-weight: 500;\n  }\n`;\n\nclass TimePicker extends Component {\n  static propTypes = {\n    startTime: PropTypes.string,\n    handleOnOk: PropTypes.func,\n    handleOnCancel: PropTypes.func,\n  }\n\n  static defaultProps = {\n    startTime: '',\n    handleOnOk: () => { },\n    handleOnCancel: () => { },\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      startTime,\n    } = props;\n    this.state = {\n      hourValueGroups: {\n        hour: startTime.split(':')[0],\n      },\n      hourOptionGroups: {\n        hour: HOURS,\n      },\n      minuteValueGroups: {\n        minute: startTime.split(':')[1],\n      },\n      minuteOptionGroups: {\n        minute: MINUTES,\n      },\n    };\n  }\n\n  handleHourChange = (name, value) => {\n    this.setState(({ hourValueGroups }) => ({\n      hourValueGroups: {\n        ...hourValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleMinuteChange = (name, value) => {\n    this.setState(({ minuteValueGroups }) => ({\n      minuteValueGroups: {\n        ...minuteValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleOnCheck = () => {\n    const {\n      handleOnOk,\n    } = this.props;\n    const {\n      hourValueGroups,\n      minuteValueGroups,\n    } = this.state;\n    handleOnOk(`${hourValueGroups.hour}:${minuteValueGroups.minute}:00`);\n  }\n\n  render() {\n    const {\n      handleOnCancel,\n    } = this.props;\n    const {\n      hourValueGroups,\n      hourOptionGroups,\n      minuteValueGroups,\n      minuteOptionGroups,\n    } = this.state;\n    return (\n      <TimePickerWrapper>\n        <div className=\"time-picker__buttom-wrapper\">\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={handleOnCancel}>取消</div>\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={this.handleOnCheck}>確定</div>\n        </div>\n        <div className=\"time-picker__scroll-wrapper\">\n          <div>\n            <Picker\n              valueGroups={hourValueGroups}\n              optionGroups={hourOptionGroups}\n              onChange={this.handleHourChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">時</div>\n          <div>\n            <Picker\n              valueGroups={minuteValueGroups}\n              optionGroups={minuteOptionGroups}\n              onChange={this.handleMinuteChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">分</div>\n        </div>\n      </TimePickerWrapper>\n    );\n  }\n}\n\nexport default TimePicker;\n","import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { List, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  WEEKDAYS_SHORT,\n} from 'containers/Spotlight/constants';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst StyledDateTimeInfo = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding: 0px 15px;\n  justify-content: space-between;\n  margin-top: 30px;\n  .date-time-info__date-text {\n    color: rgba(51, 51, 51, 1);\n    font-family: 'Segoe UI';\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .date-time-info__start-time-wrapper {\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n    background: rgba(51, 51, 51, 1);\n    color: white;\n    padding: 6px 8px;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      background: rgba(51, 51, 51, 0.8);\n    }\n  }\n  .date-time-info__clock-icon {\n    margin-right: 5px;\n    color: ${(props) => props.theme.mainColor};\n  }\n`;\n\nconst DateTimeInfo = (props) => {\n  const {\n    match,\n    startDay,\n    plan,\n    isModalVisible,\n    handleSetModalVisible,\n    handleSubmitUpdateProject,\n  } = props;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const date = moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').format('YYYY年MM月DD日');\n  const weekday = WEEKDAYS_SHORT[moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').get('weekday')];\n  const startTime = moment(plan.getIn([day - 1, 'start_time']), 'HH:mm').format('HH:mm');\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const { projectId } = match.params;\n    const updatedPlan = plan.setIn([day - 1, 'start_time'], value);\n    const updatedProject = fromJS({\n      plan: updatedPlan,\n    });\n    handleSubmitUpdateProject(projectId, updatedProject);\n  }, []);\n\n  return (\n    <>\n      <StyledDateTimeInfo>\n        <div className=\"date-time-info__date-text\">{`${date} ${weekday}`}</div>\n        <div role=\"presentation\" className=\"date-time-info__start-time-wrapper\" onClick={handleShowModal}>\n          <i className=\"far fa-clock date-time-info__clock-icon\" />\n          <span>{`出發時間 ${startTime}`}</span>\n        </div>\n      </StyledDateTimeInfo>\n      <Modal\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n        heightGrowing\n      >\n        <TimePicker\n          startTime={startTime}\n          handleOnCancel={handleHideModal}\n          handleOnOk={handleOnPickerCheck}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDateTimeInfo.propTypes = {\n  match: PropTypes.object,\n  startDay: PropTypes.string,\n  isModalVisible: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  handleSetModalVisible: PropTypes.func,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDateTimeInfo.defaultProps = {\n  match: {},\n  startDay: '',\n  isModalVisible: false,\n  plan: List(),\n  handleSetModalVisible: () => { },\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimeInfo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport const HEIGHT_SPOT_CARD = 60;\nexport const HEIGHT_SPOT_TRAVEL_TIME = 40;\n\nconst StyledSpotCard = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .spot-card__card-row {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 0px 15px;\n    box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n    border-radius: 10px;\n  }\n  .spot-card__card-body-spot-title {\n    font-size: 16px;\n    font-weight: 500;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: rgba(170, 170, 170, 1);\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n    color: rgba(51, 51, 51, 1);\n  }\n`;\n\nconst SpotCard = ({ spot }) => (\n  <StyledSpotCard>\n    <div className=\"spot-card__card-row\">\n      <div className=\"spot-card__start-end-time-wrapper\">\n        <div>8:00</div>\n        <div>|</div>\n        <div>10:00</div>\n      </div>\n      <div className=\"spot-card__card-body\">\n        <div className=\"spot-card__card-body-spot-title\">{spot.get('name')}</div>\n        <div className=\"spot-card__card-body-address\">{spot.get('address')}</div>\n      </div>\n    </div>\n    <div className=\"spot-card__travel-row-wrapper\">\n      <div className=\"spot-card__travel-time-wrapper\">\n        <i className=\"fas fa-car spot-card__travel-time-icon\" />\n        <div>1時15分</div>\n      </div>\n      <div className=\"spot-card__travel-time-wrapper\">\n        <i className=\"fas fa-running spot-card__travel-time-icon\" />\n        <div>6時15分</div>\n      </div>\n    </div>\n  </StyledSpotCard>\n);\n\nSpotCard.propTypes = {\n  spot: PropTypes.object,\n};\n\nSpotCard.defaultProps = {\n  spot: {},\n};\n\nexport default SpotCard;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n// http://front-ender.me/react-drag-list\nimport ReactDragList from 'react-drag-list';\nimport 'react-drag-list/assets/index.css';\nimport { fromJS } from 'immutable';\nimport mapPlusIconPath from 'assets/map_plus_icon.svg';\nimport SpotCard, {\n  HEIGHT_SPOT_CARD,\n  HEIGHT_SPOT_TRAVEL_TIME,\n} from './SpotCard';\n\nconst StyledContent = styled.div`\n  padding: 15px 15px;\n  padding-top: 0;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n`;\n\nconst SpotOperator = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .operator__number-wrapper {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 2px solid rgba(51, 51, 51, 1);\n    color: rgba(51, 51, 51, 1);\n    font-size: 16px;\n    font-weight: 500;\n    border-radius: 100%;\n    width: 29px;\n    height: 29px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: rgba(51, 51, 51, 1);\n      color: ${(props) => props.theme.mainColor};\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 2px;\n    background: rgba(170, 170, 170, 1);\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    height: 33px;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n`;\n\nconst mockSpotData = fromJS([\n  {\n    id: 0,\n    name: '台北101',\n    address: '110台北市信義區信義路五段7號',\n    startTime: '09:00',\n  },\n  {\n    id: 1,\n    name: '宏亞食品巧克力觀光工廠',\n    address: '桃園縣八德市建國路386號',\n    startTime: '10:00',\n  },\n  {\n    id: 2,\n    name: '臺灣菸酒(股)公司林口觀光酒廠',\n    address: '桃園縣龜山鄉文化一路55號',\n    startTime: '12:00',\n  },\n  {\n    id: 3,\n    name: '台灣金屬創意館',\n    address: '台南市永康區永科環路598號',\n    startTime: '15:00',\n  },\n]);\n\nconst Content = () => (\n  <StyledContent>\n    <div className=\"content__spot-cards-wrapper\">\n      <div>\n        {\n          mockSpotData.map((spot, index) => (\n            <SpotOperator key={spot.get('id')}>\n              <div className=\"operator__number-wrapper\">\n                {\n                  Boolean(index) &&\n                  <div className=\"operator__divider-line operator__divider-line-top\" />\n                }\n                <div className=\"operator__number-circle-border\"><span>{spot.get('id') + 1}</span></div>\n                <div className=\"operator__divider-line operator__divider-line-bottom\" />\n              </div>\n              <div className=\"operator__map-marker-wrapper\">\n                <img src={mapPlusIconPath} className=\"operator__map-marker-icon\" alt=\"\" />\n              </div>\n            </SpotOperator>\n          ))\n        }\n      </div>\n      <ReactDragList\n        dataSource={mockSpotData}\n        row={(spot, index) => (\n          <SpotCard\n            key={spot.get('id')}\n            spot={spot}\n            index={index}\n          />\n        )}\n        handles={false}\n        className=\"simple-drag content__spot-simple-drag\"\n        rowClassName=\"simple-drag-row\"\n        onUpdate={() => { }}\n      />\n    </div>\n  </StyledContent>\n);\n\nContent.propTypes = {\n  // location: PropTypes.object,\n};\n\nContent.defaultProps = {\n  // location: {},\n};\n\nexport default Content;\n","import styled from 'styled-components';\n\nconst tempCoverPath = 'https://attach.setn.com/newsimages/2016/12/30/761776-XXL.jpg';\n\nexport const DetailPlanningPageContainer = styled.div`\n  .detail-planning__cover {\n    position: relative;\n    background-image: url(${tempCoverPath});\n    background-size: cover;\n\n    height: 190px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n      color: white;\n      font-weight: 600;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n      color: white;\n      font-weight: 500;\n      margin-bottom: 10px;\n    }\n  }\n  .detail-planning__info_wrapper {\n    transform: translateY(32px);\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport DateTabs from './DateTabs';\nimport DateTimeInfo from './DateTimeInfo';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\n\nconst DetailPlanningPage = (props) => {\n  const {\n    match,\n    ownProjectsMeta,\n    ownProjects,\n    handleFetchOwnProjects,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const days = ownProject.get('tot_days');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const plan = ownProject.get('plan');\n  return (\n    <DetailPlanningPageContainer>\n      <div className=\"detail-planning__cover\">\n        <div className=\"detail-planning__info_wrapper\">\n          <div className=\"detail-planning__cover-title\">\n            <span>{name}</span>\n          </div>\n          <div className=\"detail-planning__cover-period\">\n            {`${startDay} - ${endDay} / ${days}天`}\n          </div>\n          <DateTabs days={days} {...props} />\n        </div>\n      </div>\n      <DateTimeInfo plan={plan} startDay={startDay} {...props} />\n      <Content {...props} />\n    </DetailPlanningPageContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst InputBoxWrapper = styled.div`\n  display: flex;\n  height: 40px;\n  color: #707070;\n  margin-top: 15px;\n  border-radius: 20px;\n  .input-box__label-box {\n    background: rgba(238, 238, 238, 1);\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    border-radius: 20px 0px 0px 20px;\n    padding-left: 10px;\n  }\n  .input-box__input {\n    background: rgba(238, 238, 238, 1);\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    border-radius: 0px 20px 20px 0px;\n  }\n`;\n\nconst InputBox = ({\n  title, inputType, defaultValue, handleOnChange,\n}) => (\n  <InputBoxWrapper className=\"input-box__input-wrapper\">\n    <div className=\"input-box__label-box\"><span>{title}</span></div>\n    <input type={inputType} defaultValue={defaultValue} className=\"input-box__input\" onChange={handleOnChange} />\n  </InputBoxWrapper>\n);\n\nInputBox.propTypes = {\n  title: PropTypes.string,\n  inputType: PropTypes.string,\n  defaultValue: PropTypes.string,\n  handleOnChange: PropTypes.func,\n};\n\nInputBox.defaultProps = {\n  title: '',\n  inputType: 'text',\n  defaultValue: '',\n  handleOnChange: () => { },\n};\n\nexport default InputBox;\n","import React, { useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Map } from 'immutable';\nimport styled from 'styled-components';\nimport InputBox from 'components/InputBox';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\n\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPageWrapper = styled.div`\n  padding: 0px 15px;\n`;\n\nconst UpdatePlanningPage = ({\n  match,\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const handleOnNameChange = useCallback((event) => {\n    const name = event.target.value;\n    setUpdateProject((updateProject) => updateProject.set('name', name));\n  }, []);\n  const handleOnDateChange = useCallback((event) => {\n    const starDay = event.target.value;\n    setUpdateProject((data) => data.set('start_day', moment(starDay).format('YYYY/MM/DD 00:00:00')));\n  }, []);\n\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    setUpdateProject(Map());\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY-MM-DD'); // defaultValue format must be YYYY-MM-DD\n  return (\n    <UpdatePlanningPageWrapper>\n      <InputBox\n        title=\"旅程名稱\"\n        defaultValue={name}\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        defaultValue={startDay}\n        handleOnChange={handleOnDateChange}\n      />\n    </UpdatePlanningPageWrapper>\n  );\n};\n\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport Context from 'containers/Spotlight/Context';\nimport InputBox from 'components/InputBox';\n\nconst { SpotlightContext } = Context;\n\nconst StyledCreateProjectPage = styled.div`\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n`;\n\nconst CreateProjectPage = () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setNewProject,\n  } = context;\n  const handleOnNameChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('name', currentValue));\n  };\n  const handleOnStartDayChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('start_day', currentValue));\n  };\n  const handleOnDaysChange = (event) => {\n    const currentValue = event.currentTarget.value > 0 ? parseInt(event.currentTarget.value, 10) : 0;\n    setNewProject((newProject) => newProject.set('tot_days', currentValue));\n  };\n  return (\n    <StyledCreateProjectPage>\n      <InputBox\n        title=\"旅程名稱\"\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        handleOnChange={handleOnStartDayChange}\n      />\n      <InputBox\n        title=\"天數\"\n        handleOnChange={handleOnDaysChange}\n      />\n    </StyledCreateProjectPage>\n  );\n};\n\nexport default CreateProjectPage;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n`;\n\nexport const Feature = styled.div`\n  position: relative;\n  padding-top: 175px;\n  margin-bottom: 20px;\n`;\n\nexport const BackButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  left: 15px;\n  top: 20px;\n`;\n\nexport const AddButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  right: 15px;\n  top: 20px;\n`;\n\nexport const FeatureImage = styled.img`\n  position: absolute;\n  top: 0;\n  display: block;\n  height: 205px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const FeatureInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  font-size: 16px;\n  margin: 0 38px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  z-index: 1;\n`;\n\nexport const SpotName = styled.span`\n  color: #333333;\n  font-size: 18px;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: bold;\n`;\n\nexport const Title = styled.div`\n  padding: 0 15px;\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #333333;\n  font-weight: bold;\n`;\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n  color: #AAAAAA;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const LikeButton = styled.i`\n  margin-right: 6px;\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0 0 6px rgba(0, 0, 0, .16);\n  color: #EB715A;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Paragraph = styled.p`\n  padding: 0 15px;\n  margin-bottom: 15px;\n  color: #AAAAAA;\n  line-height: 1.75;\n\n  &:last-child {\n    margin-bottom: 0;\n    padding-bottom: 35px;\n  }\n`;\n","import React, { useEffect, useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport { selectSpotMeta, selectSpots, selectFavoriteSpotIds } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n  fetchFavoriteSpotIds,\n  likeSpot,\n  cancelLikeSpot,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nimport {\n  Feature,\n  FeatureImage,\n  FeatureInfo,\n  Title,\n  LikeButton,\n  Paragraph,\n  SpotName,\n  LikeLabel,\n  Container,\n  BackButton,\n  AddButton,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst SpotPage = ({\n  match,\n  spots,\n  handleFetchSpotById,\n  setSpotMeta,\n  location,\n  handleFetchFavoriteSpotIds,\n  favoriteSpotIds,\n  handleLikeSpot,\n  handleCancelLikeSpot,\n}) => {\n  const { setIsHeaderVisible } = useContext(SpotlightContext);\n  const { spotId } = match.params;\n  const isSpotFavorite = favoriteSpotIds.includes(Number(spotId));\n\n  useEffect(() => {\n    handleFetchSpotById(spotId);\n    handleFetchFavoriteSpotIds();\n    setIsHeaderVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n    };\n  }, []);\n\n  const handleLikeOnClick = useCallback(() => {\n    if (isSpotFavorite) {\n      handleCancelLikeSpot(Number(spotId));\n    } else {\n      handleLikeSpot(Number(spotId));\n    }\n  });\n\n  if (setSpotMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  const spot = spots.get(Number(spotId), Map());\n  if (!spot.size) {\n    return <div>找不到該景點資料</div>;\n  }\n  return (\n    <Container>\n      <Feature>\n        <BackButton to={`/${PAGE_NAME.EXPLORE}`}>\n          <i className=\"fas fa-arrow-left\" />\n        </BackButton>\n        <AddButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT}`}>\n          <i className=\"fas fa-plus\" />\n        </AddButton>\n        <FeatureImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n        <FeatureInfo>\n          <SpotName>{spot.get('name')}</SpotName>\n          <LikeLabel onClick={handleLikeOnClick}>\n            <LikeButton\n              className={`${\n                isSpotFavorite\n                  ? 'fas fa-heart'\n                  : 'far fa-heart'\n              }`}\n            />\n            {spot.get('like_num')}\n          </LikeLabel>\n        </FeatureInfo>\n      </Feature>\n      <Title>景點介紹</Title>\n      <Paragraph>\n        {spot.get('describe')}\n      </Paragraph>\n      <Title>地址</Title>\n      <Paragraph>{spot.get('address')}</Paragraph>\n      <Title>電話</Title>\n      <Paragraph>{spot.get('tel')}</Paragraph>\n      <Title>網址</Title>\n      <Paragraph>\n        <a href={spot.get('website')}>{spot.get('website')}</a>\n      </Paragraph>\n    </Container>\n  );\n};\n\nSpotPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  setSpotMeta: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleCancelLikeSpot: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n  setSpotMeta: selectSpotMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleCancelLikeSpot: (id) => dispatch(cancelLikeSpot(id)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SpotPage));\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Project = styled(Link)`\n  display: block;\n  padding: 12px;\n  border-bottom: solid 1px lightgray;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport { withRouter } from 'react-router';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport { Project } from './Styled';\n\nconst AddSpotToProjectPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  ownProjects,\n  location,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  if (ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  return (\n    <div>\n      <div>\n        {ownProjects.map((project) => (\n          <Project\n            key={project.get('proj_id')}\n            to={`${location.pathname}/${project.get('proj_id')}`}\n          >\n            <div>{project.get('name')}</div>\n            <div>\n              {moment(project.get('start_day'), 'YYYY-MM-DD')\n                .format('YYYY年MM月DD日')\n              }\n              {' - '}\n              {moment(project.get('start_day'), 'YYYY-MM-DD')\n                .add(project.get('tot_days') - 1, 'days')\n                .format('YYYY年MM月DD日')\n              }\n              {' / '}\n              {project.get('tot_days')}\n              天\n            </div>\n          </Project>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPage));\n","import styled from 'styled-components';\n\nexport const ProjectTitle = styled.div`\n  padding: 9px 0;\n  text-align: center;\n  background-color: #bbb;\n`;\n\nexport const Plan = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  border-bottom: solid 1px lightgray;\n`;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjectById,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Context from 'containers/Spotlight/Context';\nimport { ProjectTitle, Plan } from './Styled';\n\nconst DEFAULT_SPOT_DURATION = 60;\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  project,\n  match,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded') && !ownProjectsMeta.get('isLoading')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  const { setUpdateProject } = useContext(SpotlightContext);\n  const [daySelection, setDaySelection] = useState(List());\n\n  useEffect(() => {\n    if (project) {\n      setUpdateProject(project.update('plan', (plan) => plan.map((day, index) => {\n        const { spotId } = match.params;\n        const arrange = day.get('arrange');\n        const isSpotAlreadyArranged = arrange.filter((spotArrange) => spotArrange.get('spot_id') === spotId).size > 0;\n\n        if (!isSpotAlreadyArranged && daySelection.get(index)) {\n          return day.set(\n            'arrange',\n            arrange.push(Map({ spot_id: spotId, during: DEFAULT_SPOT_DURATION })),\n          );\n        }\n        return day;\n      })));\n    }\n\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, [daySelection]);\n\n  if (!ownProjectsMeta.get('isLoaded') || ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  if (!project) {\n    return '沒有這個旅程';\n  }\n\n  return (\n    <div>\n      <ProjectTitle>{project.get('name')}</ProjectTitle>\n      {project.get('plan').map((_plan, index) => (\n        <Plan key={index /* eslint-disable-line react/no-array-index-key */}>\n          {`第${index + 1}天`}\n          <input\n            type=\"checkbox\"\n            checked={daySelection.get(index) || false}\n            onChange={(event) => (\n              setDaySelection(daySelection.set(index, event.currentTarget.checked))\n            )}\n          />\n        </Plan>\n      ))}\n    </div>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  project: PropTypes.instanceOf(Map),\n  match: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ownProjectsMeta: selectOwnProjectsMeta()(state),\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Content/PlanningPage/CreateProjectPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Content/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Content/AddSpotToProjectPlanPage';\n\nexport const routePathConfig = {\n  loginPagePath: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING}/:projectId`,\n  createProjectPagePath: `/${PAGE_NAME.CREATE_PROJECT}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE}/:spotId`,\n  addSpotToProjectPagePath: `/${PAGE_NAME.EXPLORE}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT}`,\n  addSpotToProjectPlanPagePath: `/${PAGE_NAME.EXPLORE}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT}/:projectId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport LoginPage from 'containers/Spotlight/Header/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Header/PlanningPage/CreateProjectPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Header/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Header/AddSpotToProjectPlanPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: ${(props) => props.theme.mainColor};\n  font-weight: 600;\n  color: rgba(51, 51, 51, 1);\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n    background-image: url(${(props) => props.iconPath.normal});\n    background-size: cover;\n    &:hover {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n    &:active {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    title,\n    iconPath,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  };\n\n  return (\n    <NavTabWrapper iconPath={iconPath} data-page-path={title} onClick={handleRedirect}>\n      <div className=\"nav-tab__image\" />\n      <div>{title}</div>\n    </NavTabWrapper>\n  );\n};\n\nNavTab.propTypes = {\n  title: PropTypes.string.isRequired,\n  iconPath: PropTypes.object.isRequired,\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\nimport {\n  NavIcon,\n} from 'containers/Spotlight/constants';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.16);\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab title={PAGE_NAME.EXPLORE} iconPath={NavIcon.explore} />\n    <NavTab title={PAGE_NAME.PLANNING} iconPath={NavIcon.planning} />\n    <NavTab title={PAGE_NAME.TRAVEL_WALL} iconPath={NavIcon.travelWall} />\n    <NavTab title={PAGE_NAME.PERSONAL_PAGE} iconPath={NavIcon.personal} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  ${(props) => (`\n    grid-template-rows:\n      ${props.isHeaderVisible ? HEIGHT_HEADER : 0}px\n      auto\n      ${props.isNavVisible ? HEIGHT_NAVIGATION : 0}px\n    ;\n  `)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    display: flex;\n    justify-content: center;\n    position: relative;\n    z-index: 1;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchLoginStatus,\n} from './actions';\nimport {\n  selectLoginStatusMeta,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  handleFetchLoginStatus,\n  loginStatusMeta,\n}) => {\n  useEffect(() => {\n    if (!loginStatusMeta.get('isLoading')) {\n      handleFetchLoginStatus();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible, isHeaderVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible} isHeaderVisible={isHeaderVisible}>\n              {\n                isHeaderVisible &&\n                <div className=\"spot-light__header-container\">\n                  <Header />\n                </div>\n              }\n              <div className=\"spot-light__content-container\">\n                {\n                  (loginStatusMeta.get('isLoading'))\n                    ? <Spinner />\n                    : <Content />\n                }\n              </div>\n              {\n                isNavVisible &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  handleFetchLoginStatus: PropTypes.func.isRequired,\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nSpotlight.defaultProps = {\n};\n\nconst mapStateToProps = createStructuredSelector({\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchLoginStatus: () => dispatch(fetchLoginStatus()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Spotlight));\n","import React from 'react';\nimport { Router } from 'react-router';\nimport Spotlight from 'containers/Spotlight/';\nimport history from './utils/history';\nimport './App.css';\n\nconst App = () => (\n  <Router history={history}>\n    <Spotlight />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport store from 'store';\nimport { defaultTheme } from 'Styled/Settings/colors';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={defaultTheme}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}