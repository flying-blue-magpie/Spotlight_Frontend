{"version":3,"sources":["assets/arrow_left_icon.svg","assets/map_plus_icon.svg","assets/NavIcons/planning_icon.svg","assets/NavIcons/planning_icon_hover.svg","assets/NavIcons/explore_icon.svg","assets/NavIcons/explore_icon_hover.svg","assets/NavIcons/travel_wall_icon.svg","assets/NavIcons/travel_wall_icon_hover.svg","assets/NavIcons/personal_icon.svg","assets/NavIcons/personal_icon_hover.svg","assets/upload_travel_wall_icon.svg","assets/arrow_right_icon.svg","assets/check_icon.svg","containers/Spotlight/Content/LoginPage/key.svg","assets/trash_icon.svg","assets/edit_day_icon.svg","assets/arrow_left_grey_icon.svg","assets/red_heart_circle_icon.svg","assets/check_circle_icon.svg","Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","utils/requests.js","config.js","utils/query-string.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","Styled/Settings/colors.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/ExplorePage/index.js","utils/event.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PersonalPage/SettingPage/index.js","containers/Spotlight/Header/PersonalPage/SettingPage/SettingInfoPage/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Header/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Header/PlanningPage/AddSpotToPlanPage/index.js","containers/Spotlight/Header/PlanningPage/SettingSpotCardPage/index.js","containers/Spotlight/Header/SpotPage/index.js","containers/Spotlight/Header/AddSpotToProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Content/LoginPage/Styled.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/Styled.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/index.js","containers/Spotlight/Content/ExplorePage/reducer.js","containers/Spotlight/Content/ExplorePage/constants.js","containers/Spotlight/Content/ExplorePage/Styled.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","containers/Spotlight/Content/TravelWallPage/components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/index.js","containers/Spotlight/Content/PersonalPage/Information/Favicon/index.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/ProjectCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/SettingInfoPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","components/Modal/index.js","components/TimePicker/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTimeInfo/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotOperationBtn/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","components/InputBox/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage/LikedSpotCard/index.js","containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage/index.js","containers/Spotlight/Content/PlanningPage/SettingSpotCardPage/index.js","containers/Spotlight/Content/SpotPage/Styled.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/AddSpotToProjectPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPage/index.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_USER_BY_ID","SET_USER_LOADING","SET_USER_DONE","FETCH_USERS","SET_USERS_LOADING","SET_USERS_DONE","FETCH_USER_STATS","SET_USER_STATS_LOADING","SET_USER_STATS_DONE","FETCH_SPOT_BY_ID","SET_SPOT_LOADING","SET_SPOT_DONE","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","FETCH_PROJECT_BY_ID","SET_PROJECT_LOADING","SET_PROJECT_DONE","FETCH_PROJECTS","SET_PROJECTS_LOADING","SET_PROJECTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","LOGOUT","SET_LOGOUT_LOADING","SET_LOGOUT_DONE","FETCH_LOGIN_STATUS","SET_LOGIN_STATUS_LOADING","SET_LOGIN_STATUS_DONE","REGISTER","SET_REGISTER_LOADING","SET_REGISTER_DONE","EXPLORE_NEXT_SPOT","SET_EXPLORING_SPOT_ID","FETCH_OWN_PROJECTS","SET_OWN_PROJECTS_LOADING","SET_OWN_PROJECTS_DONE","SUBMIT_CREATE_PROJECT","CREATE_PROJECT_LOADING","CREATE_PROJECT_DONE","SUBMIT_UPDATE_PROJECT","UPDATE_PROJECT_LOADING","UPDATE_PROJECT_DONE","SUBMIT_DELETE_PROJECT","DELETE_PROJECT_LOADING","DELETE_PROJECT_DONE","LIKE_SPOT","SET_LIKE_SPOT_DONE","CANCEL_LIKE_SPOT","SET_CANCEL_LIKE_SPOT_DONE","FETCH_FAVORITE_SPOT_IDS","SET_FAVORITE_SPOT_IDS_LOADING","SET_FAVORITE_SPOT_IDS_DONE","ADD_FAVORITE_SPOT_ID","DELETE_FAVORITE_SPOT_ID","FETCH_FAVORITE_PROJECT_IDS","SET_FAVORITE_PROJECT_IDS_LOADING","SET_FAVORITE_PROJECT_IDS_DONE","SET_IS_MODAL_VISIBLE","DEFAULT_PROJECT","name","start_day","tot_days","NavIcon","explore","normal","exploreIconPath","hover","exploreHoverIconPath","planning","planningIconPath","planningHoverIconPath","travelWall","travelWallIconPath","travelWallHoverIconPath","personal","personalIconPath","personalHoverIconPath","WEEKDAYS_SHORT","split","HOURS","MINUTES","initialState","fromJS","setSpotMeta","META","setSpotsMeta","spots","spotsResult","setProjectMeta","setProjectsMeta","projects","projectsResult","loginMeta","logoutMeta","registerMeta","loginStatusMeta","ownProjectsMeta","createProjectMeta","updateProjectMeta","deleteProjectMeta","isModalVisible","user","users","usersResult","setUserMeta","setUsersMeta","setUserStatsMeta","ownProjects","exploringSpotId","setFavoriteSpotIdsMeta","setFavoriteProjectIdsMeta","favoriteSpotIds","favoriteProjectIds","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","mergeDeepIn","user_id","_action$payload2","entities","result","_action$payload3","userId","stats","_action$payload4","spot","spot_id","_action$payload5","_action$payload6","project","proj_id","_action$payload7","_action$payload8","_action$payload9","_action$payload10","_action$payload11","_action$payload12","id","updateIn","likeNum","_action$payload13","_action$payload14","ids","_action$payload15","isVisible","toSet","add","toList","index","indexOf","delete","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","query_string","obj","filter","spotSchema","schema","Entity","idAttribute","spotListSchema","projectSchema","projectListSchema","userSchema","userListSchema","setIsModalVisible","setUserDone","setUsersDone","normalize","setUserStatsDone","fetchSpotById","setSpotDone","setSpotsDone","setProjectDone","setProjectsDone","setLoginDone","setLogoutDone","setRegisterDone","setLoginStatusDone","exploreNextSpot","setExploringSpotId","fetchOwnProjects","setOwnProjectsDone","createProjectDone","submitUpdateProject","projectId","updateProject","updateProjectDone","submitDeleteProject","deleteProjectDone","likeSpot","setLikeSpotDone","setCancelLikeSpotDone","fetchFavoriteSpotIds","setFavoriteSpotIdsDone","setFavoriteProjectIdsDone","getKeywordQueryString","keyword","getZonesQueryString","zones","zone","getSearchSpotQueryString","_ref12","queryString","queryStringSegment","epics","action$","ofType","switchMap","Observable","empty","state$","_ref11","flatMap","content","startWith","_ref","_ref3","_ref4","_ref5","kw","_ref6","_ref7","toQueryString","owner","only_public","onlyPublic","_ref13","_ref14","_ref15","acc","_ref16","_ref8","newProject","message","success","_ref9","toJS","_ref10","_ref17","_ref18","_ref19","row","_ref20","value","get","spotIds","nextSpot","slice","getIn","String","find","includes","store_epics","toConsumableArray","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","SpotlightTheme","mainColor","defaultTheme","StyledSpinner","styled","div","_templateObject","props","height","Spinner","react_default","a","createElement","className","defaultProps","selectSpotlight","selectUsers","createSelector","spotlightState","selectSpots","selectUser","selectLoginStatusMeta","selectOwnProjects","selectOwnProjectsMeta","selectOwnProjectById","Number","selectFavoriteSpotIdsMeta","selectFavoriteSpotIds","selectIsModalVisible","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","children","_useState","useState","_useState2","slicedToArray","isNavVisible","setIsNavVisible","_useState3","_useState4","isHeaderVisible","setIsHeaderVisible","_useState5","_useState6","setNewProject","_useState7","_useState8","isEditMode","setIsEditMode","_useState9","Map","_useState10","setUpdateProject","_useState11","_useState12","selectedLikedSpotId","setSelectedLikedSpotId","useSelection","Context","SpotlightConsumer","PAGE_NAME","EXPLORE","text","PLANNING","TRAVEL_WALL","PERSONAL_PAGE","SETTING","SETTING_INFO","DETAIL_PLANNING","UPDATE_PLANNING","CREATE_PROJECT","ADD_SPOT_TO_PLAN","SETTING_SPOT_CARD","ADD_SPOT_TO_PROJECT","mixinWidthWrapper","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","HeaderTitle","_templateObject2","HeaderLeftButtons","_templateObject3","HeaderRightButtons","_templateObject4","HeaderLinkButton","Link","_templateObject5","HeaderButton","button","_templateObject6","withRouter","location","menu","search","to","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Header_PlanningPage","context","useContext","handleToCreateProject","useCallback","path","push","handleEditModeOn","handleEditModeOff","useEffect","role","onClick","data-redirect-path","Header_TravelWallPage","Header_PersonalPage","handleGoToSetting","PersonalPage_SettingPage","handleGoBackToPlanning","SettingPage_SettingInfoPage","DetailPlanningPage","handleGoToUpdatePlanning","day","URLSearchParams","window","match","pathname","src","uploadTravelWallIconPath","alt","UpdatePlanningPage","handleSubmitUpdateProject","handleGoBackToDetailPlanning","handleOnCheckBtn","mapStateToProps","createStructuredSelector","connect","dispatch","CreateProjectPage","handleSubmitCreateProject","startDay","moment","format","days","submitCreateProject","AddSpotToPlanPage","settingSpotCardPagePath","warning","arrowLeftIconPath","arrowRightIconPath","SettingSpotCardPage","afterIndex","elapsedTime","spotId","plan","handleOnGoBack","goBack","handleOnCheck","time","during","parseInt","updatedPlan","arrange","newSpotCard","updatedArrange","size","splice","detailPlanningPagePath","checkIconPath","ownProps","updatedProject","_useContext","handleOnCheckClick","Container","LoginPage_Styled_templateObject","UserNameContainer","Styled_templateObject2","UserName","input","Styled_templateObject3","PassWordContainer","Styled_templateObject4","PasswordIcon","img","Styled_templateObject5","PassWord","Styled_templateObject6","LoginButton","_templateObject7","RegisterRow","_templateObject8","RegisterLink","_templateObject9","ErrorMessage","_templateObject10","Logo","_templateObject11","Login","usernameRef","createRef","passwordRef","ref","placeholder","keyIcon","handleSubmitLogin","current","pwd","href","handleSubmitRegister","_ref4$acc","_ref4$pwd","login","_ref5$acc","_ref5$pwd","register","ZoneMenu_Styled_templateObject","Region","ZoneMenu_Styled_templateObject2","ZoneLabel","label","ZoneMenu_Styled_templateObject3","ZoneMenu","zonesState","regions","Styled_Container","region","Fragment","onChange","zoneState","checked","zoneReducer","setIn","基隆市","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","南投縣","臺中市","彰化縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣","連江縣","金門縣","澎湖縣","ExplorePage_Styled_templateObject","Card","ExplorePage_Styled_templateObject2","CardImage","ExplorePage_Styled_templateObject3","CardInfo","ExplorePage_Styled_templateObject4","SpotName","span","ExplorePage_Styled_templateObject5","SpotLikes","ExplorePage_Styled_templateObject6","ButtonRow","Styled_templateObject7","Button","Styled_templateObject8","ButtonCrossIcon","i","Styled_templateObject9","ButtonHeartIcon","Styled_templateObject10","ButtonLabel","Styled_templateObject11","CardRow","_templateObject12","SearchRow","_templateObject13","SearchBar","_templateObject14","SelectCountyButton","_templateObject15","SearchInputContainer","_templateObject16","SearchInput","_templateObject17","ZonesRow","_templateObject18","_templateObject19","ZoneLabelCrossIcon","_templateObject20","favoriteSpotIdsMeta","handleSwipeLeft","createHandleSwipeRight","handleFetchSpots","_ref2$zones","_ref2$kw","fetchSpots","handleFetchFavoriteSpotIds","_useReducer","useReducer","zonesData","_useReducer2","selectedZones","setKeyword","ExplorePage_ZoneMenu","ExplorePage_Styled_Container","onKeyUp","blur","Styled_ZoneLabel","components_Spinner","react_router_dom","confirm","Modal","ProjectCard_templateObject","ProjectCard","handleDeleteProject","endDay","handleOnClick","handleOnDeleteProject","projId","title","okText","okType","onOk","ProjectCard_Container","data-project-id","trashIconPath","PlanningPage_templateObject","PlanningPage","handleFetchOwnProjects","isLoaded","isLoading","PlanningPage_Container","components_ProjectCard","List","StyledTravelCard","TravelCard_templateObject","imagePath","TravelCard","StyledTravelWallPage","TravelWallPage_templateObject","TravelWallPage","cards","fill","x","card","components_TravelCard","Favicon","Information","collectedProjectsCount","collectedSpotsCount","projectsLikedCount","publishedProjectsCount","Information_Favicon","isActiveStyle","isActive","CollectionTabs","activeCollectionType","data-collection-type","StyledSpotCard","SpotCard_templateObject","data-id","StyledSpotCollection","SpotCollection_templateObject","SpotCollection_SpotCard","StyledProjectCard","ProjectCollection_ProjectCard_templateObject","faviconPath","fetchUserById","fetchProjectById","ownerId","userName","StyledProjectCollection","ProjectCollection_templateObject","ProjectCollection_ProjectCard","CollectionContent","handleOnCardClick","redirectPath","CollectionContent_ProjectCollection","CollectionContent_SpotCollection","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","faviconSize","favoriteProjectIdsMeta","fetchFavoriteProjectIds","fetchUserStats","setActiveCollectionType","isAnonymous","react_router","routePathConfig","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","StyledFaviBanner","styles_templateObject","FaviBanner","StyledSettingPage","SettingPage_styles_templateObject","logout","SettingPage_FaviBanner","SettingInfoPage","TabWrapper","Tab_templateObject","theme","Tab","currentDay","toString","DateTabsContainer","DateTabs_templateObject","DateTabs","tabs","tab","DateTabs_Tab","assign","editDayIcon","fade","keyframes","Modal_templateObject","heightGrowingAnimation","Modal_templateObject2","ModalWrapper","Modal_templateObject3","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","hasModalRoot","document","getElementById","el","setAttribute","style","position","top","width","zIndex","display","appendChild","modalRootEl","removeChild","isHeightGrowing","_this$props","optionStyle","heightGrowing","ReactDOM","createPortal","React","Component","TimePicker_templateObject","TimePickerWrapper","TimePicker_templateObject2","TimePicker","handleHourChange","setState","hourValueGroups","handleMinuteChange","minuteValueGroups","handleOnOk","_this$state","hour","minute","startTime","hourOptionGroups","minuteOptionGroups","handleOnCancel","_this$state2","react_mobile_picker_default","valueGroups","optionGroups","modalStyle","bottom","StyledDateTimeInfo","DateTimeInfo_templateObject","DateTimeInfo","handleSetModalVisible","searchParams","date","weekday","handleShowModal","handleHideModal","handleOnPickerCheck","components_Modal","components_TimePicker","SpotOperationBtnContainer","SpotOperationBtn_templateObject","SpotOperationBtn","Content_SpotCard_templateObject","HEIGHT_SPOT_CARD","SpotCard","spotIndexInfo","handleFetchSpotById","SpotCard_StyledSpotCard","StyledContent","Content_templateObject","SpotOperator","Content_templateObject2","Content","handleGoToAddSpot","insertAfterIndex","addSpotToPlanPagePath","data-index","mapPlusIconPath","arrowLeftGreyIconPath","Boolean","lib_default","dataSource","Content_SpotCard","handles","rowClassName","onUpdate","Content_SpotOperationBtn","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","ownProject","DetailPlanningPage_DateTabs","DetailPlanningPage_DateTimeInfo","DetailPlanningPage_Content","InputBoxWrapper","InputBox_templateObject","InputBox","inputType","defaultValue","handleOnChange","UpdatePlanningPageWrapper","UpdatePlanningPage_templateObject","handleOnNameChange","handleOnDateChange","starDay","components_InputBox","StyledCreateProjectPage","CreateProjectPage_templateObject","currentValue","LikedSpotCardContainer","LikedSpotCard_templateObject","LikedSpotCard","foundSpotDetail","handleSelectLikedSpot","showMask","min","max","pics","pic","original","thumbnail","build_image_gallery_default","items","showThumbnails","showFullscreenButton","showPlayButton","showNav","autoPlay","slideInterval","Math","floor","random","redHeartCircleIconPath","checkCircleIconPath","AddSpotToPlanPageContainer","AddSpotToPlanPage_templateObject","AddSpotToPlanPage_LikedSpotCard","SettingSpotCardPageContainer","SettingSpotCardPage_templateObject","TimePickerInput","SettingSpotCardPage_templateObject2","SpotPage_Styled_templateObject","Feature","SpotPage_Styled_templateObject2","BackButton","SpotPage_Styled_templateObject3","AddButton","SpotPage_Styled_templateObject4","FeatureImage","SpotPage_Styled_templateObject5","FeatureInfo","SpotPage_Styled_templateObject6","SpotPage_Styled_templateObject7","Title","SpotPage_Styled_templateObject8","LikeLabel","SpotPage_Styled_templateObject9","LikeButton","SpotPage_Styled_templateObject10","Paragraph","SpotPage_Styled_templateObject11","handleLikeSpot","handleCancelLikeSpot","cancelLikeSpot","isSpotFavorite","handleLikeOnClick","SpotPage_Styled_Container","Styled_SpotName","AddSpotToProjectPage_Styled_templateObject","Project","AddSpotToProjectPage_Styled_templateObject2","ProjectName","AddSpotToProjectPage_Styled_templateObject3","ProjectDate","AddSpotToProjectPage_Styled_templateObject4","CreateProjectButton","AddSpotToProjectPage_Styled_templateObject5","AddIcon","AddSpotToProjectPage_Styled_templateObject6","AddSpotToProjectPage_Styled_Container","AddSpotToProjectPlanPage_Styled_templateObject","ProjectTitle","AddSpotToProjectPlanPage_Styled_templateObject2","Plan","AddSpotToProjectPlanPage_Styled_templateObject3","daySelection","setDaySelection","spotArrange","AddSpotToProjectPlanPage_Styled_Container","_plan","loginPagePath","explorePagePath","planningPagePath","travelWallPagePath","settingPath","settingInfoPath","updatePlanningPagePath","createProjectPagePath","spotPagePath","addSpotToProjectPagePath","addSpotToProjectPlanPagePath","Routes","exact","component","LoginPage","ExplorePage","PersonalPage","SettingPage","SpotPage","AddSpotToProjectPage","AddSpotToProjectPlanPage","Header_Routes","Header_templateObject","Header","Header_HeaderContainer","ContentContainer","Spotlight_Content_templateObject","setNavTabActive","NavTabWrapper","NavTab_templateObject","iconPath","NavTab","page","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchLoginStatus","Spotlight_SpotlightProvider","Spotlight_Header","Spotlight_Content","Spotlight_Navigation","App","containers_Spotlight","hostname","render","es","styled_components_browser_esm","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b56896ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/arrow_left_icon.dbcf3f98.svg\";","module.exports = __webpack_public_path__ + \"static/media/map_plus_icon.9917e007.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon.3f20bcf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon_hover.227d029b.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon.7ee67c0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon_hover.bdbf1daf.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon.f266c270.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon_hover.8af82dd9.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon.88417814.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon_hover.55279ab9.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload_travel_wall_icon.ebe53160.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right_icon.d2c8547e.svg\";","module.exports = __webpack_public_path__ + \"static/media/check_icon.8abe62d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/key.acf86010.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash_icon.9cc5960c.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit_day_icon.d93c390b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_left_grey_icon.695ac806.svg\";","module.exports = __webpack_public_path__ + \"static/media/red_heart_circle_icon.356aab5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/check_circle_icon.2d19e090.svg\";","export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","import planningIconPath from 'assets/NavIcons/planning_icon.svg';\nimport planningHoverIconPath from 'assets/NavIcons/planning_icon_hover.svg';\n\nimport exploreIconPath from 'assets/NavIcons/explore_icon.svg';\nimport exploreHoverIconPath from 'assets/NavIcons/explore_icon_hover.svg';\n\nimport travelWallIconPath from 'assets/NavIcons/travel_wall_icon.svg';\nimport travelWallHoverIconPath from 'assets/NavIcons/travel_wall_icon_hover.svg';\n\nimport personalIconPath from 'assets/NavIcons/personal_icon.svg';\nimport personalHoverIconPath from 'assets/NavIcons/personal_icon_hover.svg';\n\n\nexport const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_USER_BY_ID = `${KEY_REDUCER}/FETCH_USER_BY_ID`;\nexport const SET_USER_LOADING = `${KEY_REDUCER}/SET_USER_LOADING`;\nexport const SET_USER_DONE = `${KEY_REDUCER}/SET_USER_DONE`;\n\nexport const FETCH_USERS = `${KEY_REDUCER}/FETCH_USERS`;\nexport const SET_USERS_LOADING = `${KEY_REDUCER}/SET_USERS_LOADING`;\nexport const SET_USERS_DONE = `${KEY_REDUCER}/SET_USERS_DONE`;\n\nexport const FETCH_USER_STATS = `${KEY_REDUCER}/FETCH_USER_STATS`;\nexport const SET_USER_STATS_LOADING = `${KEY_REDUCER}/SET_USER_STATS_LOADING`;\nexport const SET_USER_STATS_DONE = `${KEY_REDUCER}/SET_USER_STATS_DONE`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const FETCH_PROJECT_BY_ID = `${KEY_REDUCER}/FETCH_PROJECT_BY_ID`;\nexport const SET_PROJECT_LOADING = `${KEY_REDUCER}/SET_PROJECT_LOADING`;\nexport const SET_PROJECT_DONE = `${KEY_REDUCER}/SET_PROJECT_DONE`;\n\nexport const FETCH_PROJECTS = `${KEY_REDUCER}/FETCH_PROJECTS`;\nexport const SET_PROJECTS_LOADING = `${KEY_REDUCER}/SET_PROJECTS_LOADING`;\nexport const SET_PROJECTS_DONE = `${KEY_REDUCER}/SET_PROJECTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const LOGOUT = `${KEY_REDUCER}/LOGOUT`;\nexport const SET_LOGOUT_LOADING = `${KEY_REDUCER}/SET_LOGOUT_LOADING`;\nexport const SET_LOGOUT_DONE = `${KEY_REDUCER}/SET_LOGOUT_DONE`;\n\nexport const FETCH_LOGIN_STATUS = `${KEY_REDUCER}/FETCH_LOGIN_STATUS`;\nexport const SET_LOGIN_STATUS_LOADING = `${KEY_REDUCER}/SET_LOGIN_STATUS_LOADING`;\nexport const SET_LOGIN_STATUS_DONE = `${KEY_REDUCER}/SET_LOGIN_STATUS_DONE`;\n\nexport const REGISTER = `${KEY_REDUCER}/REGISTER`;\nexport const SET_REGISTER_LOADING = `${KEY_REDUCER}/SET_REGISTER_LOADING`;\nexport const SET_REGISTER_DONE = `${KEY_REDUCER}/SET_REGISTER_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\nexport const SET_EXPLORING_SPOT_ID = `${KEY_REDUCER}/SET_EXPLORING_SPOT_ID`;\n\nexport const FETCH_OWN_PROJECTS = `${KEY_REDUCER}/FETCH_OWN_PROJECTS`;\nexport const SET_OWN_PROJECTS_LOADING = `${KEY_REDUCER}/SET_OWN_PROJECTS_LOADING`;\nexport const SET_OWN_PROJECTS_DONE = `${KEY_REDUCER}/SET_OWN_PROJECTS_DONE`;\n\nexport const SUBMIT_CREATE_PROJECT = `${KEY_REDUCER}/SUBMIT_CREATE_PROJECT`;\nexport const CREATE_PROJECT_LOADING = `${KEY_REDUCER}/CREATE_PROJECT_LOADING`;\nexport const CREATE_PROJECT_DONE = `${KEY_REDUCER}/CREATE_PROJECT_DONE`;\n\nexport const SUBMIT_UPDATE_PROJECT = `${KEY_REDUCER}/SUBMIT_UPDATE_PROJECT`;\nexport const UPDATE_PROJECT_LOADING = `${KEY_REDUCER}/UPDATE_PROJECT_LOADING`;\nexport const UPDATE_PROJECT_DONE = `${KEY_REDUCER}/UPDATE_PROJECT_DONE`;\n\nexport const SUBMIT_DELETE_PROJECT = `${KEY_REDUCER}/SUBMIT_DELETE_PROJECT`;\nexport const DELETE_PROJECT_LOADING = `${KEY_REDUCER}/DELETE_PROJECT_LOADING`;\nexport const DELETE_PROJECT_DONE = `${KEY_REDUCER}/DELETE_PROJECT_DONE`;\n\nexport const LIKE_SPOT = `${KEY_REDUCER}/LIKE_SPOT`;\nexport const SET_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_LIKE_SPOT_DONE`;\n\nexport const CANCEL_LIKE_SPOT = `${KEY_REDUCER}/CANCEL_LIKE_SPOT`;\nexport const SET_CANCEL_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_SPOT_DONE`;\n\nexport const FETCH_FAVORITE_SPOT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_SPOT_IDS`;\nexport const SET_FAVORITE_SPOT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_LOADING`;\nexport const SET_FAVORITE_SPOT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_DONE`;\n\nexport const ADD_FAVORITE_SPOT_ID = `${KEY_REDUCER}/ADD_FAVORITE_SPOT_ID`;\nexport const DELETE_FAVORITE_SPOT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_SPOT_ID`;\n\nexport const FETCH_FAVORITE_PROJECT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_PROJECT_IDS`;\nexport const SET_FAVORITE_PROJECT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_LOADING`;\nexport const SET_FAVORITE_PROJECT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_DONE`;\n\nexport const SET_IS_MODAL_VISIBLE = `${KEY_REDUCER}/SET_IS_MODAL_VISIBLE`;\n\nexport const DEFAULT_PROJECT = {\n  name: '',\n  start_day: '', // format: 2018/12/01 00:00:00\n  tot_days: 0,\n};\n\nexport const DEFAULT_PLAN = {\n  start_time: '08:00:00', // format: 08:00:00\n  arrange: [],\n};\n\nexport const DEFAULT_ARRANGE = {\n  spot_id: null,\n  during: 0,\n};\n\nexport const NavIcon = {\n  explore: {\n    normal: exploreIconPath,\n    hover: exploreHoverIconPath,\n  },\n  planning: {\n    normal: planningIconPath,\n    hover: planningHoverIconPath,\n  },\n  travelWall: {\n    normal: travelWallIconPath,\n    hover: travelWallHoverIconPath,\n  },\n  personal: {\n    normal: personalIconPath,\n    hover: personalHoverIconPath,\n  },\n};\n\nexport const WEEKDAYS = '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_');\nexport const WEEKDAYS_SHORT = '週日_週一_週二_週三_週四_週五_週六'.split('_');\n\nexport const HOURS = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '21', '22', '23',\n];\n\nexport const MINUTES = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '22', '22', '23', '24', '25', '26', '27', '28', '29',\n  '30', '33', '32', '33', '34', '35', '36', '37', '38', '39',\n  '40', '44', '42', '43', '44', '45', '46', '47', '48', '49',\n  '50', '55', '52', '53', '54', '55', '56', '57', '58', '59',\n];\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  SET_REGISTER_LOADING,\n  SET_REGISTER_DONE,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  SET_USER_STATS_LOADING,\n  SET_USER_STATS_DONE,\n\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n  SET_LIKE_SPOT_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  SET_CANCEL_LIKE_SPOT_DONE,\n} from './constants';\n\nconst initialState = fromJS({\n  setSpotMeta: META,\n  setSpotsMeta: META,\n  spots: {},\n  spotsResult: [],\n\n  setProjectMeta: META,\n  setProjectsMeta: META,\n  projects: {},\n  projectsResult: [],\n\n  loginMeta: META,\n  logoutMeta: META,\n  registerMeta: META,\n  loginStatusMeta: META,\n  ownProjectsMeta: META,\n  createProjectMeta: META,\n  updateProjectMeta: META,\n  deleteProjectMeta: META,\n\n  // modal\n  isModalVisible: false,\n\n  user: null,\n  users: {},\n  usersResult: [],\n  setUserMeta: META,\n  setUsersMeta: META,\n  setUserStatsMeta: META,\n  ownProjects: [],\n  exploringSpotId: 0,\n  setFavoriteSpotIdsMeta: META,\n  setFavoriteProjectIdsMeta: META,\n  favoriteSpotIds: [],\n  favoriteProjectIds: [],\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER_LOADING:\n      return state.update('setUserMeta', updateMetaLoading);\n\n    case SET_USER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setUserMeta', updateMetaError);\n      }\n      if (!user) { // handle user is undefined\n        return state.update('setUserMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['users', user.user_id], fromJS(user))\n        .update('setUserMeta', updateMetaDone);\n    }\n\n    case SET_USERS_LOADING:\n      return state\n        .update('setUsersMeta', updateMetaLoading);\n\n    case SET_USERS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setUsersMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users'], fromJS(entities.users))\n        .set('usersResult', fromJS(result))\n        .update('setUsersMeta', updateMetaDone)\n        .set('exploringUserId', result[0]);\n    }\n\n    case SET_USER_STATS_LOADING:\n      return state\n        .update('setUserStatsMeta', updateMetaLoading);\n\n    case SET_USER_STATS_DONE: {\n      const {\n        error,\n        userId,\n        stats,\n      } = action.payload;\n      if (error) {\n        return state.update('setUserStatsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users', userId], fromJS({ stats }))\n        .update('setUserStatsMeta', updateMetaDone);\n    }\n\n    case SET_SPOT_LOADING:\n      return state.update('setSpotMeta', updateMetaLoading);\n\n    case SET_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setSpotMeta', updateMetaError);\n      }\n      if (!spot) { // handle spot is undefined\n        return state.update('setSpotMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['spots', spot.spot_id], fromJS(spot))\n        .update('setSpotMeta', updateMetaDone);\n    }\n\n    case SET_SPOTS_LOADING:\n      return state\n        .update('setSpotsMeta', updateMetaLoading);\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .set('spotsResult', fromJS(result))\n        .update('setSpotsMeta', updateMetaDone)\n        .set('exploringSpotId', result[0]);\n    }\n\n    case SET_PROJECT_LOADING:\n      return state.update('setProjectMeta', updateMetaLoading);\n\n    case SET_PROJECT_DONE: {\n      const {\n        error,\n        project,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setProjectMeta', updateMetaError);\n      }\n      if (!project) { // handle project is undefined\n        return state.update('setProjectMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['projects', project.proj_id], fromJS(project))\n        .update('setProjectMeta', updateMetaDone);\n    }\n\n    case SET_PROJECTS_LOADING:\n      return state\n        .update('setProjectsMeta', updateMetaLoading);\n\n    case SET_PROJECTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setProjectsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['projects'], fromJS(entities.projects))\n        .set('projectsResult', fromJS(result))\n        .update('setProjectsMeta', updateMetaDone)\n        .set('exploringProjectId', result[0]);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGOUT_LOADING:\n      return state.update('logoutMeta', updateMetaLoading);\n\n    case SET_LOGOUT_DONE: {\n      const { error } = action.payload;\n      if (error) {\n        return state.update('logoutMeta', updateMetaError);\n      }\n      return state\n        .set('user', null)\n        .update('logoutMeta', updateMetaDone);\n    }\n\n    case SET_REGISTER_LOADING:\n      return state.update('registerMeta', updateMetaLoading);\n\n    case SET_REGISTER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('registerMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('registerMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGIN_STATUS_LOADING:\n      return state.update('loginStatusMeta', updateMetaLoading);\n\n    case SET_LOGIN_STATUS_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginStatusMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginStatusMeta', updateMetaDone);\n    }\n\n    case SET_EXPLORING_SPOT_ID:\n      return state.set('exploringSpotId', action.payload);\n\n    case SET_OWN_PROJECTS_LOADING:\n      return state.update('ownProjectsMeta', updateMetaLoading);\n\n    case SET_OWN_PROJECTS_DONE: {\n      const {\n        error,\n        ownProjects,\n      } = action.payload;\n      if (error) {\n        return state.update('ownProjectsMeta', updateMetaError);\n      }\n      return state\n        .set('ownProjects', fromJS(ownProjects))\n        .update('ownProjectsMeta', updateMetaDone);\n    }\n\n    // create project\n    case CREATE_PROJECT_LOADING:\n      return state.update('createProjectMeta', updateMetaLoading);\n\n    case CREATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('createProjectMeta', updateMetaError);\n      }\n      return state\n        .update('createProjectMeta', updateMetaDone);\n    }\n\n    // update project\n    case UPDATE_PROJECT_LOADING:\n      return state.update('updateProjectMeta', updateMetaLoading);\n\n    case UPDATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('updateProjectMeta', updateMetaError);\n      }\n      return state\n        .update('updateProjectMeta', updateMetaDone)\n        .set('isModalVisible', false);\n    }\n\n    // delete project\n    case DELETE_PROJECT_LOADING:\n      return state.update('deleteProjectMeta', updateMetaLoading);\n\n    case DELETE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('deleteProjectMeta', updateMetaError);\n      }\n      return state\n        .update('deleteProjectMeta', updateMetaDone);\n    }\n\n    case SET_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['spots', id, 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['spots', id, 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_FAVORITE_SPOT_IDS_LOADING:\n      return state.update('setFavoriteSpotIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_SPOT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteSpotIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteSpotIds', fromJS(ids))\n        .update('setFavoriteSpotIdsMeta', updateMetaDone);\n    }\n\n    case SET_FAVORITE_PROJECT_IDS_LOADING:\n      return state.update('setFavoriteProjectIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_PROJECT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteProjectIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteProjectIds', fromJS(ids))\n        .update('setFavoriteProjectIdsMeta', updateMetaDone);\n    }\n\n    // modal\n    case SET_IS_MODAL_VISIBLE: {\n      const {\n        isVisible,\n      } = action.payload;\n      return state.set('isModalVisible', isVisible);\n    }\n\n    case ADD_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","export const API_URI = '/api';\nexport const ADMIN_API_URI = API_URI;\n","export default (obj) => {\n  if (typeof obj !== 'object' || obj === null) {\n    throw Error('input should be an object.');\n  }\n\n  return Object.keys(obj)\n    .filter((key) => obj[key] !== null && typeof obj[key] !== 'undefined')\n    .map((key) => (\n      `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`\n    ))\n    .join('&');\n};\n","import { schema, normalize } from 'normalizr';\nimport {\n  FETCH_SPOT_BY_ID,\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  LOGOUT,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  REGISTER,\n  SET_REGISTER_DONE,\n  SET_REGISTER_LOADING,\n  EXPLORE_NEXT_SPOT,\n  FETCH_LOGIN_STATUS,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  FETCH_OWN_PROJECTS,\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  SUBMIT_CREATE_PROJECT,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  SUBMIT_UPDATE_PROJECT,\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  SUBMIT_DELETE_PROJECT,\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  CANCEL_LIKE_SPOT,\n  SET_CANCEL_LIKE_SPOT_DONE,\n\n  FETCH_PROJECT_BY_ID,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  FETCH_PROJECTS,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n\n  FETCH_FAVORITE_PROJECT_IDS,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n\n  LIKE_SPOT,\n  SET_LIKE_SPOT_DONE,\n  FETCH_FAVORITE_SPOT_IDS,\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  FETCH_USER_BY_ID,\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  FETCH_USERS,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  FETCH_USER_STATS,\n  SET_USER_STATS_LOADING,\n  SET_USER_STATS_DONE,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n} from './constants';\n\nconst spotSchema = new schema.Entity('spots', {}, { idAttribute: 'spot_id' });\nconst spotListSchema = new schema.Array(spotSchema);\n\nconst projectSchema = new schema.Entity('projects', {}, { idAttribute: 'proj_id' });\nconst projectListSchema = new schema.Array(projectSchema);\n\nconst userSchema = new schema.Entity('users', {}, { idAttribute: 'user_id' });\nconst userListSchema = new schema.Array(userSchema);\n\nexport const setIsModalVisible = (isVisible) => ({\n  type: SET_IS_MODAL_VISIBLE,\n  payload: {\n    isVisible,\n  },\n});\n\nexport const fetchUserById = (id) => ({\n  type: FETCH_USER_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserLoading = () => ({\n  type: SET_USER_LOADING,\n});\n\nexport const setUserDone = (error, user) => ({\n  type: SET_USER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchUsers = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_USERS,\n  payload: { zones, kw },\n});\n\nexport const setUsersLoading = () => ({\n  type: SET_USERS_LOADING,\n});\n\nexport const setUsersDone = (error, users) => ({\n  type: SET_USERS_DONE,\n  payload: {\n    error,\n    ...normalize(users, userListSchema),\n  },\n});\n\nexport const fetchUserStats = (id) => ({\n  type: FETCH_USER_STATS,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserStatsLoading = () => ({\n  type: SET_USER_STATS_LOADING,\n});\n\nexport const setUserStatsDone = (error, stats, id) => ({\n  type: SET_USER_STATS_DONE,\n  payload: {\n    error,\n    stats,\n    userId: id,\n  },\n});\n\nexport const fetchSpotById = (id) => ({\n  type: FETCH_SPOT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setSpotLoading = () => ({\n  type: SET_SPOT_LOADING,\n});\n\nexport const setSpotDone = (error, spot) => ({\n  type: SET_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const fetchProjectById = (id) => ({\n  type: FETCH_PROJECT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setProjectLoading = () => ({\n  type: SET_PROJECT_LOADING,\n});\n\nexport const setProjectDone = (error, project) => ({\n  type: SET_PROJECT_DONE,\n  payload: {\n    error,\n    project,\n  },\n});\n\nexport const fetchProjects = ({ owner, onlyPublic } = {}) => ({\n  type: FETCH_PROJECTS,\n  payload: { owner, onlyPublic },\n});\n\nexport const setProjectsLoading = () => ({\n  type: SET_PROJECTS_LOADING,\n});\n\nexport const setProjectsDone = (error, projects) => ({\n  type: SET_PROJECTS_DONE,\n  payload: {\n    error,\n    ...normalize(projects, projectListSchema),\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const logout = () => ({\n  type: LOGOUT,\n});\n\nexport const setLogoutLoading = () => ({\n  type: SET_LOGOUT_LOADING,\n});\n\nexport const setLogoutDone = (error) => ({\n  type: SET_LOGOUT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const register = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: REGISTER,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setRegisterLoading = () => ({\n  type: SET_REGISTER_LOADING,\n});\n\nexport const setRegisterDone = (error, user) => ({\n  type: SET_REGISTER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchLoginStatus = () => ({\n  type: FETCH_LOGIN_STATUS,\n});\n\nexport const setLoginStatusLoading = () => ({\n  type: SET_LOGIN_STATUS_LOADING,\n});\n\nexport const setLoginStatusDone = (error, user) => ({\n  type: SET_LOGIN_STATUS_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n\nexport const setExploringSpotId = (id) => ({\n  type: SET_EXPLORING_SPOT_ID,\n  payload: id,\n});\n\n// fetch own project\nexport const fetchOwnProjects = () => ({\n  type: FETCH_OWN_PROJECTS,\n});\n\nexport const setOwnProjectsLoading = () => ({\n  type: SET_OWN_PROJECTS_LOADING,\n});\n\nexport const setOwnProjectsDone = (error, ownProjects) => ({\n  type: SET_OWN_PROJECTS_DONE,\n  payload: {\n    error,\n    ownProjects,\n  },\n});\n\n// create project\nexport const submitCreateProject = (newProject) => ({\n  type: SUBMIT_CREATE_PROJECT,\n  payload: {\n    newProject,\n  },\n});\n\nexport const createProjectLoading = () => ({\n  type: CREATE_PROJECT_LOADING,\n});\n\nexport const createProjectDone = (error, user) => ({\n  type: CREATE_PROJECT_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\n// update project\nexport const submitUpdateProject = (projectId, updateProject) => ({\n  type: SUBMIT_UPDATE_PROJECT,\n  payload: {\n    projectId,\n    updateProject,\n  },\n});\n\nexport const updateProjectLoading = () => ({\n  type: UPDATE_PROJECT_LOADING,\n});\n\nexport const updateProjectDone = (error) => ({\n  type: UPDATE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\n// delete project\nexport const submitDeleteProject = (projectId) => ({\n  type: SUBMIT_DELETE_PROJECT,\n  payload: {\n    projectId,\n  },\n});\n\nexport const deleteProjectLoading = () => ({\n  type: DELETE_PROJECT_LOADING,\n});\n\nexport const deleteProjectDone = (error) => ({\n  type: DELETE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const likeSpot = (id) => ({\n  type: LIKE_SPOT,\n  payload: id,\n});\n\nexport const setLikeSpotDone = (error, id) => ({\n  type: SET_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeSpot = (id) => ({\n  type: CANCEL_LIKE_SPOT,\n  payload: id,\n});\n\nexport const setCancelLikeSpotDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const fetchFavoriteSpotIds = () => ({\n  type: FETCH_FAVORITE_SPOT_IDS,\n});\n\nexport const setFavoriteSpotIdsLoading = () => ({\n  type: SET_FAVORITE_SPOT_IDS_LOADING,\n});\n\nexport const setFavoriteSpotIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_SPOT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n\nexport const addFavoriteSpotId = (id) => ({\n  type: ADD_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteSpotId = (id) => ({\n  type: DELETE_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const fetchFavoriteProjectIds = () => ({\n  type: FETCH_FAVORITE_PROJECT_IDS,\n});\n\nexport const setFavoriteProjectIdsLoading = () => ({\n  type: SET_FAVORITE_PROJECT_IDS_LOADING,\n});\n\nexport const setFavoriteProjectIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_PROJECT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n  map,\n} from 'rxjs/operators';\nimport message from 'antd/lib/message';\n\nimport toQueryString from 'utils/query-string';\nimport {\n  INIT,\n  FETCH_USER_BY_ID,\n  FETCH_USERS,\n  FETCH_USER_STATS,\n  FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  FETCH_PROJECT_BY_ID,\n  FETCH_PROJECTS,\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n  FETCH_LOGIN_STATUS,\n  FETCH_OWN_PROJECTS,\n  SUBMIT_CREATE_PROJECT,\n  SUBMIT_DELETE_PROJECT,\n  LIKE_SPOT,\n  FETCH_FAVORITE_SPOT_IDS,\n  FETCH_FAVORITE_PROJECT_IDS,\n  EXPLORE_NEXT_SPOT,\n  KEY_REDUCER,\n  SUBMIT_UPDATE_PROJECT,\n  CANCEL_LIKE_SPOT,\n} from './constants';\nimport {\n  setUserLoading,\n  setUserDone,\n  setUsersLoading,\n  setUsersDone,\n  setUserStatsLoading,\n  setUserStatsDone,\n  setSpotLoading,\n  setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setProjectLoading,\n  setProjectDone,\n  setProjectsLoading,\n  setProjectsDone,\n  setLoginLoading,\n  setLoginDone,\n  setLogoutLoading,\n  setLogoutDone,\n  setRegisterDone,\n  setRegisterLoading,\n  setLoginStatusDone,\n  setLoginStatusLoading,\n  setOwnProjectsDone,\n  setOwnProjectsLoading,\n\n  // create project\n  createProjectDone,\n  createProjectLoading,\n\n  // update project\n  updateProjectDone,\n  updateProjectLoading,\n\n  fetchOwnProjects,\n\n  // delete project\n  deleteProjectLoading,\n  deleteProjectDone,\n\n  setCancelLikeSpotDone,\n  setLikeSpotDone,\n  setFavoriteSpotIdsDone,\n  setFavoriteSpotIdsLoading,\n  setFavoriteProjectIdsDone,\n  setFavoriteProjectIdsLoading,\n  setExploringSpotId,\n  deleteFavoriteSpotId,\n  addFavoriteSpotId,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\nconst fetchUserByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserDone(error),\n      )),\n      startWith(setUserLoading()),\n    )),\n  )\n);\n\nconst fetchUsersEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USERS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/users',\n    }).pipe(\n      flatMap((data) => of(\n        setUsersDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUsersDone(error),\n      )),\n      startWith(setUsersLoading()),\n    )),\n  )\n);\n\nconst fetchUserStatsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_STATS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/stat/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserStatsDone(null, data.content, action.payload.id),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserStatsDone(error),\n      )),\n      startWith(setUserStatsLoading()),\n    )),\n  )\n);\n\nconst fetchSpotByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/spot/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotDone(error),\n      )),\n      startWith(setSpotLoading()),\n    )),\n  )\n);\n\nconst fetchSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst fetchProjectByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/proj/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectDone(error),\n      )),\n      startWith(setProjectLoading()),\n    )),\n  )\n);\n\nconst fetchProjectsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/projs?${toQueryString({\n        owner: action.payload.owner,\n        only_public: action.payload.onlyPublic,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectsDone(error),\n      )),\n      startWith(setProjectsLoading()),\n    )),\n  )\n);\n\nconst createProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_PROJECT),\n    switchMap((action) => {\n      const {\n        newProject,\n      } = action.payload;\n      return request({\n        method: 'post',\n        url: '/own/proj',\n        data: newProject,\n      }).pipe(\n        flatMap((data) => {\n          message.success('創建成功');\n          return of(\n            createProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('創建失敗');\n          return fetchErrorEpic(\n            error,\n            createProjectDone(error),\n          );\n        }),\n        startWith(createProjectLoading()),\n      );\n    }),\n  )\n);\n\n// PUT /own/proj/<int:proj_id>\nconst updateProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_UPDATE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n        updateProject,\n      } = action.payload;\n      return request({\n        method: 'put',\n        url: `/own/proj/${projectId}`,\n        data: updateProject.toJS(),\n      }).pipe(\n        flatMap((data) => {\n          message.success('更新成功');\n          return of(\n            updateProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('更新失敗');\n          return fetchErrorEpic(\n            error,\n            updateProjectDone(error),\n          );\n        }),\n        startWith(updateProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst deleteProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_DELETE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n      } = action.payload;\n      return request({\n        method: 'delete',\n        url: `/proj/${projectId}`,\n      }).pipe(\n        flatMap(() => {\n          message.success('刪除成功');\n          return of(\n            deleteProjectDone(null),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('刪除失敗');\n          return fetchErrorEpic(\n            error,\n            deleteProjectDone(error),\n          );\n        }),\n        startWith(deleteProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchOwnProjectsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_OWN_PROJECTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/own/projs',\n    }).pipe(\n      flatMap((data) => of(\n        setOwnProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setOwnProjectsDone(error),\n      )),\n      startWith(setOwnProjectsLoading()),\n    )),\n  )\n);\n\nconst getKeywordQueryString = (keyword) => (\n  typeof keyword === 'string' && keyword.length > 0\n    ? `kw=${keyword}`\n    : ''\n);\n\nconst getZonesQueryString = (zones) => zones\n  .map((zone) => `zone=${zone}`)\n  .join('&');\n\nconst getSearchSpotQueryString = ({ zones, keyword }) => {\n  const queryString = [\n    getKeywordQueryString(keyword),\n    getZonesQueryString(zones),\n  ]\n    .filter((queryStringSegment) => queryStringSegment !== '')\n    .join('&');\n\n  return queryString.length > 0 ? `?${queryString}` : '';\n};\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: data.content.user }\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nconst logoutEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGOUT),\n    switchMap(() => request({\n      method: 'post',\n      url: '/logout',\n    }).pipe(\n      flatMap(() => (\n        of(setLogoutDone(null))\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLogoutDone(error),\n      )),\n      startWith(setLogoutLoading()),\n    )),\n  )\n);\n\nconst registerEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(REGISTER),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/register',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: action.payload.acc }\n          : null;\n        return of(setRegisterDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRegisterDone(error),\n      )),\n      startWith(setRegisterLoading()),\n    )),\n  )\n);\n\nconst fetchLoginStatusEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_LOGIN_STATUS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/check_login',\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginStatusDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginStatusDone(error),\n      )),\n      startWith(setLoginStatusLoading()),\n    )),\n  )\n);\n\nconst likeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeSpotDone(null, action.payload),\n            addFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeSpotDone(null, action.payload),\n            deleteFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setCancelLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst fetchFavoriteSpotIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_SPOT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/spots',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteSpotIdsDone(null, res.content.map((row) => row.spot_id)),\n          );\n        }\n        return of(setFavoriteSpotIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteSpotIdsDone(error),\n      )),\n      startWith(setFavoriteSpotIdsLoading()),\n    )),\n  )\n);\n\nconst fetchFavoriteProjectIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_PROJECT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/projs',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteProjectIdsDone(null, res.content.map((row) => row.proj_id)),\n          );\n        }\n        return of(setFavoriteProjectIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteProjectIdsDone(error),\n      )),\n      startWith(setFavoriteProjectIdsLoading()),\n    )),\n  )\n);\n\nconst exploreNextSpotEpic = (action$, state$) => (\n  action$.pipe(\n    ofType(EXPLORE_NEXT_SPOT),\n    map(() => {\n      const state = state$.value.get(KEY_REDUCER);\n      const favoriteSpotIds = state.get('favoriteSpotIds');\n      const spotIds = state.get('spotsResult');\n      const exploringSpotId = state.get('exploringSpotId');\n      const nextSpot = spotIds\n        .slice(spotIds.indexOf(exploringSpotId) + 1)\n        .map((id) => state.getIn(['spots', String(id)]))\n        .find((spot) => !favoriteSpotIds.includes(spot.get('spot_id')));\n\n      if (nextSpot) {\n        return setExploringSpotId(nextSpot.get('spot_id'));\n      }\n\n      return setExploringSpotId(exploringSpotId);\n    }),\n  )\n);\n\nexport default [\n  setInit,\n  fetchOwnProjectsEpic,\n  fetchUserByIdEpic,\n  fetchUsersEpic,\n  fetchUserStatsEpic,\n  fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  fetchProjectByIdEpic,\n  fetchProjectsEpic,\n  loginEpic,\n  logoutEpic,\n  registerEpic,\n  fetchLoginStatusEpic,\n  createProjectEpic,\n  updateProjectEpic,\n  deleteProjectEpic,\n  likeSpotEpic,\n  cancelLikeSpotEpic,\n  fetchFavoriteSpotIdsEpic,\n  fetchFavoriteProjectIdsEpic,\n  exploreNextSpotEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","const YELLOW = '#F9D94A';\n\nconst SpotlightTheme = {\n  mainColor: YELLOW,\n};\n\nexport const defaultTheme = {\n  ...SpotlightTheme,\n};\n\nexport const GRAY = '#dbdcdb';\nexport const GRAY_DARK = '#c4c4c4';\nexport const BACKGROUND_COLOR = '#f0f0f0';\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: ${(props) => props.height}px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst Spinner = (props) => {\n  const {\n    height,\n  } = props;\n  return (\n    <StyledSpinner height={height}>\n      <i className=\"fa fa-spinner fa-spin\" />\n    </StyledSpinner>\n  );\n};\n\nSpinner.propTypes = {\n  height: PropTypes.number,\n};\n\nSpinner.defaultProps = {\n  height: 300,\n};\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectUserMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUserMeta'),\n);\n\nexport const selectUsersMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUsersMeta'),\n);\n\nexport const selectUsers = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('users'),\n);\n\nexport const selectSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotMeta'),\n);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('projects'),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpotId = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('exploringSpotId'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  selectExploringSpotId(),\n  (spotlightState, spotId) => spotlightState.getIn(['spots', String(spotId)], Map()),\n);\n\nexport const selectLoginStatusMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginStatusMeta'),\n);\n\nexport const selectOwnProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects'),\n);\n\nexport const selectOwnProjectsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjectsMeta'),\n);\n\nexport const selectOwnProjectById = (id) => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects')\n    .find(\n      (project) => project.get('proj_id') === Number(id),\n    ),\n);\n\nexport const selectFavoriteSpotIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteSpotIdsMeta'),\n);\n\nexport const selectFavoriteSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteSpotIds'),\n);\n\nexport const selectFavoriteProjectIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteProjectIdsMeta'),\n);\n\nexport const selectFavoriteProjectIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteProjectIds'),\n);\n\nexport const selectIsModalVisible = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('isModalVisible'),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS, Map } from 'immutable';\nimport { DEFAULT_PROJECT } from './constants';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [isNavVisible, setIsNavVisible] = useState(true);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true);\n\n  // create project\n  const [newProject, setNewProject] = useState(fromJS(DEFAULT_PROJECT));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // update project\n  const [updateProject, setUpdateProject] = useState(Map());\n\n  // select liked spot\n  const [selectedLikedSpotId, setSelectedLikedSpotId] = useState();\n\n  return {\n    isNavVisible,\n    setIsNavVisible,\n\n    isHeaderVisible,\n    setIsHeaderVisible,\n\n    // create project\n    newProject,\n    setNewProject,\n\n    // update project\n    updateProject,\n    setUpdateProject,\n\n    isEditMode,\n    setIsEditMode,\n\n    // select liked spot\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: { name: 'explore', text: '探索景點' },\n  PLANNING: { name: 'planning', text: '計畫旅程' },\n  TRAVEL_WALL: { name: 'travelWall', text: '旅遊牆' },\n  PERSONAL_PAGE: { name: 'personal', text: '我的' },\n  SETTING: { name: 'setting', text: '設定' },\n  SETTING_INFO: { name: 'settingInfo', text: '修改資訊' },\n  DETAIL_PLANNING: { name: 'detailPlanning', text: '旅程內容' },\n  UPDATE_PLANNING: { name: 'updatePlanning', text: '修改旅程' },\n  CREATE_PROJECT: { name: 'createPlanning', text: '增加旅程' },\n  ADD_SPOT_TO_PLAN: { name: 'addSpotToPlan', text: '從收藏添加景點' },\n  SETTING_SPOT_CARD: { name: 'settingSpotCard', text: '景點設定' },\n  ADD_SPOT_TO_PROJECT: { name: 'addSpotToProject', text: '加到我的行程' },\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const HeaderContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n  }\n  .icon-style {\n    color: rgba(51, 51, 51, 1);\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n\nexport const HeaderTitle = styled.div`\n  flex-basis: 1;\n  flex-shrink: 0;\n  text-align: center;\n`;\n\nexport const HeaderLeftButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 14px;\n`;\n\nexport const HeaderRightButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n`;\n\nexport const HeaderLinkButton = styled(Link)`\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n  }\n`;\n\nexport const HeaderButton = styled.button`\n  padding: 0;\n  border: 0;\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n    background-color: transparent;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  HeaderLinkButton,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst ExplorePageHeader = ({ location }) => {\n  const { menu } = queryString.parse(location.search);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n            <i className=\"fas fa-arrow-left\" />\n          </HeaderLinkButton>\n        }\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        {menu === 'zone' ? '縣市選擇' : PAGE_NAME.EXPLORE.text}\n      </HeaderTitle>\n      <HeaderRightButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n            <i className=\"fas fa-check\" />\n          </HeaderLinkButton>\n        }\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nExplorePageHeader.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(ExplorePageHeader);\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n    setIsEditMode,\n    setIsNavVisible,\n  } = context;\n  const handleToCreateProject = useCallback((event) => {\n    const path = findAttributeInEvent(event, 'data-redirect-path');\n    history.push(path);\n  }, []);\n  const handleEditModeOn = useCallback(() => {\n    setIsEditMode(true);\n    setIsNavVisible(false);\n  }, []);\n  const handleEditModeOff = useCallback(() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }, []);\n  useEffect(() => (() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }), []);\n  if (isEditMode) {\n    return (\n      <HeaderContainer>\n        <div>調整旅程</div>\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <i\n            role=\"presentation\"\n            className=\"fas fa-check icon-style\"\n            onClick={handleEditModeOff}\n          />\n        </div>\n      </HeaderContainer>\n    );\n  }\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PLANNING.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleEditModeOn} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT.name}\n          onClick={handleToCreateProject}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.TRAVEL_WALL.text}\n  </HeaderContainer>\n);\n","import React, { useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => {\n  const handleGoToSetting = useCallback(() => {\n    history.push(`/${PAGE_NAME.SETTING.name}`);\n  });\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PERSONAL_PAGE.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-cog icon-style\" onClick={handleGoToSetting} />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PERSONAL_PAGE.name}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.SETTING}</div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.SETTING.name}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.SETTING_INFO}</div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\nimport uploadTravelWallIconPath from 'assets/upload_travel_wall_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst DetailPlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n  }, []);\n  const handleGoToUpdatePlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.UPDATE_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.DETAIL_PLANNING.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleGoToUpdatePlanning} />\n        <img src={uploadTravelWallIconPath} className=\"icon-style\" alt=\"\" />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n};\n\nexport default DetailPlanningPage;\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    setUpdateProject,\n    updateProject,\n  } = context;\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n\n    handleSubmitUpdateProject(projectId, updateProject);\n    setUpdateProject(Map());\n\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, [updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleGoBackToDetailPlanning}\n        />\n      </div>\n      <div>{PAGE_NAME.UPDATE_PLANNING.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from 'containers/Spotlight/constants';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  PAGE_NAME,\n} from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\n\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitCreateProject,\n} from 'containers/Spotlight/actions';\n\nconst { SpotlightContext } = Context;\n\nconst CreateProjectPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    newProject,\n    setNewProject,\n  } = context;\n  const setInit = () => {\n    setNewProject(fromJS(DEFAULT_PROJECT));\n  };\n  const handleOnCancelBtn = () => {\n    history.push(PAGE_NAME.PLANNING.name);\n  };\n  const handleOnCheckBtn = () => {\n    const {\n      handleSubmitCreateProject,\n    } = props;\n    const name = newProject.get('name');\n    const startDay = moment(newProject.get('start_day')).format('YYYY/MM/DD 00:mm:ss');\n    const days = newProject.get('tot_days');\n    if (!name || !newProject.get('start_day')) {\n      message.error('欄位皆為必填');\n      return;\n    }\n    if (days <= 0) {\n      message.error('天數格式錯誤');\n      return;\n    }\n    handleSubmitCreateProject({\n      name,\n      start_day: startDay,\n      tot_days: days,\n    });\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n  };\n  useEffect(() => {\n    setIsNavVisible(false);\n    setInit();\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleOnCancelBtn}\n        />\n      </div>\n      <div>{PAGE_NAME.CREATE_PROJECT.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nCreateProjectPage.propTypes = {\n  handleSubmitCreateProject: PropTypes.func,\n};\n\nCreateProjectPage.defaultProps = {\n  handleSubmitCreateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateProject: (newProject) => dispatch(submitCreateProject(newProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProjectPage);\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nimport arrowRightIconPath from 'assets/arrow_right_icon.svg';\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToPlanPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n  } = context;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = searchParams.get('day');\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    const { projectId } = props.match.params;\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    if (!selectedLikedSpotId) {\n      message.warning('請選擇景點卡');\n      return;\n    }\n    const { projectId } = props.match.params;\n    const settingSpotCardPagePath = `/${PAGE_NAME.SETTING_SPOT_CARD.name}/${projectId}`;\n    history.push({\n      pathname: settingSpotCardPagePath,\n      search: `?day=${day}`,\n    });\n  }, [selectedLikedSpotId]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleGoBackToDetailPlanning}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.ADD_SPOT_TO_PLAN.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnCheckBtn}>\n          <img className=\"icon-style\" src={arrowRightIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToPlanPage.propTypes = {\n  match: PropTypes.object,\n};\n\nAddSpotToPlanPage.defaultProps = {\n  match: {},\n};\n\nexport default AddSpotToPlanPage;\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  selectOwnProjectById,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst SettingSpotCardPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  if (!selectedLikedSpotId) {\n    return null;\n  }\n  const {\n    day,\n    afterIndex,\n    elapsedTime,\n    spotId,\n  } = selectedLikedSpotId;\n  const {\n    project,\n    handleSubmitUpdateProject,\n  } = props;\n  if (!project) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const plan = project.get('plan');\n  const handleOnGoBack = useCallback(() => {\n    history.goBack();\n  }, []);\n\n  const handleOnCheck = useCallback(() => {\n    const time = elapsedTime.split(':');\n    const during = parseInt(time[0], 10) * 60 + parseInt(time[1], 10);\n    const updatedPlan = plan.updateIn([parseInt(day, 10) - 1, 'arrange'], (arrange) => {\n      const newSpotCard = fromJS({\n        spot_id: parseInt(spotId, 10),\n        during,\n      });\n      const updatedArrange = arrange.toJS();\n      const isIndexSmallThanSize = arrange.size >= parseInt(afterIndex, 10);\n      if (isIndexSmallThanSize) {\n        updatedArrange.splice(parseInt(afterIndex - 1, 10), 0, newSpotCard.toJS());\n        return updatedArrange;\n      }\n      return fromJS([\n        ...updatedArrange,\n        newSpotCard.toJS(),\n      ]);\n    });\n\n    const result = fromJS({\n      plan: updatedPlan.toJS(),\n    });\n    handleSubmitUpdateProject(project.get('proj_id'), result);\n    setSelectedLikedSpotId(null);\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${project.get('proj_id')}`,\n      search: `?day=${day}`,\n    });\n  });\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnGoBack}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.SETTING_SPOT_CARD.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnCheck}>\n          <img className=\"icon-style\" src={checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nSettingSpotCardPage.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nSettingSpotCardPage.defaultProps = {\n  project: Map(),\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingSpotCardPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n  HeaderLinkButton,\n} from '../Styled';\n\nconst SpotPage = ({ location }) => (\n  <HeaderContainer>\n    <HeaderLeftButtons>\n      <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n        <i className=\"fas fa-arrow-left\" />\n      </HeaderLinkButton>\n    </HeaderLeftButtons>\n    <HeaderRightButtons>\n      <HeaderLinkButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`}>\n        <i className=\"fas fa-plus\" />\n      </HeaderLinkButton>\n    </HeaderRightButtons>\n  </HeaderContainer>\n);\n\nSpotPage.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(SpotPage);\n","import React, { useContext, useEffect } from 'react';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPage = () => {\n  const { setIsNavVisible } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons />\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n};\n\nexport default withRouter(AddSpotToProjectPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { submitUpdateProject } from 'containers/Spotlight/actions';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  handleSubmitUpdateProject,\n  match,\n}) => {\n  const { setIsNavVisible, updateProject } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  const handleOnCheckClick = useCallback(() => {\n    history.goBack();\n    handleSubmitUpdateProject(match.params.projectId, updateProject);\n  });\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons>\n        <HeaderButton type=\"button\" onClick={handleOnCheckClick}>\n          <i className=\"fas fa-check\" />\n        </HeaderButton>\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  handleSubmitUpdateProject: PropTypes.func.isRequired,\n  match: PropTypes.object.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updatedProject) => (\n    dispatch(submitUpdateProject(projectId, updatedProject))\n  ),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import styled from 'styled-components';\n\nconst row = `\n  width: 300px;\n  display: block;\n  margin: 0 auto 24px;\n`;\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n`;\n\nconst inputLeftPadding = '56px';\n\nexport const UserNameContainer = styled.div`\n  position: relative;\n  margin: 0 15px 10px;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f007\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${inputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const UserName = styled.input`\n  width: 100%;\n  border: 0;\n  font-size: 14px;\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0 10px ${inputLeftPadding};\n  appearance: none;\n  outline: none;\n  color: #333;\n`;\n\n\nexport const PassWordContainer = styled.div`\n  position: relative;\n  margin: 0 15px 30px;\n`;\n\nexport const PasswordIcon = styled.img`\n  position: absolute;\n  top: 50%;\n  left: calc(${inputLeftPadding} / 2);\n  transform: translate(-50%, -50%);\n`;\n\nexport const PassWord = styled.input`\n  width: 100%;\n  border: 0;\n  font-size: 14px;\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0 10px ${inputLeftPadding};\n  appearance: none;\n  outline: none;\n  color: #333;\n`;\n\nconst loginButtonHorizontalMargin = '15px';\n\nexport const LoginButton = styled.button`\n  background-color: #F9D94A;\n  border-radius: 20px;\n  appearance: none;\n  border: 0;\n  margin: 0 ${loginButtonHorizontalMargin} 15px;\n  font-size: 16px;\n  width: calc(100% - 2 * ${loginButtonHorizontalMargin});\n  display: block;\n  color: #333333;\n  font-weight: bold;\n  padding: 10px 0;\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const RegisterRow = styled.div`\n  display: flex;\n  justify-content: center;\n  color: #333333;\n  font-size: 12px;\n`;\n\nexport const RegisterLink = styled.a`\n  margin-left: 3px;\n  font-weight: bold;\n  \n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n    text-decoration: underline;\n  }\n`;\n\nexport const ErrorMessage = styled.div`\n  ${row}\n  color: red;\n`;\n\nexport const Logo = styled.div`\n  color: #333333;\n  font-size: 37px;\n  padding: 115px 0 58px;\n  text-align: center;\n`;\n","import React, { createRef, useEffect, useContext } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport history from 'utils/history';\nimport {\n  login,\n  register,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectLoginStatusMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Context from 'containers/Spotlight/Context';\n\nimport {\n  UserName,\n  PassWord,\n  LoginButton,\n  RegisterRow,\n  ErrorMessage,\n  Logo,\n  Container,\n  UserNameContainer,\n  PassWordContainer,\n  PasswordIcon,\n  RegisterLink,\n} from './Styled';\nimport keyIcon from './key.svg';\n\nconst { SpotlightContext } = Context;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n    loginStatusMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const handleRegisterBtnClick = () => {\n    const {\n      handleSubmitRegister,\n    } = props;\n    handleSubmitRegister({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const {\n    setIsHeaderVisible,\n    setIsNavVisible,\n  } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    if (loginStatusMeta.get('isLoaded') && user) {\n      history.push(`/${PAGE_NAME.EXPLORE.name}`);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    setIsHeaderVisible(false);\n    setIsNavVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    loginStatusMeta.get('isLoaded') && !user ? (\n      <Container>\n        <Logo>LOGO</Logo>\n        <UserNameContainer>\n          <UserName ref={usernameRef} type=\"email\" placeholder=\"請輸入註冊的 E-mail\" />\n        </UserNameContainer>\n        <PassWordContainer>\n          <PasswordIcon src={keyIcon} />\n          <PassWord ref={passwordRef} type=\"password\" placeholder=\"輸入密碼\" />\n        </PassWordContainer>\n        <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n        <RegisterRow>\n          還沒有帳號嗎?\n          <RegisterLink href=\"/#\" onClick={handleRegisterBtnClick}>\n            前往註冊\n          </RegisterLink>\n        </RegisterRow>\n        {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n      </Container>\n    ) : null\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  handleSubmitRegister: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n  handleSubmitRegister: ({ acc, pwd }) => dispatch(register({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const Region = styled.div`\n  font-size: 14px;\n  padding: 9px 15px 15px;\n  color: #AAAAAA;\n\n  &:first-of-type {\n    padding-top: 15px;\n  }\n`;\n\nexport const ZoneLabel = styled.label`\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 15px 11px;\n  padding-bottom: 11px;\n  border-bottom: solid 1px #DFDFDF;\n  color: #333333;\n\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 15px;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport message from 'antd/lib/message';\nimport { Region, ZoneLabel, Container } from './Styled';\n\nconst ZoneMenu = ({\n  zonesState,\n  dispatch,\n}) => {\n  const regions = zonesState.map((zone) => zone.get('region')).toSet();\n\n  return (\n    <Container>\n      {regions.map((region) => (\n        <React.Fragment key={region}>\n          <Region>{region}</Region>\n          {zonesState\n            .filter((zone) => zone.get('region') === region)\n            .map((zone) => (\n              <ZoneLabel key={zone.get('name')}>\n                {zone.get('name')}\n                <input\n                  type=\"checkbox\"\n                  onChange={(event) => {\n                    const selectedSize = zonesState\n                      .filter((zoneState) => zoneState.get('selected'))\n                      .size;\n                    if (selectedSize === 5 && event.currentTarget.checked) {\n                      message.warning('最多可選 5 個！', 2);\n                      return;\n                    }\n                    dispatch({\n                      type: event.currentTarget.checked ? 'SELECT_ZONE' : 'CANCEL_ZONE',\n                      payload: { zone: zone.get('name') },\n                    });\n                  }}\n                  checked={zone.get('selected', false)}\n                />\n              </ZoneLabel>\n            ))\n            .toList()\n          }\n        </React.Fragment>\n      ))}\n    </Container>\n  );\n};\n\nZoneMenu.propTypes = {\n  zonesState: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default ZoneMenu;\n","export const zoneReducer = (state, action) => {\n  switch (action.type) {\n    case 'SELECT_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], true);\n    case 'CANCEL_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], false);\n    default:\n      return state;\n  }\n};\n","export const zones = {\n  基隆市: {\n    name: '基隆市',\n    region: '北部縣市',\n  },\n  臺北市: {\n    name: '臺北市',\n    region: '北部縣市',\n  },\n  新北市: {\n    name: '新北市',\n    region: '北部縣市',\n  },\n  桃園市: {\n    name: '桃園市',\n    region: '北部縣市',\n  },\n  新竹市: {\n    name: '新竹市',\n    region: '北部縣市',\n  },\n  新竹縣: {\n    name: '新竹縣',\n    region: '北部縣市',\n  },\n  苗栗縣: {\n    name: '苗栗縣',\n    region: '中部縣市',\n  },\n  南投縣: {\n    name: '南投縣',\n    region: '中部縣市',\n  },\n  臺中市: {\n    name: '臺中市',\n    region: '中部縣市',\n  },\n  彰化縣: {\n    name: '彰化縣',\n    region: '中部縣市',\n  },\n  雲林縣: {\n    name: '雲林縣',\n    region: '中部縣市',\n  },\n  嘉義市: {\n    name: '嘉義市',\n    region: '南部縣市',\n  },\n  嘉義縣: {\n    name: '嘉義縣',\n    region: '南部縣市',\n  },\n  臺南市: {\n    name: '臺南市',\n    region: '南部縣市',\n  },\n  高雄市: {\n    name: '高雄市',\n    region: '南部縣市',\n  },\n  屏東縣: {\n    name: '屏東縣',\n    region: '南部縣市',\n  },\n  宜蘭縣: {\n    name: '宜蘭縣',\n    region: '東部縣市',\n  },\n  花蓮縣: {\n    name: '花蓮縣',\n    region: '東部縣市',\n  },\n  臺東縣: {\n    name: '臺東縣',\n    region: '東部縣市',\n  },\n  連江縣: {\n    name: '連江縣',\n    region: '外島縣市',\n  },\n  金門縣: {\n    name: '金門縣',\n    region: '外島縣市',\n  },\n  澎湖縣: {\n    name: '澎湖縣',\n    region: '外島縣市',\n  },\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-bottom: 20px;\n`;\n\nexport const Card = styled.div`\n  display: block;\n  width: 300px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  height: 240px;\n  object-fit: cover;\n`;\n\nexport const CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 18px 18px;\n  background-color: #FFFFFF;\n`;\n\nexport const SpotName = styled.span`\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  font-size: 18px;\n  \n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #333333;\n  }\n`;\n\nexport const SpotLikes = styled.span`\n  flex-shrink: 0;\n  font-size: 14px;\n\n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #AAAAAA;\n  }\n`;\n\nexport const ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 16px;\n`;\n\nexport const Button = styled.button`\n  display: block;\n  width: 60px;\n  height: 60px;\n  background: #fff;\n  border-radius: 50%;\n  font-size: 18px;\n  margin-bottom: 5px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  appearance: none;\n  border: 0;\n`;\n\nexport const ButtonCrossIcon = styled.i`\n  font-size: 28px;\n  color: #333333;\n`;\n\nexport const ButtonHeartIcon = styled.i`\n  font-size: 20px;\n  color: #EB715A;\n`;\n\nexport const ButtonLabel = styled.label`\n  margin-right: 16px;\n  text-align: center;\n  font-size: 14px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SearchRow = styled.div`\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(#F9D94A 50%, transparent 50%);\n  padding: 3px 15px 15px;\n`;\n\nexport const SearchBar = styled.div`\n  width: 100%;\n  display: flex;\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nexport const SelectCountyButton = styled.button`\n  flex-shrink: 0;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  appearance: none;\n  border: 0;\n  position: relative;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n\n  &:after {\n    content : \"\";\n    position: absolute;\n    right: 0;\n    z-index: 100;\n    top: 50%;\n    width: 1px;\n    transform: translateY(-50%);\n    height: 70%;\n    background: #B5B5B5;\n  }\n`;\n\nconst searchInputLeftPadding = '33px';\n\nexport const SearchInputContainer = styled.div`\n  position: relative;\n  flex-grow: 1;\n  background-color: #fff;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f002\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${searchInputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  padding: 9px 9px 9px ${searchInputLeftPadding};\n  appearance: none;\n  border: 0;\n  outline: none;\n`;\n\nexport const ZonesRow = styled.div`\n  padding: 0 12px;\n  margin-bottom: 30px;\n`;\n\nexport const ZoneLabel = styled.span`\n  display: inline-block;\n  background-color: #EEEEEE;\n  color: #AAAAAA;\n  font-size: 12px;\n  padding: 2px 5px;\n  margin-right: 10px;\n  border-radius: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const ZoneLabelCrossIcon = styled.i`\n  margin-left: 5px;\n`;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, fromJS } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport {\n  selectExploringSpot,\n  selectSpotsMeta,\n  selectFavoriteSpotIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  exploreNextSpot,\n  fetchSpots,\n  likeSpot,\n  fetchFavoriteSpotIds,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport ZoneMenu from './ZoneMenu';\nimport { zoneReducer } from './reducer';\nimport { zones as zonesData } from './constants';\n\nimport {\n  Container,\n  CardRow,\n  Card,\n  CardImage,\n  CardInfo,\n  ButtonRow,\n  Button,\n  SearchRow,\n  SearchBar,\n  SelectCountyButton,\n  SearchInputContainer,\n  SearchInput,\n  ZonesRow,\n  ZoneLabel,\n  ButtonLabel,\n  SpotName,\n  SpotLikes,\n  ZoneLabelCrossIcon,\n  ButtonCrossIcon,\n  ButtonHeartIcon,\n} from './Styled';\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    handleSwipeLeft,\n    createHandleSwipeRight,\n    handleFetchSpots,\n    setSpotsMeta,\n    location,\n    history,\n    handleFetchFavoriteSpotIds,\n    favoriteSpotIdsMeta,\n  } = props;\n\n  const [zonesState, dispatch] = useReducer(zoneReducer, fromJS(zonesData));\n  const selectedZones = zonesState\n    .filter((zone) => zone.get('selected'))\n    .map((zone) => zone.get('name'))\n    .toList()\n    .toJS();\n\n  const [keyword, setKeyword] = useState('');\n  const handleSearchInputKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleFetchSpots({ kw: keyword, zones: selectedZones });\n      event.currentTarget.blur();\n    }\n  };\n\n  useEffect(() => {\n    if (!setSpotsMeta.get('isLoading')) {\n      handleFetchSpots();\n    }\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      handleFetchFavoriteSpotIds();\n    }\n  }, []);\n\n  const query = queryString.parse(location.search);\n\n  if (query.menu === 'zone') {\n    return (\n      <ZoneMenu\n        location={location}\n        history={history}\n        zonesState={zonesState}\n        dispatch={dispatch}\n      />\n    );\n  }\n\n  return (\n    <Container>\n      <SearchRow>\n        <SearchBar>\n          <SelectCountyButton onClick={() => history.push(`${location.pathname}?menu=zone`)}>\n            縣市選擇\n            <i className=\"fas fa-caret-right\" />\n          </SelectCountyButton>\n          <SearchInputContainer>\n            <SearchInput\n              type=\"text\"\n              placeholder=\"搜尋景點關鍵字\"\n              value={keyword}\n              onChange={(event) => setKeyword(event.target.value)}\n              onKeyUp={handleSearchInputKeyUp}\n            />\n          </SearchInputContainer>\n        </SearchBar>\n      </SearchRow>\n      <ZonesRow>\n        {selectedZones.map((zone) => (\n          <ZoneLabel key={zone}>\n            {zone}\n            <ZoneLabelCrossIcon className=\"fas fa-times\" />\n          </ZoneLabel>\n        ))}\n      </ZonesRow>\n      {setSpotsMeta.get('isLoading')\n        ? <Spinner />\n        : (\n          <React.Fragment>\n            <CardRow>\n              <Link to={`/${PAGE_NAME.EXPLORE.name}/${spot.get('spot_id')}`}>\n                <Card>\n                  <CardImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n                  <CardInfo>\n                    <SpotName>{spot.get('name')}</SpotName>\n                    <SpotLikes>\n                      {spot.get('like_num')}\n                      人收藏\n                    </SpotLikes>\n                  </CardInfo>\n                </Card>\n              </Link>\n            </CardRow>\n            <ButtonRow>\n              <ButtonLabel>\n                <Button onClick={handleSwipeLeft}>\n                  <ButtonCrossIcon className=\"fas fa-times\" />\n                </Button>\n                <span>跳過</span>\n              </ButtonLabel>\n              <ButtonLabel>\n                <Button onClick={createHandleSwipeRight(spot.get('spot_id'))}>\n                  <ButtonHeartIcon className=\"fas fa-heart\" />\n                </Button>\n                <span>想去</span>\n              </ButtonLabel>\n            </ButtonRow>\n          </React.Fragment>\n        )\n      }\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  handleSwipeLeft: PropTypes.func.isRequired,\n  createHandleSwipeRight: PropTypes.func.isRequired,\n  handleFetchSpots: PropTypes.func.isRequired,\n  setSpotsMeta: PropTypes.object,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n  setSpotsMeta: selectSpotsMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSwipeLeft: () => dispatch(exploreNextSpot()),\n  createHandleSwipeRight: (spotId) => () => {\n    dispatch(likeSpot(spotId));\n    dispatch(exploreNextSpot());\n  },\n  handleFetchSpots: ({ kw, zones } = {}) => dispatch(fetchSpots({ kw, zones })),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ExplorePage));\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport Modal from 'antd/lib/modal';\nimport trashIconPath from 'assets/trash_icon.svg';\n\nconst { confirm } = Modal;\nconst { SpotlightContext } = Context;\n\nconst Container = styled.div`\n  margin-top: 15px;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  position: relative;\n  .project-card__cover-image {\n    background-image: url(\"https://icrvb3jy.xinmedia.com/solomo/article/139141/7A21D0A7-AEA1-D18D-C305-9A5930D37D27.jpeg\");\n    background-size: cover;\n    height: 150px;\n    border-radius: 10px 10px 0px 0px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    height: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .project-card__info-period {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.7;\n    z-index: 1;\n    border-radius: 10px;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: white;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    z-index: 1;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n    width: 14px;\n    height: 14px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n  } = context;\n  const {\n    project,\n    handleDeleteProject,\n  } = props;\n  const projectId = project.get('proj_id');\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const handleOnClick = useCallback(() => {\n    if (isEditMode) {\n      return;\n    }\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [projectId, isEditMode]);\n  const handleOnDeleteProject = useCallback((event) => {\n    const projId = findAttributeInEvent(event, 'data-project-id');\n    confirm({\n      title: '刪除旅程計畫',\n      content: `確認是否刪除 \"${name}\" ？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleDeleteProject(projId);\n      },\n    });\n  }, []);\n  return (\n    <Container isEditMode={isEditMode} onClick={handleOnClick}>\n      {\n        isEditMode &&\n        <>\n          <div className=\"project-card__mask\" />\n          <div\n            role=\"presentation\"\n            className=\"project-card__trash-icon-wrapper\"\n            data-project-id={projectId}\n            onClick={handleOnDeleteProject}\n          >\n            <img className=\"project-card__trash-icon\" src={trashIconPath} alt=\"\" />\n          </div>\n        </>\n      }\n      <div className=\"project-card__cover-image\" />\n      <div className=\"project-card__info-row\">\n        <div className=\"project-card__info-title\">{name}</div>\n        <div className=\"project-card__info-period\">{`${startDay}-${endDay} / ${days}天`}</div>\n      </div>\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleDeleteProject: PropTypes.func,\n};\n\nProjectCard.defaultProps = {\n  project: Map(),\n  handleDeleteProject: () => { },\n};\n\nexport default ProjectCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\n\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Spinner from 'components/Spinner';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  height: 100%;\n  padding: 0px 15px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = ({\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n  handleDeleteProject,\n}) => {\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  return (\n    <Container>\n      {\n        ownProjects.map((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            project={project}\n            handleDeleteProject={handleDeleteProject}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nPlanningPage.propTypes = {\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n  handleDeleteProject: PropTypes.func,\n};\n\nPlanningPage.defaultProps = {\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n  handleDeleteProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PlanningPage));\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledTravelCard = styled.div`\n  margin-top: 10px;\n  .travel-card__header-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 5px 10px;\n    background: #D3D3D3;\n    .travel-card__header-image {\n      font-size: 30px;\n      color: white;\n    }\n    .travel-card__profile-wrapper {\n      margin-left: 10px;\n    }\n    .travel-card__header-name {\n      font-size: 12px;\n      color: #707070;\n    }\n    .travel-card__header-time {\n      font-size: 12px;\n      color: #A4A4A4;\n    }\n  }\n  .travel-card__body-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    height: 120px;\n    background: black;\n    color: white;\n    position: relative;\n    cursor: pointer;\n    .travel-card__body-cover {\n      opacity: 0.5;\n      background-image: url(${(props) => props.imagePath});\n      background-size: cover;\n      height: 100%;\n    }\n    .travel-card__body-text-wrapper {\n      position: absolute;\n      padding: 10px;\n      .travel-card__body-title {\n        font-size: 16px;\n        color: white;\n      }\n      .travel-card__body-period {\n        font-size: 12px;\n      }\n    }\n  }\n  .travel-card__footer-wrapper {\n    background: #D3D3D3;\n    padding: 13px 12px;\n    display: flex;\n    align-items: center;\n    .travel-card__footer-icon {\n      font-size: 16px;\n      color: #707070;\n    }\n    .travel-card__footer-number {\n      font-size: 12px;\n      color: #707070;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst TravelCard = ({ projectId }) => {\n  const imagePath = 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg';\n  const handleOnClick = useCallback(() => {\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  });\n  return (\n    <StyledTravelCard imagePath={imagePath}>\n      <div className=\"travel-card__header-wrapper\">\n        <i className=\"fas fa-user-circle travel-card__header-image\" />\n        <div className=\"travel-card__profile-wrapper\">\n          <div className=\"travel-card__header-name\">這裡是名字</div>\n          <div className=\"travel-card__header-time\">1天前</div>\n        </div>\n      </div>\n      <div role=\"presentation\" className=\"travel-card__body-wrapper\" onClick={handleOnClick}>\n        <div className=\"travel-card__body-cover\" />\n        <div className=\"travel-card__body-text-wrapper\">\n          <div className=\"travel-card__body-title\">台北購物之旅</div>\n          <div className=\"travel-card__body-period\">2019年6月5日-2019年6月9日 / 4天</div>\n        </div>\n      </div>\n      <div className=\"travel-card__footer-wrapper\">\n        <i className=\"far fa-heart travel-card__footer-icon\" />\n        <div className=\"travel-card__footer-number\">666</div>\n      </div>\n    </StyledTravelCard>\n  );\n};\n\nTravelCard.propTypes = {\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nTravelCard.propTypes = {\n};\n\nexport default TravelCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport TravelCard from './components/TravelCard';\n\nconst StyledTravelWallPage = styled.div`\n  padding: 5px 28px;\n`;\n\nconst TravelWallPage = () => {\n  const cards = new Array(10).fill(0).map((x, index) => index);\n  return (\n    <StyledTravelWallPage>\n      {\n        cards.map((card, index) => (\n          <TravelCard\n            key={card}\n            projectId={index}\n          />\n        ))\n      }\n    </StyledTravelWallPage>\n  );\n};\n\nexport default TravelWallPage;\n","import React from 'react';\n\nconst Favicon = () => (\n  <div className=\"personal-page__favicon-wrapper\">\n    <img className=\"personal-page__favicon\" alt=\"\" />\n  </div>\n);\n\nexport default Favicon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Favicon from './Favicon';\n\nconst Information = ({\n  user,\n  users,\n}) => {\n  const userId = user.get('user_id');\n  const collectedProjectsCount = (users && users.getIn([userId, 'stats', 'collected_projs_count'])) || 0;\n  const collectedSpotsCount = (users && users.getIn([userId, 'stats', 'collected_spots_count'])) || 0;\n  const projectsLikedCount = (users && users.getIn([userId, 'stats', 'projs_liked_count'])) || 0;\n  const publishedProjectsCount = (users && users.getIn([userId, 'stats', 'published_projs_count'])) || 0;\n\n  return (\n    <div className=\"personal-page__info-wrapper\">\n      <Favicon user={user} />\n      <div className=\"personal-page__profile-wrapper\">\n        <div className=\"personal-page__profile-name\">{user.get('name')}</div>\n        <div className=\"personal-page__profile-travel-info\">\n          <div className=\"\n            personal-page__profile-travel-info-item-wrapper\n            personal-page__profile-travel-info-item-divier\n            personal-page__profile-travel-info-item-padding-right\n          \"\n          >\n            <div className=\"personal-page__profile-travel-info-item-title\">旅程發表</div>\n            <div className=\"personal-page__profile-travel-info-item-number\">{publishedProjectsCount}</div>\n          </div>\n          <div className=\"\n            personal-page__profile-travel-info-item-wrapper\n            personal-page__profile-travel-info-item-divier\n            personal-page__profile-travel-info-item-padding-right\n            personal-page__profile-travel-info-item-padding-left\n          \"\n          >\n            <div className=\"personal-page__profile-travel-info-item-title\">收藏數</div>\n            <div className=\"personal-page__profile-travel-info-item-number\">{collectedSpotsCount + collectedProjectsCount}</div>\n          </div>\n          <div className=\"\n            personal-page__profile-travel-info-item-wrapper\n            personal-page__profile-travel-info-item-padding-left\n          \"\n          >\n            <div className=\"personal-page__profile-travel-info-item-title\">被收藏</div>\n            <div className=\"personal-page__profile-travel-info-item-number\">{projectsLikedCount}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nInformation.propTypes = {\n  user: PropTypes.object.isRequired,\n  users: PropTypes.object.isRequired,\n};\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport { selectSpots } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\n\nconst StyledSpotCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .spot-card__title {\n    font-size: 11px;\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst SpotCard = ({\n  spots,\n  spotId,\n  fetchSpotById,\n  handleOnClick,\n}) => {\n  useEffect(() => {\n    if (!spots.get(spotId)) {\n      fetchSpotById(spotId);\n    }\n  }, []);\n\n  const spot = spots.get(spotId);\n\n  if (!spot) {\n    return null;\n  }\n  const imagePath = spot.get('pic').get(0);\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE.name}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">{spot.get('name')}</span>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spots: PropTypes.object.isRequired,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchSpotById: PropTypes.func.isRequired,\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n});\n\nexport default connect(mapStateToProps, { fetchSpotById })(SpotCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteSpotIds,\n} from 'containers/Spotlight/selectors';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst SpotCollection = ({\n  favoriteSpotIds,\n  handleOnClick,\n}) => {\n  const cards = favoriteSpotIds.map((value) => value);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card) => (\n          <SpotCard\n            key={card}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  favoriteSpotIds: PropTypes.instanceOf(List),\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nexport default connect(mapStateToProps)(SpotCollection);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectUsers,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserById,\n  fetchProjectById,\n} from 'containers/Spotlight/actions';\n\nconst StyledProjectCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .project-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .project-card__title {\n    font-size: 11px;\n  }\n\n  .project-card__profile-wrapper {\n    display: flex;\n    color: white;\n    padding: 10px;\n    .project-card__profile-favicon {\n      height: 20px;\n      width: 20px;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      border-radius: 100%;\n    }\n    .project-card__profile-name {\n      color: white;\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst ProjectCard = ({\n  users,\n  projects,\n  projectId,\n  fetchUserById,\n  fetchProjectById,\n  handleOnClick,\n}) => {\n  useEffect(() => {\n    const project = projects.get(projectId);\n    if (!project) {\n      fetchProjectById(projectId);\n    } else {\n      const ownerId = project.get('owner');\n      if (!users.get(ownerId)) {\n        fetchUserById(ownerId);\n      }\n    }\n  }, [users, projects]);\n\n  const project = projects.get(projectId);\n\n  if (!project) {\n    return null;\n  }\n\n  const ownerId = project.get('owner');\n  const user = users.get(ownerId);\n  const userName = user && (user.get('name') || '在地專業嚮導');\n  const imagePath = 'https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg';\n  const faviconPath = user && (user.get('protrait') || 'https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg');\n  return (\n    <StyledProjectCard\n      imagePath={imagePath}\n      data-id={projectId}\n      data-redirect-path={PAGE_NAME.DETAIL_PLANNING}\n      onClick={handleOnClick}\n    >\n      <div className=\"project-card__profile-wrapper\">\n        <img className=\"project-card__profile-favicon\" src={faviconPath} alt=\"\" />\n        <div className=\"project-card__profile-name\">{userName}</div>\n      </div>\n      <div className=\"project-card__title-wrapper\">\n        <span className=\"project-card__title\">{project.get('name')}</span>\n      </div>\n    </StyledProjectCard>\n  );\n};\n\nProjectCard.propTypes = {\n  users: PropTypes.object.isRequired,\n  projects: PropTypes.object.isRequired,\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchUserById: PropTypes.func.isRequired,\n  fetchProjectById: PropTypes.func.isRequired,\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  users: selectUsers(),\n  projects: selectProjects(),\n});\n\nexport default connect(mapStateToProps, { fetchUserById, fetchProjectById })(ProjectCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteProjectIds,\n} from 'containers/Spotlight/selectors';\n\nimport ProjectCard from './ProjectCard';\n\nconst StyledProjectCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst ProjectCollection = ({\n  favoriteProjectIds,\n  handleOnClick,\n}) => {\n  const cards = favoriteProjectIds.map((value) => value);\n  return (\n    <StyledProjectCollection>\n      {\n        cards.map((card) => (\n          <ProjectCard\n            key={card}\n            projectId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledProjectCollection>\n  );\n};\n\nProjectCollection.propTypes = {\n  favoriteProjectIds: PropTypes.instanceOf(List),\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteProjectIds: selectFavoriteProjectIds(),\n});\n\nexport default connect(mapStateToProps)(ProjectCollection);\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport ProjectCollection from './ProjectCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <ProjectCollection handleOnClick={handleOnCardClick} />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Redirect } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\nimport {\n  selectUser,\n  selectUsers,\n  selectLoginStatusMeta,\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteProjectIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserStats,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n} from 'containers/Spotlight/actions';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\n\nconst StyledPersonalPage = styled.div`\n  .personal-page__cover-image {\n    height: 120px;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n  }\n  .personal-page__info-wrapper {\n    display: flex;\n    position: relative;\n    padding: 0px 20px;\n    .personal-page__favicon-wrapper {\n      width: 150px;\n    }\n    .personal-page__favicon {\n      border-radius: 100%;\n      border: 3px solid white;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      height: ${(props) => props.faviconSize}px;\n      width: ${(props) => props.faviconSize}px;\n      position: absolute;\n      top: -30px;\n    }\n    .personal-page__profile-wrapper {\n      padding: 10px 10px;\n      width: 100%;\n      .personal-page__profile-name {\n        font-size: 16px;\n        color: #707070;\n        margin-bottom: 10px;\n      }\n      .personal-page__profile-travel-info {\n        display: flex;\n        .personal-page__profile-travel-info-item-wrapper {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          .personal-page__profile-travel-info-item-title {\n            font-size: 12px;\n            color: #707070;\n            margin-bottom: 3px;\n          }\n          .personal-page__profile-travel-info-item-number {\n            font-size: 12px;\n            color: #707070;\n          }\n        }\n        .personal-page__profile-travel-info-item-divier {\n          border-right: 1px solid #D1D1D1;\n        }\n        .personal-page__profile-travel-info-item-padding-right {\n          padding-right: 20px;\n        }\n        .personal-page__profile-travel-info-item-padding-left {\n          padding-left: 20px;\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst PersonalPage = ({\n  user,\n  users,\n  loginStatusMeta,\n  favoriteSpotIdsMeta,\n  favoriteProjectIdsMeta,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n  fetchUserStats,\n}) => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = (user && user.get('protrait')) || 'http://i.imgur.com/EUAd2ht.jpg';\n  const faviconSize = 90;\n  const coverImagePath = 'http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg';\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE.name}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  const isAnonymous = loginStatusMeta.get('isLoaded') && !user;\n  if (!loginStatusMeta.get('isLoaded')) {\n    return null;\n  }\n  if (isAnonymous) {\n    return <Redirect to={routePathConfig.login} />;\n  }\n\n  useEffect(() => {\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      fetchFavoriteSpotIds();\n    }\n    if (!favoriteProjectIdsMeta.get('isLoading')) {\n      fetchFavoriteProjectIds();\n    }\n    if (user) {\n      const userId = user.get('user_id');\n      if (userId) {\n        fetchUserStats(userId);\n      }\n    }\n  }, [users]);\n\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-image\" />\n      <Information\n        user={user}\n        users={users}\n      />\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nPersonalPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  users: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteProjectIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  fetchFavoriteSpotIds: PropTypes.func.isRequired,\n  fetchFavoriteProjectIds: PropTypes.func.isRequired,\n  fetchUserStats: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  users: selectUsers(),\n  loginStatusMeta: selectLoginStatusMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteProjectIdsMeta: selectFavoriteProjectIdsMeta(),\n});\n\nexport default connect(mapStateToProps, { fetchFavoriteSpotIds, fetchFavoriteProjectIds, fetchUserStats })(PersonalPage);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { GRAY } from 'Styled/Settings/colors';\n\nexport const StyledFaviBanner = styled(Link)`\n  height: 100px;\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 15px;\n  .favi-banner__favicon-container {\n    height: 100px;\n    width: 100px;\n    padding: 15px;\n    .favi-banner__favicon {\n      height: 100%;\n      width: 100%;\n      background-color: ${GRAY};\n      border-radius: 50%;\n    }\n  }\n  .favi-banner__favicon-right-arrow {\n    width: 25px;\n    display: flex;\n    align-items: center;\n    &:before {\n      color: ${GRAY};\n      content: \"\\f105\";\n      font-family: \"Font Awesome\\ 5 Free\";\n      font-weight: 900;\n      font-size 50px;\n    }\n  }\n`;\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { StyledFaviBanner } from './styles';\n\nconst FaviBanner = () => (\n  <StyledFaviBanner\n    to={`/${PAGE_NAME.SETTING_INFO}`}\n  >\n    <div className=\"favi-banner__favicon-container\">\n      <div className=\"favi-banner__favicon\" />\n    </div>\n    <div className=\"favi-banner__favicon-right-arrow\" />\n  </StyledFaviBanner>\n);\n\nexport default FaviBanner;\n","import styled from 'styled-components';\nimport {\n  GRAY_DARK,\n  BACKGROUND_COLOR,\n} from 'Styled/Settings/colors';\n\nexport const StyledSettingPage = styled.div`\n  height: 100%;\n  background-color: ${BACKGROUND_COLOR};\n  .setting-page__general-setting {\n    background-color: ${GRAY_DARK};\n    padding: 0 15px;\n    line-height: 48px;\n    font-size: 18px;\n  }\n  .setting-page__logout-button {\n    background-color: white;\n    padding: 0 15px;\n    line-height: 48px;\n    text-align: center;\n    font-size: 18px;\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logout } from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport FaviBanner from './FaviBanner';\nimport { StyledSettingPage } from './styles';\n\nconst SettingPage = (props) => {\n  const handleLogoutClick = () => {\n    props.logout();\n    history.push(`/${PAGE_NAME.EXPLORE}`);\n  };\n  return (\n    <StyledSettingPage>\n      <FaviBanner />\n      <div className=\"setting-page__general-setting\">一般設定</div>\n      <div\n        role=\"presentation\"\n        className=\"setting-page__logout-button\"\n        onClick={handleLogoutClick}\n      >\n       登出\n      </div>\n    </StyledSettingPage>\n  );\n};\n\nSettingPage.propTypes = {\n  logout: PropTypes.func,\n};\n\nexport default connect(null, { logout })(SettingPage);\n","import React from 'react';\n\nconst SettingInfoPage = () => (\n  <div>Implement setting info page here</div>\n);\n\nexport default SettingInfoPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst setBackgroundColor = (isActive) => (isActive ? 'tab__number--active' : '');\n\nconst TabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  &:last-child {\n    padding-right: 50px;\n  }\n  .tab__number {\n    font-size: 14px;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => props.theme.mainColor};\n      color: rgba(51, 51, 51, 1);\n    }\n  }\n  .tab__number--active {\n    background: ${(props) => props.theme.mainColor};\n    color: rgba(51, 51, 51, 1);\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.push({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  const searchParams = new URLSearchParams(window.location.search);\n  const currentDay = searchParams.get('day');\n  return (\n    <TabWrapper>\n      <div\n        role=\"presentation\"\n        className={`tab__number ${setBackgroundColor(currentDay === (id + 1).toString())}`}\n        onClick={handleOnClick}\n      >\n        <div className=\"tab__text\">{`第${id + 1}天`}</div>\n      </div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport editDayIcon from 'assets/edit_day_icon.svg';\nimport Tab from './Tab';\n\nconst DateTabsContainer = styled.div`\n  display: flex;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  position: relative;\n  .date-tab__wrapper {\n    display: flex;\n    height: 50px;\n    overflow-x: auto;\n    border-radius: 10px;\n    padding: 0px 15px;\n  }\n  .date-tab__edit-day-icon {\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 0px;\n    cursor: pointer;\n  }\n`;\n\nconst DateTabs = (props) => {\n  const {\n    days,\n  } = props;\n  const tabs = new Array(days).fill(0).map((x, index) => index);\n  return (\n    <DateTabsContainer>\n      <div className=\"date-tab__wrapper\">\n        {\n          tabs.map((tab) => (\n            <Tab\n              key={tab}\n              id={tab}\n              {...props}\n            />\n          ))\n        }\n      </div>\n      <img src={editDayIcon} className=\"date-tab__edit-day-icon\" alt=\"\" />\n    </DateTabsContainer>\n  );\n};\n\nDateTabs.propTypes = {\n  days: PropTypes.number,\n};\n\nDateTabs.defaultProps = {\n  days: 0,\n};\n\nexport default DateTabs;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nconst fade = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.65;\n  }\n`;\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst addGrowingAnimation = (isHeightGrowing) => (isHeightGrowing ? 'modal-wrapper__height-growing-animation' : '');\n\nconst ModalWrapper = styled.div`\n  .modal-wrapper__mask {\n    background: black;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    opacity: 0.65;\n    animation: 0.15s ease-in-out ${fade};\n    position: absolute;\n    bottom: 0;\n  }\n  .modal-wrapper__modal-content {\n    position: absolute;\n    z-index: 1000;\n  }\n  .modal-wrapper__height-growing-animation {\n    animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  }\n`;\n\nclass Modal extends React.Component {\n  static propTypes = {\n    children: PropTypes.any,\n    isVisible: PropTypes.bool,\n    optionStyle: PropTypes.object,\n    heightGrowing: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    children: null,\n    isVisible: false,\n    optionStyle: {},\n    heightGrowing: false,\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      isVisible,\n    } = this.props;\n    const hasModalRoot = document.getElementById('modal-root-element');\n    if (hasModalRoot) {\n      this.el = hasModalRoot;\n    } else {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', 'modal-root-element');\n    }\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      this.el.style.display = 'none';\n    }\n  }\n\n  componentDidMount() {\n    const hasModalRoot = document.getElementById('modal-root-element');\n    if (hasModalRoot) {\n      this.el = hasModalRoot;\n    } else {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', 'modal-root-element');\n      document.body.appendChild(this.el);\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      isVisible,\n    } = this.props;\n    const modalRootEl = document.getElementById('modal-root-element');\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      modalRootEl.style.display = 'none';\n    }\n  }\n\n  componentWillUnmount() {\n    const hasModalRoot = document.getElementById('modal-root-element');\n    if (hasModalRoot) {\n      document.body.removeChild(this.el);\n    }\n  }\n\n  render() {\n    const {\n      children,\n      isVisible,\n      optionStyle,\n      heightGrowing,\n    } = this.props;\n    if (isVisible) {\n      return ReactDOM.createPortal(\n        <ModalWrapper>\n          <div className={`modal-wrapper__mask ${addGrowingAnimation(heightGrowing)}`} />\n          <div className=\"modal-wrapper__modal-content\" style={optionStyle}>{children}</div>\n        </ModalWrapper>,\n        this.el,\n      );\n    }\n    return null;\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Picker from 'react-mobile-picker-scroll';\nimport {\n  HOURS,\n  MINUTES,\n} from 'containers/Spotlight/constants';\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst TimePickerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  bottom: 0;\n  animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  .time-picker__buttom-wrapper {\n    height: 50px;\n    background: ${(props) => props.theme.mainColor};\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .time-picker__buttom {\n    padding: 0px 15px;\n    font-size: 16px;\n    cursor: pointer;\n    &:hover {\n      color: #333333;\n      font-weight: 500;\n    }\n  }\n\n  .time-picker__scroll-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    overflow: hidden;\n  }\n  .time-picker__option-label {\n    margin: 0px 20px;\n    font-weight: 500;\n  }\n`;\n\nclass TimePicker extends Component {\n  static propTypes = {\n    startTime: PropTypes.string,\n    handleOnOk: PropTypes.func,\n    handleOnCancel: PropTypes.func,\n  }\n\n  static defaultProps = {\n    startTime: '08:00',\n    handleOnOk: () => { },\n    handleOnCancel: () => { },\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      startTime,\n    } = props;\n    this.state = {\n      hourValueGroups: {\n        hour: startTime.split(':')[0],\n      },\n      hourOptionGroups: {\n        hour: HOURS,\n      },\n      minuteValueGroups: {\n        minute: startTime.split(':')[1],\n      },\n      minuteOptionGroups: {\n        minute: MINUTES,\n      },\n    };\n  }\n\n  handleHourChange = (name, value) => {\n    this.setState(({ hourValueGroups }) => ({\n      hourValueGroups: {\n        ...hourValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleMinuteChange = (name, value) => {\n    this.setState(({ minuteValueGroups }) => ({\n      minuteValueGroups: {\n        ...minuteValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleOnCheck = () => {\n    const {\n      handleOnOk,\n    } = this.props;\n    const {\n      hourValueGroups,\n      minuteValueGroups,\n    } = this.state;\n    handleOnOk(`${hourValueGroups.hour}:${minuteValueGroups.minute}:00`);\n  }\n\n  render() {\n    const {\n      handleOnCancel,\n    } = this.props;\n    const {\n      hourValueGroups,\n      hourOptionGroups,\n      minuteValueGroups,\n      minuteOptionGroups,\n    } = this.state;\n    return (\n      <TimePickerWrapper>\n        <div className=\"time-picker__buttom-wrapper\">\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={handleOnCancel}>取消</div>\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={this.handleOnCheck}>確定</div>\n        </div>\n        <div className=\"time-picker__scroll-wrapper\">\n          <div>\n            <Picker\n              valueGroups={hourValueGroups}\n              optionGroups={hourOptionGroups}\n              onChange={this.handleHourChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">時</div>\n          <div>\n            <Picker\n              valueGroups={minuteValueGroups}\n              optionGroups={minuteOptionGroups}\n              onChange={this.handleMinuteChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">分</div>\n        </div>\n      </TimePickerWrapper>\n    );\n  }\n}\n\nexport default TimePicker;\n","import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { List, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  WEEKDAYS_SHORT,\n} from 'containers/Spotlight/constants';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst StyledDateTimeInfo = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding: 0px 15px;\n  justify-content: space-between;\n  margin-top: 30px;\n  .date-time-info__date-text {\n    color: rgba(51, 51, 51, 1);\n    font-family: 'Segoe UI';\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .date-time-info__start-time-wrapper {\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n    background: rgba(51, 51, 51, 1);\n    color: white;\n    padding: 6px 8px;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      background: rgba(51, 51, 51, 0.8);\n    }\n  }\n  .date-time-info__clock-icon {\n    margin-right: 5px;\n    color: ${(props) => props.theme.mainColor};\n  }\n`;\n\nconst DateTimeInfo = (props) => {\n  const {\n    match,\n    startDay,\n    plan,\n    isModalVisible,\n    handleSetModalVisible,\n    handleSubmitUpdateProject,\n  } = props;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const date = moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').format('YYYY年MM月DD日');\n  const weekday = WEEKDAYS_SHORT[moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').get('weekday')];\n  const startTime = moment(plan.getIn([day - 1, 'start_time']), 'HH:mm').format('HH:mm');\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const { projectId } = match.params;\n    const updatedPlan = plan.setIn([day - 1, 'start_time'], value);\n    const updatedProject = fromJS({\n      plan: updatedPlan,\n    });\n    handleSubmitUpdateProject(projectId, updatedProject);\n  }, []);\n\n  return (\n    <>\n      <StyledDateTimeInfo>\n        <div className=\"date-time-info__date-text\">{`${date} ${weekday}`}</div>\n        <div role=\"presentation\" className=\"date-time-info__start-time-wrapper\" onClick={handleShowModal}>\n          <i className=\"far fa-clock date-time-info__clock-icon\" />\n          <span>{`出發時間 ${startTime}`}</span>\n        </div>\n      </StyledDateTimeInfo>\n      <Modal\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n        heightGrowing\n      >\n        <TimePicker\n          startTime={startTime}\n          handleOnCancel={handleHideModal}\n          handleOnOk={handleOnPickerCheck}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDateTimeInfo.propTypes = {\n  match: PropTypes.object,\n  startDay: PropTypes.string,\n  isModalVisible: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  handleSetModalVisible: PropTypes.func,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDateTimeInfo.defaultProps = {\n  match: {},\n  startDay: '',\n  isModalVisible: false,\n  plan: List(),\n  handleSetModalVisible: () => { },\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimeInfo);\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst SpotOperationBtnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0px 15px;\n  .spot-operation__button {\n    background: white;\n    border-radius: 10px;\n    line-height: 40px;\n    font-size: 16px;\n    color: #333333;\n    outline: none;\n    cursor: pointer;\n    &:hover {\n      background: #eee;\n    }\n  }\n  .spot-operation__button--normal {\n    margin-top: 5px;\n  }\n  .spot-operation__button--cancel {\n    color: #EB715A;\n    margin: 15px 0px;\n  }\n`;\n\nconst SpotOperationBtn = ({\n  handleHideModal,\n}) => (\n  <SpotOperationBtnContainer>\n    <button className=\"spot-operation__button\" type=\"button\">\n      <span>景點設定</span>\n    </button>\n    <button className=\"spot-operation__button spot-operation__button--normal\" type=\"button\">\n      <span>刪除此行程</span>\n    </button>\n    <button className=\"spot-operation__button spot-operation__button--cancel\" type=\"button\" onClick={handleHideModal}>\n      <span>取消</span>\n    </button>\n  </SpotOperationBtnContainer>\n);\n\nSpotOperationBtn.propTypes = {\n  handleHideModal: PropTypes.func,\n};\n\nSpotOperationBtn.defaultProps = {\n  handleHideModal: () => {},\n};\n\nexport default SpotOperationBtn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Map } from 'immutable';\n\nexport const HEIGHT_SPOT_CARD = 60;\nexport const HEIGHT_SPOT_TRAVEL_TIME = 40;\n\nconst StyledSpotCard = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .spot-card__card-row {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 0px 15px;\n    box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n    border-radius: 10px;\n  }\n  .spot-card__card-body-spot-title {\n    font-size: 16px;\n    font-weight: 500;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: rgba(170, 170, 170, 1);\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n    color: rgba(51, 51, 51, 1);\n  }\n`;\n\nconst SpotCard = (props) => {\n  const {\n    spotIndexInfo,\n    spots,\n    handleFetchSpotById,\n  } = props;\n  const spot = spots.get(spotIndexInfo.get('spot_id'));\n  if (!spot) {\n    handleFetchSpotById(spotIndexInfo.get('spot_id'));\n    return null;\n  }\n\n  return (\n    <StyledSpotCard>\n      <div className=\"spot-card__card-row\">\n        <div className=\"spot-card__start-end-time-wrapper\">\n          <div>8:00</div>\n          <div>|</div>\n          <div>10:00</div>\n        </div>\n        <div className=\"spot-card__card-body\">\n          <div className=\"spot-card__card-body-spot-title\">{spot.get('name')}</div>\n          <div className=\"spot-card__card-body-address\">{spot.get('address')}</div>\n        </div>\n      </div>\n      <div className=\"spot-card__travel-row-wrapper\">\n        <div className=\"spot-card__travel-time-wrapper\">\n          <i className=\"fas fa-car spot-card__travel-time-icon\" />\n          <div>1時15分</div>\n        </div>\n        <div className=\"spot-card__travel-time-wrapper\">\n          <i className=\"fas fa-running spot-card__travel-time-icon\" />\n          <div>6時15分</div>\n        </div>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spotIndexInfo: PropTypes.instanceOf(Map),\n  spots: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func,\n};\n\nSpotCard.defaultProps = {\n  spotIndexInfo: Map(),\n  spots: Map(),\n  handleFetchSpotById: () => { },\n};\n\nexport default SpotCard;\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n// http://front-ender.me/react-drag-list\nimport ReactDragList from 'react-drag-list';\nimport 'react-drag-list/assets/index.css';\nimport { List } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Modal from 'components/Modal';\nimport history from 'utils/history';\nimport mapPlusIconPath from 'assets/map_plus_icon.svg';\nimport arrowLeftGreyIconPath from 'assets/arrow_left_grey_icon.svg';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport SpotOperationBtn from './SpotOperationBtn';\n\nimport SpotCard, {\n  HEIGHT_SPOT_CARD,\n  HEIGHT_SPOT_TRAVEL_TIME,\n} from './SpotCard';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  // height: '245px',\n};\n\nconst StyledContent = styled.div`\n  padding: 15px 15px;\n  padding-top: 0;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n\n  .content__default-message-wrapper {\n    display: flex;\n    padding: 0px 15px;\n    align-items: center;\n  }\n  .content__default-message-text {\n    font-size: 18px;\n    color: #AAAAAA;\n    font-weight: 400;\n  }\n  .content__arrow-left_grey-icon {\n    width: 20px;\n    height: 14px;\n    margin-right: 9px;\n  }\n`;\n\nconst SpotOperator = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  .operator__number-wrapper {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 2px solid rgba(51, 51, 51, 1);\n    color: rgba(51, 51, 51, 1);\n    font-size: 16px;\n    font-weight: 500;\n    border-radius: 100%;\n    width: 29px;\n    height: 29px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: rgba(51, 51, 51, 1);\n      color: ${(props) => props.theme.mainColor};\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 2px;\n    background: rgba(170, 170, 170, 1);\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    height: 33px;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n`;\n\nconst Content = (props) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const {\n    plan,\n  } = props;\n  const handleGoToAddSpot = useCallback((event) => {\n    const { projectId } = props.match.params;\n    const { search } = props.location;\n    const insertAfterIndex = findAttributeInEvent(event, 'data-index');\n    const addSpotToPlanPagePath = `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/${projectId}`;\n    history.push({\n      pathname: addSpotToPlanPagePath,\n      search: `${search}&afterIndex=${insertAfterIndex}`,\n      state: { afterIndex: insertAfterIndex },\n    });\n  });\n  const handleShowModal = useCallback(() => {\n    setIsModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    setIsModalVisible(false);\n  }, []);\n\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const arrange = plan.getIn([day - 1, 'arrange']);\n  if (arrange.size === 0) {\n    return (\n      <StyledContent>\n        <div className=\"content__spot-cards-wrapper\">\n          <SpotOperator>\n            <div\n              role=\"presentation\"\n              className=\"operator__map-marker-wrapper\"\n              data-index={1}\n              onClick={handleGoToAddSpot}\n            >\n              <img src={mapPlusIconPath} className=\"operator__map-marker-icon\" alt=\"\" />\n            </div>\n          </SpotOperator>\n          <div className=\"content__default-message-wrapper\">\n            <img className=\"content__arrow-left_grey-icon\" src={arrowLeftGreyIconPath} alt=\"\" />\n            <div className=\"content__default-message-text\">按左側按鈕開始添加你的行程</div>\n          </div>\n        </div>\n      </StyledContent>\n    );\n  }\n  return (\n    <StyledContent>\n      <div className=\"content__spot-cards-wrapper\">\n        <div>\n          {\n            arrange.map((spot, index) => (\n              <SpotOperator key={spot.get('spot_id')}>\n                <div className=\"operator__number-wrapper\">\n                  {\n                    Boolean(index) &&\n                    <div className=\"operator__divider-line operator__divider-line-top\" />\n                  }\n                  <div\n                    role=\"presentation\"\n                    className=\"operator__number-circle-border\"\n                    onClick={handleShowModal}\n                  >\n                    <span>{index + 1}</span>\n                  </div>\n                  <div className=\"operator__divider-line operator__divider-line-bottom\" />\n                </div>\n                <div\n                  role=\"presentation\"\n                  className=\"operator__map-marker-wrapper\"\n                  data-index={index + 1}\n                  onClick={handleGoToAddSpot}\n                >\n                  <img src={mapPlusIconPath} className=\"operator__map-marker-icon\" alt=\"\" />\n                </div>\n              </SpotOperator>\n            ))\n          }\n        </div>\n        <ReactDragList\n          dataSource={arrange}\n          row={(spot, index) => (\n            <SpotCard\n              key={spot.get('spot_id')}\n              spotIndexInfo={spot}\n              index={index}\n              {...props}\n            />\n          )}\n          handles={false}\n          className=\"simple-drag content__spot-simple-drag\"\n          rowClassName=\"simple-drag-row\"\n          onUpdate={() => { }}\n        />\n      </div>\n      <Modal\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n      >\n        <SpotOperationBtn\n          handleHideModal={handleHideModal}\n        />\n      </Modal>\n    </StyledContent>\n  );\n};\n\nContent.propTypes = {\n  plan: PropTypes.instanceOf(List),\n  location: PropTypes.object,\n  match: PropTypes.object,\n};\n\nContent.defaultProps = {\n  plan: List(),\n  location: {},\n  match: {},\n};\n\nexport default Content;\n","import styled from 'styled-components';\n\nconst tempCoverPath = 'https://attach.setn.com/newsimages/2016/12/30/761776-XXL.jpg';\n\nexport const DetailPlanningPageContainer = styled.div`\n  .detail-planning__cover {\n    position: relative;\n    background-image: url(${tempCoverPath});\n    background-size: cover;\n\n    height: 190px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n      color: white;\n      font-weight: 600;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n      color: white;\n      font-weight: 500;\n      margin-bottom: 10px;\n    }\n  }\n  .detail-planning__info_wrapper {\n    transform: translateY(32px);\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport DateTabs from './DateTabs';\nimport DateTimeInfo from './DateTimeInfo';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\n\nconst DetailPlanningPage = (props) => {\n  const {\n    match,\n    ownProjectsMeta,\n    ownProjects,\n    handleFetchOwnProjects,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const days = ownProject.get('tot_days');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const plan = ownProject.get('plan');\n  return (\n    <DetailPlanningPageContainer>\n      <div className=\"detail-planning__cover\">\n        <div className=\"detail-planning__info_wrapper\">\n          <div className=\"detail-planning__cover-title\">\n            <span>{name}</span>\n          </div>\n          <div className=\"detail-planning__cover-period\">\n            {`${startDay} - ${endDay} / ${days}天`}\n          </div>\n          <DateTabs days={days} {...props} />\n        </div>\n      </div>\n      <DateTimeInfo plan={plan} startDay={startDay} {...props} />\n      <Content plan={plan} {...props} />\n    </DetailPlanningPageContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst InputBoxWrapper = styled.div`\n  display: flex;\n  height: 40px;\n  color: #707070;\n  margin-top: 15px;\n  border-radius: 20px;\n  .input-box__label-box {\n    background: rgba(238, 238, 238, 1);\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    border-radius: 20px 0px 0px 20px;\n    padding-left: 10px;\n  }\n  .input-box__input {\n    background: rgba(238, 238, 238, 1);\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    border-radius: 0px 20px 20px 0px;\n  }\n`;\n\nconst InputBox = ({\n  title, inputType, defaultValue, handleOnChange,\n}) => (\n  <InputBoxWrapper className=\"input-box__input-wrapper\">\n    <div className=\"input-box__label-box\"><span>{title}</span></div>\n    <input\n      type={inputType}\n      defaultValue={defaultValue}\n      className=\"input-box__input\"\n      onChange={handleOnChange}\n    />\n  </InputBoxWrapper>\n);\n\nInputBox.propTypes = {\n  title: PropTypes.string,\n  inputType: PropTypes.string,\n  defaultValue: PropTypes.string,\n  handleOnChange: PropTypes.func,\n};\n\nInputBox.defaultProps = {\n  title: '',\n  inputType: 'text',\n  defaultValue: '',\n  handleOnChange: () => { },\n};\n\nexport default InputBox;\n","import React, { useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Map } from 'immutable';\nimport styled from 'styled-components';\nimport InputBox from 'components/InputBox';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\n\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPageWrapper = styled.div`\n  padding: 0px 15px;\n`;\n\nconst UpdatePlanningPage = ({\n  match,\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const handleOnNameChange = useCallback((event) => {\n    const name = event.target.value;\n    setUpdateProject((updateProject) => updateProject.set('name', name));\n  }, []);\n  const handleOnDateChange = useCallback((event) => {\n    const starDay = event.target.value;\n    setUpdateProject((data) => data.set('start_day', moment(starDay).format('YYYY/MM/DD 00:00:00')));\n  }, []);\n\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    setUpdateProject(Map());\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY-MM-DD'); // defaultValue format must be YYYY-MM-DD\n  return (\n    <UpdatePlanningPageWrapper>\n      <InputBox\n        title=\"旅程名稱\"\n        defaultValue={name}\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        defaultValue={startDay}\n        handleOnChange={handleOnDateChange}\n      />\n    </UpdatePlanningPageWrapper>\n  );\n};\n\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport Context from 'containers/Spotlight/Context';\nimport InputBox from 'components/InputBox';\n\nconst { SpotlightContext } = Context;\n\nconst StyledCreateProjectPage = styled.div`\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n`;\n\nconst CreateProjectPage = () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setNewProject,\n  } = context;\n  const handleOnNameChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('name', currentValue));\n  };\n  const handleOnStartDayChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('start_day', currentValue));\n  };\n  const handleOnDaysChange = (event) => {\n    const currentValue = event.currentTarget.value > 0 ? parseInt(event.currentTarget.value, 10) : 0;\n    setNewProject((newProject) => newProject.set('tot_days', currentValue));\n  };\n  return (\n    <StyledCreateProjectPage>\n      <InputBox\n        title=\"旅程名稱\"\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        handleOnChange={handleOnStartDayChange}\n      />\n      <InputBox\n        title=\"天數\"\n        handleOnChange={handleOnDaysChange}\n      />\n    </StyledCreateProjectPage>\n  );\n};\n\nexport default CreateProjectPage;\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport 'react-image-gallery/styles/css/image-gallery.css';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport Spinner from 'components/Spinner';\nimport ImageGallery from 'react-image-gallery';\nimport Context from 'containers/Spotlight/Context';\n\nimport redHeartCircleIconPath from 'assets/red_heart_circle_icon.svg';\nimport checkCircleIconPath from 'assets/check_circle_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst getRandom = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\n\nconst HEIGHT_SPOT_CARD = 140;\n\nconst LikedSpotCardContainer = styled.div`\n  width: 100%;\n  height: ${HEIGHT_SPOT_CARD}px;\n  background: red;\n  position: relative;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  border-radius: 10px;\n  cursor: pointer;\n\n  .liked-spot-card__card-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100px;\n    border-radius: 10px;\n  }\n\n  .image-gallery-image {\n    height: 100px;\n    max-height: 100px;\n  }\n  .image-gallery-slides {\n    border-radius: 10px 10px 0px 0px;\n  }\n\n  .liked-spot-card__card-cover {\n    height: 100%;\n  }\n  .liked-spot-card__card-title-wrapper {\n    height: 40px;\n    background: white;\n    border-radius: 0px 0px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0px 10px;\n  }\n  .liked-spot-card__card-title {\n    font-size: 14px;\n    color: #333333;\n    font-weight: 500;\n\n    overflow : hidden;\n    text-overflow : ellipsis;\n    white-space : nowrap;\n  }\n  .liked-spot-card__card-like-wrapper {\n    display: flex;\n    align-items: center;\n  }\n  .liked-spot-card__card-heart-icon {\n    width: 30px;\n    height: 30px;\n  }\n  .liked-spot-card__mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #000000;\n    opacity: 0.7;\n    border: 4px solid #AAAAAA;\n    border-radius: 10px;\n  }\n  .liked-spot-card__check-icon {\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    right: 0px;\n    margin: 5px;\n  }\n`;\n\nconst LikedSpotCard = ({\n  spotId,\n  spots,\n  match,\n  handleFetchSpotById,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  const foundSpotDetail = spots.get(spotId);\n  const handleSelectLikedSpot = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    setSelectedLikedSpotId({\n      spotId,\n      projectId: match.params.projectId,\n      day: searchParams.get('day'),\n      afterIndex: searchParams.get('afterIndex'),\n      elapsedTime: '02:00',\n    });\n  }, []);\n  useEffect(() => {\n    if (!foundSpotDetail) {\n      handleFetchSpotById(spotId);\n    }\n  }, []);\n  if (!foundSpotDetail) {\n    return <Spinner height={HEIGHT_SPOT_CARD} />;\n  }\n  let showMask = false;\n  if (selectedLikedSpotId) {\n    showMask = selectedLikedSpotId.spotId === spotId;\n  }\n  const pics = foundSpotDetail.get('pic').map((pic) => ({\n    original: pic,\n    thumbnail: pic,\n  })).toJS();\n\n  return (\n    <LikedSpotCardContainer>\n      <div role=\"presentation\" className=\"liked-spot-card__card-wrapper\" onClick={handleSelectLikedSpot}>\n        <div className=\"liked-spot-card__card-cover\">\n          <ImageGallery\n            items={pics}\n            showThumbnails={false}\n            showFullscreenButton={false}\n            showPlayButton={false}\n            showNav={false}\n            autoPlay\n            slideInterval={getRandom(3000, 5000)}\n          />\n        </div>\n        <div className=\"liked-spot-card__card-title-wrapper\">\n          <div className=\"liked-spot-card__card-title\">{foundSpotDetail.get('name')}</div>\n          <div className=\"liked-spot-card__card-like-wrapper\">\n            <img src={redHeartCircleIconPath} className=\"liked-spot-card__card-heart-icon\" alt=\"\" />\n            <div>666</div>\n          </div>\n        </div>\n      </div>\n      {\n        showMask &&\n        <>\n          <div className=\"liked-spot-card__mask\" />\n          <img className=\"liked-spot-card__check-icon\" src={checkCircleIconPath} alt=\"\" />\n        </>\n      }\n    </LikedSpotCardContainer>\n  );\n};\n\nLikedSpotCard.propTypes = {\n  match: PropTypes.object,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  spots: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func,\n};\n\nLikedSpotCard.defaultProps = {\n  match: {},\n  spots: Map(),\n  handleFetchSpotById: () => { },\n};\n\nexport default LikedSpotCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport {\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteSpotIds,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchFavoriteSpotIds,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport LikedSpotCard from './LikedSpotCard';\n\nconst AddSpotToPlanPageContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  padding: 15px 13px;\n  grid-gap: 7px 7px;\n`;\n\nconst AddSpotToPlanPage = (props) => {\n  const {\n    favoriteSpotIdsMeta,\n    favoriteSpotIds,\n    handleFetchFavoriteSpotIds,\n  } = props;\n  const isLoaded = favoriteSpotIdsMeta.get('isLoaded');\n  const isLoading = favoriteSpotIdsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchFavoriteSpotIds();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  return (\n    <AddSpotToPlanPageContainer>\n      {\n        favoriteSpotIds.map((spotId) => (\n          <LikedSpotCard\n            key={spotId}\n            spotId={spotId}\n            {...props}\n          />\n        ))\n      }\n    </AddSpotToPlanPageContainer>\n  );\n};\n\nAddSpotToPlanPage.propTypes = {\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List),\n};\n\nAddSpotToPlanPage.defaultProps = {\n  favoriteSpotIds: List(),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddSpotToPlanPage);\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst { SpotlightContext } = Context;\n\nconst SettingSpotCardPageContainer = styled.div`\n  padding: 15px;\n`;\n\nconst TimePickerInput = styled.div`\n  display: flex;\n  background: rgba(238, 238, 238, 1);\n  align-items: center;\n  height: 40px;\n  border-radius: 20px;\n  padding: 0px 10px;\n  .time-picker-input__label-box {\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    padding-left: 10px;\n    padding-right: 20px;\n  }\n  .time-picker-input__input {\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    cursor: pointer;\n  }\n`;\n\nconst SettingSpotCardPage = (props) => {\n  const {\n    isModalVisible,\n    handleSetModalVisible,\n  } = props;\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  if (!selectedLikedSpotId) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const {\n    elapsedTime,\n  } = selectedLikedSpotId;\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const time = value.split(':');\n    setSelectedLikedSpotId((spot) => ({\n      ...spot,\n      elapsedTime: `${time[0]}:${time[1]}`,\n    }));\n    handleSetModalVisible(false);\n  }, []);\n  return (\n    <SettingSpotCardPageContainer>\n      <TimePickerInput>\n        <div className=\"time-picker-input__label-box\">停留時間</div>\n        <div\n          role=\"presentation\"\n          className=\"time-picker-input__input\"\n          onClick={handleShowModal}\n        >\n          {elapsedTime}\n        </div>\n        <Modal\n          optionStyle={modalStyle}\n          isVisible={isModalVisible}\n          heightGrowing\n        >\n          <TimePicker\n            startTime={elapsedTime}\n            handleOnCancel={handleHideModal}\n            handleOnOk={handleOnPickerCheck}\n          />\n        </Modal>\n      </TimePickerInput>\n    </SettingSpotCardPageContainer>\n  );\n};\n\nSettingSpotCardPage.propTypes = {\n  isModalVisible: PropTypes.bool,\n  handleSetModalVisible: PropTypes.func,\n};\n\nSettingSpotCardPage.defaultProps = {\n  isModalVisible: false,\n  handleSetModalVisible: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingSpotCardPage);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n`;\n\nexport const Feature = styled.div`\n  position: relative;\n  padding-top: 175px;\n  margin-bottom: 20px;\n`;\n\nexport const BackButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  left: 15px;\n  top: 20px;\n`;\n\nexport const AddButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  right: 15px;\n  top: 20px;\n`;\n\nexport const FeatureImage = styled.img`\n  position: absolute;\n  top: 0;\n  display: block;\n  height: 205px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const FeatureInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  font-size: 16px;\n  margin: 0 38px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  z-index: 1;\n`;\n\nexport const SpotName = styled.span`\n  color: #333333;\n  font-size: 18px;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: bold;\n`;\n\nexport const Title = styled.div`\n  padding: 0 15px;\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #333333;\n  font-weight: bold;\n`;\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n  color: #AAAAAA;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const LikeButton = styled.i`\n  margin-right: 6px;\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0 0 6px rgba(0, 0, 0, .16);\n  color: #EB715A;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Paragraph = styled.p`\n  padding: 0 15px;\n  margin-bottom: 15px;\n  color: #AAAAAA;\n  line-height: 1.75;\n\n  &:last-child {\n    margin-bottom: 0;\n    padding-bottom: 35px;\n  }\n`;\n","import React, { useEffect, useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport { selectSpotMeta, selectSpots, selectFavoriteSpotIds } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n  fetchFavoriteSpotIds,\n  likeSpot,\n  cancelLikeSpot,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nimport {\n  Feature,\n  FeatureImage,\n  FeatureInfo,\n  Title,\n  LikeButton,\n  Paragraph,\n  SpotName,\n  LikeLabel,\n  Container,\n  BackButton,\n  AddButton,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst SpotPage = ({\n  match,\n  spots,\n  handleFetchSpotById,\n  setSpotMeta,\n  location,\n  handleFetchFavoriteSpotIds,\n  favoriteSpotIds,\n  handleLikeSpot,\n  handleCancelLikeSpot,\n}) => {\n  const { setIsHeaderVisible } = useContext(SpotlightContext);\n  const { spotId } = match.params;\n  const isSpotFavorite = favoriteSpotIds.includes(Number(spotId));\n\n  useEffect(() => {\n    handleFetchSpotById(spotId);\n    handleFetchFavoriteSpotIds();\n    setIsHeaderVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n    };\n  }, []);\n\n  const handleLikeOnClick = useCallback(() => {\n    if (isSpotFavorite) {\n      handleCancelLikeSpot(Number(spotId));\n    } else {\n      handleLikeSpot(Number(spotId));\n    }\n  });\n\n  if (setSpotMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  const spot = spots.get(Number(spotId), Map());\n  if (!spot.size) {\n    return <div>找不到該景點資料</div>;\n  }\n  return (\n    <Container>\n      <Feature>\n        <BackButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n          <i className=\"fas fa-arrow-left\" />\n        </BackButton>\n        <AddButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`}>\n          <i className=\"fas fa-plus\" />\n        </AddButton>\n        <FeatureImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n        <FeatureInfo>\n          <SpotName>{spot.get('name')}</SpotName>\n          <LikeLabel onClick={handleLikeOnClick}>\n            <LikeButton\n              className={`${\n                isSpotFavorite\n                  ? 'fas fa-heart'\n                  : 'far fa-heart'\n              }`}\n            />\n            {spot.get('like_num')}\n          </LikeLabel>\n        </FeatureInfo>\n      </Feature>\n      <Title>景點介紹</Title>\n      <Paragraph>\n        {spot.get('describe')}\n      </Paragraph>\n      <Title>地址</Title>\n      <Paragraph>{spot.get('address')}</Paragraph>\n      <Title>電話</Title>\n      <Paragraph>{spot.get('tel')}</Paragraph>\n      <Title>網址</Title>\n      <Paragraph>\n        <a href={spot.get('website')}>{spot.get('website')}</a>\n      </Paragraph>\n    </Container>\n  );\n};\n\nSpotPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  setSpotMeta: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleCancelLikeSpot: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n  setSpotMeta: selectSpotMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleCancelLikeSpot: (id) => dispatch(cancelLikeSpot(id)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SpotPage));\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n`;\n\nexport const Project = styled(Link)`\n  display: block;\n  padding: 19px 0 12px;\n  margin: 0 15px;\n  border-bottom: solid 1px #DFDFDF;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n`;\n\nexport const ProjectName = styled.div`\n  color: #333333;\n  font-size: 14px;\n`;\n\nexport const ProjectDate = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n\nexport const CreateProjectButton = styled(Link)`\n  margin: 0 15px;\n  padding: 25px 0;\n  border-bottom: solid 1px #DFDFDF;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n  }\n`;\n\nexport const AddIcon = styled.i`\n  font-size: 18px;\n  margin-right: 6px;\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport { withRouter } from 'react-router';\nimport moment from 'moment';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  Container,\n  Project,\n  ProjectName,\n  ProjectDate,\n  CreateProjectButton,\n  AddIcon,\n} from './Styled';\n\nconst AddSpotToProjectPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  ownProjects,\n  location,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  if (ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container>\n      {ownProjects.map((project) => (\n        <Project\n          key={project.get('proj_id')}\n          to={`${location.pathname}/${project.get('proj_id')}`}\n        >\n          <ProjectName>{project.get('name')}</ProjectName>\n          <ProjectDate>\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .format('YYYY年MM月DD日')\n            }\n            -\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .add(project.get('tot_days') - 1, 'days')\n              .format('YYYY年MM月DD日')\n            }\n            {' / '}\n            {project.get('tot_days')}\n            天\n          </ProjectDate>\n        </Project>\n      ))}\n      <CreateProjectButton to={`/${PAGE_NAME.CREATE_PROJECT}`}>\n        <AddIcon className=\"fas fa-plus\" />\n        增加旅程\n      </CreateProjectButton>\n    </Container>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPage));\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const ProjectTitle = styled.div`\n  padding: 9px 0;\n  font-size: 16px;\n  color: #EEEEEE;\n  text-align: center;\n  background-color: #333333;\n`;\n\nexport const Plan = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  margin: 0 15px;\n  border-bottom: solid 1px lightgray;\n  color: #333333;\n  font-size: 14px;\n`;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjectById,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  ProjectTitle,\n  Plan,\n  Container,\n} from './Styled';\n\nconst DEFAULT_SPOT_DURATION = 60;\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  project,\n  match,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded') && !ownProjectsMeta.get('isLoading')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  const { setUpdateProject } = useContext(SpotlightContext);\n  const [daySelection, setDaySelection] = useState(List());\n\n  useEffect(() => {\n    if (project) {\n      setUpdateProject(project.update('plan', (plan) => plan.map((day, index) => {\n        const { spotId } = match.params;\n        const arrange = day.get('arrange');\n        const isSpotAlreadyArranged = arrange.filter((spotArrange) => spotArrange.get('spot_id') === spotId).size > 0;\n\n        if (!isSpotAlreadyArranged && daySelection.get(index)) {\n          return day.set(\n            'arrange',\n            arrange.push(Map({ spot_id: spotId, during: DEFAULT_SPOT_DURATION })),\n          );\n        }\n        return day;\n      })));\n    }\n\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, [daySelection]);\n\n  if (!ownProjectsMeta.get('isLoaded') || ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  if (!project) {\n    return '沒有這個旅程';\n  }\n\n  return (\n    <Container>\n      <ProjectTitle>{project.get('name')}</ProjectTitle>\n      {project.get('plan').map((_plan, index) => (\n        <Plan key={index /* eslint-disable-line react/no-array-index-key */}>\n          {`第${index + 1}天`}\n          <input\n            type=\"checkbox\"\n            checked={daySelection.get(index) || false}\n            onChange={(event) => (\n              setDaySelection(daySelection.set(index, event.currentTarget.checked))\n            )}\n          />\n        </Plan>\n      ))}\n    </Container>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  project: PropTypes.instanceOf(Map),\n  match: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ownProjectsMeta: selectOwnProjectsMeta()(state),\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Content/PersonalPage/SettingPage';\nimport SettingInfoPage from 'containers/Spotlight/Content/PersonalPage/SettingPage/SettingInfoPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Content/PlanningPage/CreateProjectPage';\nimport AddSpotToPlanPage from 'containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage';\nimport SettingSpotCardPage from 'containers/Spotlight/Content/PlanningPage/SettingSpotCardPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Content/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Content/AddSpotToProjectPlanPage';\n\nexport const routePathConfig = {\n  loginPagePath: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE.name}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING.name}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL.name}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE.name}`,\n  settingPath: `/${PAGE_NAME.SETTING.name}`,\n  settingInfoPath: `/${PAGE_NAME.SETTING_INFO.name}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING.name}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING.name}/:projectId`,\n  addSpotToPlanPagePath: `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/:projectId`,\n  settingSpotCardPagePath: `/${PAGE_NAME.SETTING_SPOT_CARD.name}/:projectId`,\n  createProjectPagePath: `/${PAGE_NAME.CREATE_PROJECT.name}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId`,\n  addSpotToProjectPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`,\n  addSpotToProjectPlanPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}/:projectId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.settingInfoPath} component={SettingInfoPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.settingSpotCardPagePath} component={SettingSpotCardPage} />\n      <Route exact path={routePathConfig.addSpotToPlanPagePath} component={AddSpotToPlanPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Header/PersonalPage/SettingPage';\nimport SettingInfoPage from 'containers/Spotlight/Header/PersonalPage/SettingPage/SettingInfoPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Header/PlanningPage/CreateProjectPage';\nimport AddSpotToPlanPage from 'containers/Spotlight/Header/PlanningPage/AddSpotToPlanPage';\nimport SettingSpotCardPage from 'containers/Spotlight/Header/PlanningPage/SettingSpotCardPage';\nimport SpotPage from 'containers/Spotlight/Header/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Header/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Header/AddSpotToProjectPlanPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.settingInfoPath} component={SettingInfoPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.settingSpotCardPagePath} component={SettingSpotCardPage} />\n      <Route exact path={routePathConfig.addSpotToPlanPagePath} component={AddSpotToPlanPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: ${(props) => props.theme.mainColor};\n  font-weight: 600;\n  color: rgba(51, 51, 51, 1);\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst setNavTabActive = (isActive) => (isActive ? 'nav-tab__active' : '');\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n    background-image: url(${(props) => props.iconPath.normal});\n    background-size: cover;\n    &:hover {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n    &:active {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n  }\n  .nav-tab__active {\n    background-image: url(${(props) => props.iconPath.hover});\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    page,\n    iconPath,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  };\n  const isActive = window.location.pathname.includes(page.name);\n  return (\n    <NavTabWrapper iconPath={iconPath} data-page-path={page.name} onClick={handleRedirect}>\n      <div className={`nav-tab__image ${setNavTabActive(isActive)}`} />\n      <div>{page.text}</div>\n    </NavTabWrapper>\n  );\n};\n\nNavTab.propTypes = {\n  page: PropTypes.object.isRequired,\n  iconPath: PropTypes.object.isRequired,\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\nimport {\n  NavIcon,\n} from 'containers/Spotlight/constants';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.16);\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab page={PAGE_NAME.EXPLORE} iconPath={NavIcon.explore} />\n    <NavTab page={PAGE_NAME.PLANNING} iconPath={NavIcon.planning} />\n    <NavTab page={PAGE_NAME.TRAVEL_WALL} iconPath={NavIcon.travelWall} />\n    <NavTab page={PAGE_NAME.PERSONAL_PAGE} iconPath={NavIcon.personal} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  ${(props) => (`\n    grid-template-rows:\n      ${props.isHeaderVisible ? HEIGHT_HEADER : 0}px\n      auto\n      ${props.isNavVisible ? HEIGHT_NAVIGATION : 0}px\n    ;\n  `)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    display: flex;\n    justify-content: center;\n    position: relative;\n    z-index: 1;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchLoginStatus,\n} from './actions';\nimport {\n  selectLoginStatusMeta,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  handleFetchLoginStatus,\n  loginStatusMeta,\n}) => {\n  useEffect(() => {\n    if (!loginStatusMeta.get('isLoading')) {\n      handleFetchLoginStatus();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible, isHeaderVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible} isHeaderVisible={isHeaderVisible}>\n              {\n                isHeaderVisible &&\n                <div className=\"spot-light__header-container\">\n                  <Header />\n                </div>\n              }\n              <div className=\"spot-light__content-container\">\n                {\n                  (loginStatusMeta.get('isLoading'))\n                    ? <Spinner />\n                    : <Content />\n                }\n              </div>\n              {\n                isNavVisible &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  handleFetchLoginStatus: PropTypes.func.isRequired,\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nSpotlight.defaultProps = {\n};\n\nconst mapStateToProps = createStructuredSelector({\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchLoginStatus: () => dispatch(fetchLoginStatus()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Spotlight));\n","import React from 'react';\nimport { Router } from 'react-router';\nimport Spotlight from 'containers/Spotlight/';\nimport history from './utils/history';\nimport './App.css';\n\nconst App = () => (\n  <Router history={history}>\n    <Spotlight />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport store from 'store';\nimport { defaultTheme } from 'Styled/Settings/colors';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={defaultTheme}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}