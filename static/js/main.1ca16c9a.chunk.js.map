{"version":3,"sources":["Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","config.js","utils/requests.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/Login/index.js","containers/Spotlight/Header/ExplorePage/index.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","containers/Spotlight/Content/TravelWallPage/components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/index.js","utils/event.js","containers/Spotlight/Content/PersonalPage/Information/Favicon/index.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/PlanningCollection/PlanningCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/PlanningCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","index.js"],"names":["updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","EXPLORE_NEXT_SPOT","initialState","fromJS","setSpotsMeta","META","spots","loginMeta","user","exploringSpotId","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","_action$payload2","id","get","size","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","API_URI","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","name","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","setSpotsDone","setLoginDone","exploreNextSpot","epics","action$","ofType","switchMap","Observable","empty","$state","_ref","flatMap","content","startWith","state$","store_epics","toConsumableArray","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","StyledSpinner","styled","div","_templateObject","Spinner","react_default","a","createElement","className","selectSpotlight","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","props","children","value","_useState","useState","_useState2","slicedToArray","headerTitle","setHeaderTitle","_useState3","_useState4","isNavVisible","setIsNavVisible","useSelection","defaultProps","Context","SpotlightConsumer","PAGE_NAME","mixinWidthWrapper","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","Header_Login","Header_ExplorePage","Header_PlanningPage","Header_TravelWallPage","Header_PersonalPage","PlanningPage_DetailPlanningPage","useContext","useEffect","handleGoBackToPlanning","useCallback","push","role","onClick","PlanningPage_UpdatePlanningPage","row","UserName","input","LoginPage_templateObject","PassWord","_templateObject2","LoginButton","button","_templateObject3","RowSpaceBetween","_templateObject4","ErrorMessage","_templateObject5","Login","usernameRef","createRef","passwordRef","Fragment","ref","placeholder","handleSubmitLogin","acc","current","pwd","mapStateToProps","createStructuredSelector","createSelector","spotlightState","connect","dispatch","_ref$acc","_ref$pwd","login","Container","ExplorePage_templateObject","Card","ExplorePage_templateObject2","CardImage","img","ExplorePage_templateObject3","CardInfo","ExplorePage_templateObject4","ButtonRow","ExplorePage_templateObject5","Button","_templateObject6","CardRow","_templateObject7","spot","getIn","Map","handleSwipeLeft","handleSwipeRight","src","react_router_dom","to","ProjectCard_templateObject","ProjectCard","title","handleOnClick","detailPlanningPagePath","pathname","search","ProjectCard_Container","PlanningPage_templateObject","PlanningPage","arr","fill","x","index","PlanningPage_Container","components_ProjectCard","StyledTravelCard","TravelCard_templateObject","imagePath","TravelCard","projectId","StyledTravelWallPage","TravelWallPage_templateObject","TravelWallPage","cards","card","components_TravelCard","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Favicon","alt","Information","Information_Favicon","isActiveStyle","isActive","CollectionTabs","activeCollectionType","URLSearchParams","window","location","data-collection-type","StyledSpotCard","SpotCard_templateObject","SpotCard","spotId","data-id","data-redirect-path","StyledSpotCollection","SpotCollection_templateObject","SpotCollection","SpotCollection_SpotCard","StyledPlanningCard","PlanningCard_templateObject","faviconPath","PlanningCard","planningId","StyledPlanningCollection","PlanningCollection_templateObject","PlanningCollection","PlanningCollection_PlanningCard","CollectionContent","handleOnCardClick","redirectPath","CollectionContent_PlanningCollection","CollectionContent_SpotCollection","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","faviconSize","PersonalPage","setActiveCollectionType","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","TabWrapper","Tab_templateObject","Tab","DateTabsWrapper","DateTabs_templateObject","DateTabs","tabs","tab","DateTabs_Tab","assign","Content_SpotCard_templateObject","SpotCard_StyledSpotCard","StyledContent","Content_templateObject","mockSpotData","address","startTime","Content","day","parseInt","lib_default","dataSource","Content_SpotCard","handles","rowClassName","onUpdate","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","DetailPlanningPage","DetailPlanningPage_DateTabs","DetailPlanningPage_Content","UpdatePlanningPage","Feature","SpotPage_templateObject","FeatureImage","SpotPage_templateObject2","FeatureInfo","SpotPage_templateObject3","SpotPage","href","routePathConfig","explorePagePath","planningPagePath","travelWallPagePath","updatePlanningPagePath","spotPagePath","Routes","react_router","exact","path","component","LoginPage","ExplorePage","Header_Routes","Header_templateObject","Header","Header_HeaderContainer","ContentContainer","Spotlight_Content_templateObject","NavTabWrapper","NavTab_templateObject","NavTab","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchSpots","isLoading","isLoaded","Spotlight_SpotlightProvider","Spotlight_Header","components_Spinner","Spotlight_Content","Spotlight_Navigation","List","App","containers_Spotlight","Boolean","hostname","match","ReactDOM","render","es","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1ca16c9a.chunk.js","sourcesContent":["export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","export const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  // SET_SPOT_LOADING,\n  // SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  EXPLORE_NEXT_SPOT,\n} from './constants';\n\nconst initialState = fromJS({\n  // setSpotMeta: META,\n  setSpotsMeta: META,\n  spots: [],\n  loginMeta: META,\n  user: null,\n  exploringSpotId: 0,\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    // case SET_SPOT_LOADING:\n    //   return state.update('setSpotMeta', updateMetaLoading);\n\n    // case SET_SPOT_DONE: {\n    //   const {\n    //     error,\n    //     // data, // get data from fetch epics\n    //   } = action.payload;\n\n    //   if (error) {\n    //     return state.update('setSpotMeta', updateMetaError);\n    //   }\n    //   return state.update('setSpotMeta', updateMetaDone);\n    // }\n\n    case SET_SPOTS_LOADING:\n      return state.update('setSpotsMeta', updateMetaLoading);\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        spots,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .set('spots', fromJS(spots))\n        .update('setSpotsMeta', updateMetaDone);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case EXPLORE_NEXT_SPOT:\n      return state.update('exploringSpotId', (id) => (id + 1) % state.get('spots').size);\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","export const API_URI = 'https://spotlight-server.herokuapp.com';\nexport const ADMIN_API_URI = API_URI;\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","import {\n  // FETCH_SPOT_BY_ID,\n  // SET_SPOT_LOADING,\n  // SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  EXPLORE_NEXT_SPOT,\n} from './constants';\n\n// export const fetchSpotById = (id) => ({\n//   type: FETCH_SPOT_BY_ID,\n//   payload: {\n//     id,\n//   },\n// });\n\n// export const setSpotLoading = () => ({\n//   type: SET_SPOT_LOADING,\n// });\n\n// export const setSpotDone = (error, data) => ({\n//   type: SET_SPOT_DONE,\n//   payload: {\n//     error,\n//     data,\n//   },\n// });\n\nexport const fetchSpots = () => ({\n  type: FETCH_SPOTS,\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    spots,\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n} from 'rxjs/operators';\nimport {\n  INIT,\n  // FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  LOGIN,\n} from './constants';\nimport {\n  // setSpotLoading,\n  // setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setLoginLoading,\n  setLoginDone,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\n// const fetchSpotByIdEpic = (action$, $state, { request, fetchErrorEpic }) => (\n//   action$.pipe(\n//     ofType(FETCH_SPOT_BY_ID),\n//     switchMap(() => request({\n//       method: 'get',\n//       url: '/spot/1',\n//     }).pipe(\n//       flatMap((data) => of(\n//         setSpotDone(null, data.content),\n//       )),\n//       catchError((error) => fetchErrorEpic(\n//         error,\n//         setSpotDone(error),\n//       )),\n//       startWith(setSpotLoading()),\n//     )),\n//   )\n// );\n\nconst fetchSpotsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/spots',\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: data.content.user }\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nexport default [\n  setInit,\n  // fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  loginEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 300px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst Spinner = () => (\n  <StyledSpinner>\n    <i className=\"fa fa-spinner fa-spin\" />\n  </StyledSpinner>\n);\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.getIn(['spots', spotlightState.get('exploringSpotId')], Map()),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [headerTitle, setHeaderTitle] = useState('');\n  const [isNavVisible, setIsNavVisible] = useState(true);\n  return {\n    headerTitle,\n    setHeaderTitle,\n    isNavVisible,\n    setIsNavVisible,\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: '探索景點',\n  PLANNING: '計畫旅程',\n  TRAVEL_WALL: '旅遊牆',\n  PERSONAL_PAGE: '我的',\n  DETAIL_PLANNING: '旅程內容',\n  UPDATE_PLANNING: '修改旅程',\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\n\nexport const HeaderContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n  }\n  .icon-style {\n    color: white;\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n","import React from 'react';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {'登入'}\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.EXPLORE}\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    <div>{PAGE_NAME.PLANNING}</div>\n    <div className=\"header-container__icon-wrapper icon-right\">\n      <i className=\"fas fa-exchange-alt icon-style icon-transition\" />\n      <i className=\"fas fa-plus icon-style\" />\n    </div>\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.TRAVEL_WALL}\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    <div>{PAGE_NAME.PERSONAL_PAGE}</div>\n    <div className=\"header-container__icon-wrapper icon-right\">\n      <i className=\"fas fa-cog icon-style\" />\n    </div>\n  </HeaderContainer>\n);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  });\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.DETAIL_PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i className=\"fas fa-exchange-alt icon-style icon-transition\" />\n        <i className=\"fas fa-check icon-style\" />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.UPDATE_PLANNING}\n  </HeaderContainer>\n);\n","import React, { createRef, useEffect } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport {\n  login,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst row = `\n  width: 300px;\n  display: block;\n  margin: 0 auto 24px;\n`;\n\nconst UserName = styled.input`\n  ${row}\n  margin-top: 24px;\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst PassWord = styled.input`\n  ${row}\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst LoginButton = styled.button`\n  ${row}\n  line-height: 1.5;\n  background-color: lightgray;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n`;\n\nconst RowSpaceBetween = styled.div`\n  ${row}\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ErrorMessage = styled.div`\n  ${row}\n  color: red;\n`;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (user) {\n      history.push(`/${PAGE_NAME.EXPLORE}`);\n    }\n  });\n\n  return (\n    <React.Fragment>\n      <UserName ref={usernameRef} placeholder=\"輸入電子信箱/用戶名\" />\n      <PassWord ref={passwordRef} placeholder=\"輸入密碼\" />\n      <RowSpaceBetween>\n        <label>\n          <input id=\"remember-password\" type=\"checkbox\" />\n          記住密碼\n        </label>\n        <label>\n          <input id=\"auto-login\" type=\"checkbox\" />\n          自動登入\n        </label>\n      </RowSpaceBetween>\n      <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n      <RowSpaceBetween>\n        <div>立即註冊</div>\n        <div>忘記密碼？</div>\n      </RowSpaceBetween>\n      {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n    </React.Fragment>\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { selectExploringSpot } from 'containers/Spotlight/selectors';\nimport { exploreNextSpot } from 'containers/Spotlight/actions';\n\nconst Container = styled.div`\n  padding-top: 36px;\n`;\n\nconst Card = styled.div`\n  display: block;\n`;\n\nconst CardImage = styled.img`\n  width: 300px;\n  height: 300px;\n  object-fit: cover;\n`;\n\nconst CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 6px;\n  background: lightgray;\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 36px;\n`;\n\nconst Button = styled.button`\n  display: inline-block;\n  padding: 6px 12px;\n  background: lightgray;\n`;\n\nconst CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    handleSwipeLeft,\n    handleSwipeRight,\n  } = props;\n\n  return (\n    <Container>\n      <CardRow>\n        <Card>\n          <CardImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n          <CardInfo>\n            {spot.get('name')}\n            <i className=\"fas fa-heart\">666</i>\n          </CardInfo>\n        </Card>\n      </CardRow>\n      <ButtonRow>\n        <Button onClick={handleSwipeLeft}>跳過</Button>\n        <Link to=\"/探索景點/1\">詳細</Link>\n        <Button onClick={handleSwipeRight}>想去</Button>\n      </ButtonRow>\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  handleSwipeLeft: PropTypes.func.isRequired,\n  handleSwipeRight: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSwipeLeft: () => dispatch(exploreNextSpot()),\n  handleSwipeRight: () => dispatch(exploreNextSpot()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExplorePage);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst Container = styled.div`\n  margin-top: 10px;\n  position: relative;\n  cursor: pointer;\n  .project-card__cover {\n    background-image: url(\"https://www.telegraph.co.uk/content/dam/Travel/2017/May/taipei-night-market.jpg?imwidth=450\");\n    background-size: cover;\n    height: 160px;\n    width: 100%;\n  }\n  .project-card__body {\n    background: white;\n    position: absolute;\n    width: 100%;\n    bottom: 0;\n    opacity: 0.9;\n    padding: 8px 10px;\n  }\n  .project-card__body-title {\n    font-size: 14px;\n  }\n  .project-card__body-content {\n    font-size: 12px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const {\n    title,\n    id,\n  } = props;\n  const handleOnClick = useCallback(() => {\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${id}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [id]);\n  return (\n    <Container onClick={handleOnClick}>\n      <div className=\"project-card__cover\">\n        <div className=\"project-card__body\">\n          <div className=\"project-card__body-title\">{title}</div>\n          <div className=\"project-card__body-content\">2019年6月5日-2019年6月9日 / 4天</div>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  title: PropTypes.string,\n  id: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nProjectCard.defaultProps = {\n  title: '',\n  id: '',\n};\n\nexport default ProjectCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  padding: 0px 28px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = () => {\n  const arr = new Array(10).fill(0).map((x, index) => index);\n  return (\n    <Container>\n      {\n        arr.map((index) => (\n          <ProjectCard\n            key={index}\n            id={index}\n            title=\"台北購物之旅\"\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nexport default PlanningPage;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledTravelCard = styled.div`\n  margin-top: 10px;\n  .travel-card__header-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 5px 10px;\n    background: #D3D3D3;\n    .travel-card__header-image {\n      font-size: 30px;\n      color: white;\n    }\n    .travel-card__profile-wrapper {\n      margin-left: 10px;\n    }\n    .travel-card__header-name {\n      font-size: 12px;\n      color: #707070;\n    }\n    .travel-card__header-time {\n      font-size: 12px;\n      color: #A4A4A4;\n    }\n  }\n  .travel-card__body-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    height: 120px;\n    background: black;\n    color: white;\n    position: relative;\n    cursor: pointer;\n    .travel-card__body-cover {\n      opacity: 0.5;\n      background-image: url(${(props) => props.imagePath});\n      background-size: cover;\n      height: 100%;\n    }\n    .travel-card__body-text-wrapper {\n      position: absolute;\n      padding: 10px;\n      .travel-card__body-title {\n        font-size: 16px;\n        color: white;\n      }\n      .travel-card__body-period {\n        font-size: 12px;\n      }\n    }\n  }\n  .travel-card__footer-wrapper {\n    background: #D3D3D3;\n    padding: 13px 12px;\n    display: flex;\n    align-items: center;\n    .travel-card__footer-icon {\n      font-size: 16px;\n      color: #707070;\n    }\n    .travel-card__footer-number {\n      font-size: 12px;\n      color: #707070;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst TravelCard = ({ projectId }) => {\n  const imagePath = 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg';\n  const handleOnClick = useCallback(() => {\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  });\n  return (\n    <StyledTravelCard imagePath={imagePath}>\n      <div className=\"travel-card__header-wrapper\">\n        <i className=\"fas fa-user-circle travel-card__header-image\" />\n        <div className=\"travel-card__profile-wrapper\">\n          <div className=\"travel-card__header-name\">這裡是名字</div>\n          <div className=\"travel-card__header-time\">1天前</div>\n        </div>\n      </div>\n      <div role=\"presentation\" className=\"travel-card__body-wrapper\" onClick={handleOnClick}>\n        <div className=\"travel-card__body-cover\" />\n        <div className=\"travel-card__body-text-wrapper\">\n          <div className=\"travel-card__body-title\">台北購物之旅</div>\n          <div className=\"travel-card__body-period\">2019年6月5日-2019年6月9日 / 4天</div>\n        </div>\n      </div>\n      <div className=\"travel-card__footer-wrapper\">\n        <i className=\"far fa-heart travel-card__footer-icon\" />\n        <div className=\"travel-card__footer-number\">666</div>\n      </div>\n    </StyledTravelCard>\n  );\n};\n\nTravelCard.propTypes = {\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nTravelCard.propTypes = {\n};\n\nexport default TravelCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport TravelCard from './components/TravelCard';\n\nconst StyledTravelWallPage = styled.div`\n  padding: 5px 28px;\n`;\n\nconst TravelWallPage = () => {\n  const cards = new Array(10).fill(0).map((x, index) => index);\n  return (\n    <StyledTravelWallPage>\n      {\n        cards.map((card, index) => (\n          <TravelCard\n            key={card}\n            projectId={index}\n          />\n        ))\n      }\n    </StyledTravelWallPage>\n  );\n};\n\nexport default TravelWallPage;\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React from 'react';\n\nconst Favicon = () => (\n  <div className=\"personal-page__favicon-wrapper\">\n    <img className=\"personal-page__favicon\" alt=\"\" />\n  </div>\n);\n\nexport default Favicon;\n","import React from 'react';\nimport Favicon from './Favicon';\n\nconst Information = () => (\n  <div className=\"personal-page__info-wrapper\">\n    <Favicon />\n    <div className=\"personal-page__profile-wrapper\">\n      <div className=\"personal-page__profile-name\">這裡是名字</div>\n      <div className=\"personal-page__profile-travel-info\">\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">旅程發表</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">收藏數</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">被收藏</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledSpotCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .spot-card__title {\n    font-size: 11px;\n  }\n`;\n\nconst SpotCard = ({ spotId, handleOnClick }) => {\n  const imagePath = 'https://www.taipei-101.com.tw/upload/jn_now/201801/2018010102515956G575BF.jpg';\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">台北101</span>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleOnClick: PropTypes.func,\n};\n\nSpotCard.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default SpotCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst SpotCollection = ({\n  handleOnClick,\n}) => {\n  const cards = new Array(11).fill(0).map((x, index) => index);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card) => (\n          <SpotCard\n            key={card}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nSpotCollection.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default SpotCollection;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledPlanningCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .planning-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .planning-card__title {\n    font-size: 11px;\n  }\n\n  .planning-card__profile-wrapper {\n    display: flex;\n    color: white;\n    padding: 10px;\n    .planning-card__profile-favicon {\n      height: 20px;\n      width: 20px;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      border-radius: 100%;\n    }\n    .planning-card__profile-name {\n      color: white;\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst PlanningCard = ({ planningId, handleOnClick }) => {\n  const imagePath = 'https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg';\n  const faviconPath = 'https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg';\n  return (\n    <StyledPlanningCard\n      imagePath={imagePath}\n      data-id={planningId}\n      data-redirect-path={PAGE_NAME.DETAIL_PLANNING}\n      onClick={handleOnClick}\n    >\n      <div className=\"planning-card__profile-wrapper\">\n        <img className=\"planning-card__profile-favicon\" src={faviconPath} alt=\"\" />\n        <div className=\"planning-card__profile-name\">這裡是名字</div>\n      </div>\n      <div className=\"planning-card__title-wrapper\">\n        <span className=\"planning-card__title\">台北購物之旅</span>\n      </div>\n    </StyledPlanningCard>\n  );\n};\n\nPlanningCard.propTypes = {\n  planningId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleOnClick: PropTypes.func,\n};\n\nPlanningCard.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default PlanningCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport PlanningCard from './PlanningCard';\n\nconst StyledPlanningCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst PlanningCollection = ({\n  handleOnClick,\n}) => {\n  const cards = new Array(11).fill(0).map((x, index) => index);\n  return (\n    <StyledPlanningCollection>\n      {\n        cards.map((card) => (\n          <PlanningCard\n            key={card}\n            planningId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledPlanningCollection>\n  );\n};\n\nPlanningCollection.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nPlanningCollection.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default PlanningCollection;\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport PlanningCollection from './PlanningCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <PlanningCollection handleOnClick={handleOnCardClick} />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\n\nconst StyledPersonalPage = styled.div`\n  .personal-page__cover-image {\n    height: 120px;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n  }\n  .personal-page__info-wrapper {\n    display: flex;\n    position: relative;\n    padding: 0px 20px;\n    .personal-page__favicon-wrapper {\n      width: 150px;\n    }\n    .personal-page__favicon {\n      border-radius: 100%;\n      border: 3px solid white;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      height: ${(props) => props.faviconSize}px;\n      width: ${(props) => props.faviconSize}px;\n      position: absolute;\n      top: -30px;\n    }\n    .personal-page__profile-wrapper {\n      padding: 10px 10px;\n      width: 100%;\n      .personal-page__profile-name {\n        font-size: 16px;\n        color: #707070;\n        margin-bottom: 10px;\n      }\n      .personal-page__profile-travel-info {\n        display: flex;\n        .personal-page__profile-travel-info-item-wrapper {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          .personal-page__profile-travel-info-item-title {\n            font-size: 12px;\n            color: #707070;\n            margin-bottom: 3px;\n          }\n          .personal-page__profile-travel-info-item-number {\n            font-size: 12px;\n            color: #707070;\n          }\n        }\n        .personal-page__profile-travel-info-item-divier {\n          border-right: 1px solid #D1D1D1;\n        }\n        .personal-page__profile-travel-info-item-padding-right {\n          padding-right: 20px;\n        }\n        .personal-page__profile-travel-info-item-padding-left {\n          padding-left: 20px;\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n`;\n\nconst PersonalPage = () => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = 'http://i.imgur.com/EUAd2ht.jpg';\n  const faviconSize = 90;\n  const coverImagePath = 'http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg';\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-image\" />\n      <Information />\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nexport default PersonalPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst TabWrapper = styled.div`\n  border-right: 1px solid #ccc;\n  width: 70px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  cursor: pointer;\n  &:hover {\n    border-bottom: 3px solid #707070;\n    box-sizing: border-box;\n  }\n  .tab__date {\n    font-size: 12px;\n  }\n  .tab__number {\n    font-size: 14px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.push({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  return (\n    <TabWrapper onClick={handleOnClick}>\n      <div className=\"tab__date\">{`6/${id + 5}`}</div>\n      <div className=\"tab__number\">{`第${id + 1}天`}</div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Tab from './Tab';\n\nconst DateTabsWrapper = styled.div`\n  background: lightgray;\n  height: 42px;\n  display: flex;\n`;\n\nconst DateTabs = (props) => {\n  const tabs = new Array(4).fill(0).map((x, index) => index);\n  return (\n    <DateTabsWrapper>\n      {\n        tabs.map((tab) => (\n          <Tab\n            key={tab}\n            id={tab}\n            {...props}\n          />\n        ))\n      }\n    </DateTabsWrapper>\n  );\n};\n\nexport default DateTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst StyledSpotCard = styled.div`\n  margin-top: 15px;\n  background: #D3D3D3;\n  color: #707070;\n  display: flex;\n  .spot-card__start-time-wrapper {\n    background: #ECECEC;\n    padding: 17px 7px;\n    width: 63px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .spot-card__start-time-label {\n    font-size: 12px;\n    margin-bottom: 2px;\n  }\n  .spot-card__start-time {\n    font-size: 16px;\n  }\n\n  .spot-card__body-wrapper {\n    padding: 17px 7px;\n  }\n  .spot-card__body-name {\n    font-size: 14px;\n    margin-bottom: 2px;\n  }\n  .spot-card__body-address {\n    font-size: 12px;\n  }\n`;\n\nconst SpotCard = ({ spot }) => (\n  <StyledSpotCard>\n    <div className=\"spot-card__start-time-wrapper\">\n      <div className=\"spot-card__start-time-label\">出發時間</div>\n      <div className=\"spot-card__start-time\">{spot.get('startTime')}</div>\n    </div>\n    <div className=\"spot-card__body-wrapper\">\n      <div className=\"spot-card__body-name\">{spot.get('name')}</div>\n      <div className=\"spot-card__body-address\">{spot.get('address')}</div>\n    </div>\n  </StyledSpotCard>\n);\n\nSpotCard.propTypes = {\n  spot: PropTypes.object,\n};\n\nSpotCard.defaultProps = {\n  spot: {},\n};\n\nexport default SpotCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n// http://front-ender.me/react-drag-list\nimport ReactDragList from 'react-drag-list';\nimport 'react-drag-list/assets/index.css';\nimport { fromJS } from 'immutable';\nimport SpotCard from './SpotCard';\n\nconst StyledContent = styled.div`\n  padding: 15px 30px;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n`;\n\nconst mockSpotData = fromJS([\n  {\n    id: 0,\n    name: '台北101',\n    address: '110台北市信義區信義路五段7號',\n    startTime: '09:00',\n  },\n  {\n    id: 1,\n    name: '宏亞食品巧克力觀光工廠',\n    address: '桃園縣八德市建國路386號',\n    startTime: '10:00',\n  },\n  {\n    id: 2,\n    name: '臺灣菸酒(股)公司林口觀光酒廠',\n    address: '桃園縣龜山鄉文化一路55號',\n    startTime: '12:00',\n  },\n  {\n    id: 3,\n    name: '台灣金屬創意館',\n    address: '台南市永康區永科環路598號',\n    startTime: '15:00',\n  },\n]);\n\nconst Content = (props) => {\n  const {\n    location,\n  } = props;\n  const searchParams = new URLSearchParams(location.search);\n  const day = searchParams.get('day') || 1;\n  return (\n    <StyledContent>\n      <div className=\"content__title\">\n        <div className=\"content__title-day\">{`第${day}天`}</div>\n        <div className=\"content__title-date\">{`2019年6月${parseInt(day, 10) + 4}日`}</div>\n      </div>\n      <ReactDragList\n        dataSource={mockSpotData}\n        row={(spot) => (\n          <SpotCard\n            key={spot.get('id')}\n            spot={spot}\n          />\n        )}\n        handles={false}\n        className=\"simple-drag\"\n        rowClassName=\"simple-drag-row\"\n        onUpdate={() => {}}\n      />\n    </StyledContent>\n  );\n};\n\nContent.propTypes = {\n  location: PropTypes.object,\n};\n\nContent.defaultProps = {\n  location: {},\n};\n\nexport default Content;\n","import styled from 'styled-components';\n\nexport const DetailPlanningPageContainer = styled.div`\n  .detail-planning__cover {\n    background: lightgray;\n    height: 70px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n      padding: 10px 0px;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n    }\n    .icon__pen {\n      font-size: 14px;\n      margin: 0px 10px;\n    }\n  }\n`;\n","import React from 'react';\nimport DateTabs from './DateTabs';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\n\nconst DetailPlanningPage = (props) => (\n  <DetailPlanningPageContainer>\n    <div className=\"detail-planning__cover\">\n      <div className=\"detail-planning__cover-title\">\n        <span>台北購物之旅</span>\n        <i className=\"fas fa-pen icon__pen\" />\n      </div>\n      <div className=\"detail-planning__cover-period\">2019年6月5日-2019年6月8日 / 4天</div>\n    </div>\n    <DateTabs {...props} />\n    <Content {...props} />\n  </DetailPlanningPageContainer>\n);\n\nexport default DetailPlanningPage;\n","import React from 'react';\n\nconst UpdatePlanningPage = () => (\n  <div>UpdatePlanningPage</div>\n);\n\nexport default UpdatePlanningPage;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Feature = styled.div`\n  position: relative;\n`;\n\nconst FeatureImage = styled.img`\n  display: block;\n  height: 220px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nconst FeatureInfo = styled.div`\n  position: absolute;\n  width: calc(100% - 2 * 12px);\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n  background-color: rgba(255, 255, 255, .7);\n`;\n\n// const SpotPage = ({ match }) => (\nconst SpotPage = () => (\n  <div>\n    <Feature>\n      <FeatureImage src=\"https://images.zi.org.tw/kenalice/2018/12/18230156/1545145316-f3e11951575df2215de376fd211c8747.jpg\" />\n      <FeatureInfo>\n        寧夏夜市\n        <i className=\"fas fa-heart\">666</i>\n      </FeatureInfo>\n    </Feature>\n    <div>景點介紹</div>\n    <p>\n      最好逛、最美味…都好理解，最環保夜市冠軍又是怎麼來的呢? 原來【寧夏夜市】響應環保署及台北市政策，\n      內用攤位全面禁用一次性及美耐皿餐具，更換成玻璃、陶、瓷及不鏽鋼材質的環保餐具，部分外帶店家也推出不分裝優惠、鼓勵客戶攜帶可重複使用器皿；\n      如果以每個人來夜市至少吃個五攤、八攤來看，一趟下來光是免洗筷、塑膠湯匙等丟棄式餐具就不知製造了多少污染，\n      藉由夜市店家帶動消費者使用環保餐具、逐步改變餐飲習慣，加強食安及環保意識、改善餐飲環境，經年累月下來，\n      保護地球的成效很可觀，大啖夜市小吃的時候也為環保盡一份力，真的是大推啦~\n    </p>\n    <div>地址</div>\n    <p>寧夏夜市位於捷運雙連站(R12)與中山站(R11、G14)之間，步行約8-10分鐘即可到達；開車前來的話，可以將車停在最近的蓬萊國小地下停車場</p>\n    <div>電話</div>\n    <p>0912345678</p>\n    <div>網址</div>\n    <a href=\"https://kenalice.tw/blog/post/42366268\">https://kenalice.tw/blog/post/42366268</a>\n  </div>\n);\n\nexport default SpotPage;\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\n\nexport const routePathConfig = {\n  login: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE}/:spotId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.login} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport Login from 'containers/Spotlight/Header/Login';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.login} component={Login} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: lightgray;\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background: #D3D3D3;\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    title,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  }\n\n  return (\n    <NavTabWrapper data-page-path={title} onClick={handleRedirect}>\n      <img className=\"nav-tab__image\" src=\"https://freeiconshop.com/wp-content/uploads/edd/bulb-curvy-flat.png\" alt=\"\"/>\n      <div>{title}</div>\n    </NavTabWrapper>\n  );\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab title={PAGE_NAME.EXPLORE} />\n    <NavTab title={PAGE_NAME.PLANNING} />\n    <NavTab title={PAGE_NAME.TRAVEL_WALL} />\n    <NavTab title={PAGE_NAME.PERSONAL_PAGE} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  ${(props) => (props.isNavVisible\n    ? `grid-template-rows: ${HEIGHT_HEADER}px auto ${HEIGHT_NAVIGATION}px;`\n    : `grid-template-rows: ${HEIGHT_HEADER}px auto 0px`)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchSpots,\n} from './actions';\nimport {\n  selectSpotsMeta,\n  selectSpots,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  setSpotsMeta,\n  spots,\n  handleFetchSpots,\n}) => {\n  const isLoading = setSpotsMeta.get('isLoading');\n  const isLoaded = setSpotsMeta.get('isLoaded');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchSpots();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible}>\n              <div className=\"spot-light__header-container\">\n                <Header />\n              </div>\n              <div className=\"spot-light__content-container\">\n                {\n                  isLoading\n                    ? <Spinner />\n                    : <Content spots={spots} />\n                }\n              </div>\n              {\n                isNavVisible &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  setSpotsMeta: PropTypes.object,\n  spots: PropTypes.instanceOf(List),\n  handleFetchSpots: PropTypes.func,\n};\n\nSpotlight.defaultProps = {\n  setSpotsMeta: null,\n  spots: List(),\n  handleFetchSpots: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  setSpotsMeta: selectSpotsMeta(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpots: () => dispatch(fetchSpots()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Spotlight);\n","import React from 'react';\nimport Spotlight from 'containers/Spotlight/';\nimport './App.css';\n\nconst App = () => <Spotlight />;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from 'store';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}