{"version":3,"sources":["Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","utils/requests.js","config.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/Login/index.js","containers/Spotlight/Header/ExplorePage/index.js","utils/event.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Header/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/constants.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/index.js","containers/Spotlight/Content/ExplorePage/Styled.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","containers/Spotlight/Content/TravelWallPage/components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/index.js","containers/Spotlight/Content/PersonalPage/Information/Favicon/index.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/PlanningCollection/PlanningCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/PlanningCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTimeInfo/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","index.js"],"names":["updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_SPOT_BY_ID","SET_SPOT_LOADING","SET_SPOT_DONE","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","FETCH_LOGIN_STATUS","SET_LOGIN_STATUS_LOADING","SET_LOGIN_STATUS_DONE","REGISTER","SET_REGISTER_LOADING","SET_REGISTER_DONE","EXPLORE_NEXT_SPOT","FETCH_OWN_PROJECTS","SET_OWN_PROJECTS_LOADING","SET_OWN_PROJECTS_DONE","SUBMIT_CREATE_PROJECT","CREATE_PROJECT_LOADING","CREATE_PROJECT_DONE","SUBMIT_DELETE_PROJECT","DELETE_PROJECT_LOADING","DELETE_PROJECT_DONE","DEFAULT_PROJECT","name","start_day","tot_days","initialState","fromJS","setSpotMeta","META","setSpotsMeta","spots","spotsResult","loginMeta","registerMeta","loginStatusMeta","ownProjectsMeta","createProjectMeta","deleteProjectMeta","user","ownProjects","exploringSpotsResultIndex","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","spot","mergeDeepIn","spot_id","get","_action$payload2","entities","result","_action$payload3","_action$payload4","_action$payload5","id","size","_action$payload6","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","spotSchema","schema","Entity","idAttribute","spotListSchema","setSpotDone","setSpotsDone","normalize","setLoginDone","setRegisterDone","setLoginStatusDone","exploreNextSpot","fetchOwnProjects","setOwnProjectsDone","createProjectDone","deleteProjectDone","getKeywordQueryString","keyword","getZonesQueryString","zones","zone","getSearchSpotQueryString","_ref5","queryString","filter","queryStringSegment","epics","action$","ofType","switchMap","Observable","empty","$state","_ref4","flatMap","content","startWith","_ref","_ref6","kw","state$","_ref7","_ref8","acc","_ref9","newProject","message","success","_ref3","projectId","store_epics","toConsumableArray","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","StyledSpinner","styled","div","_templateObject","Spinner","react_default","a","createElement","className","selectSpotlight","selectLoginStatusMeta","createSelector","spotlightState","selectOwnProjects","selectOwnProjectsMeta","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","props","children","value","_useState","useState","_useState2","slicedToArray","headerTitle","setHeaderTitle","_useState3","_useState4","isNavVisible","setIsNavVisible","_useState5","_useState6","setNewProject","_useState7","_useState8","isEditMode","setIsEditMode","useSelection","defaultProps","Context","SpotlightConsumer","PAGE_NAME","mixinWidthWrapper","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","Header_Login","Header_ExplorePage","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Header_PlanningPage","context","useContext","handleToCreateProject","useCallback","path","push","handleEditModeOn","handleEditModeOff","useEffect","role","onClick","data-redirect-path","Header_TravelWallPage","Header_PersonalPage","PlanningPage_DetailPlanningPage","handleGoBackToPlanning","PlanningPage_UpdatePlanningPage","CreateProjectPage","handleSubmitCreateProject","startDay","moment","format","days","mapStateToProps","createStructuredSelector","connect","dispatch","submitCreateProject","row","UserName","input","LoginPage_templateObject","PassWord","_templateObject2","LoginButton","button","_templateObject3","RegisterRow","_templateObject4","ErrorMessage","_templateObject5","Logo","img","_templateObject6","Login","usernameRef","createRef","passwordRef","Fragment","src","ref","placeholder","handleSubmitLogin","current","pwd","href","handleSubmitRegister","_ref2$acc","_ref2$pwd","login","_ref3$acc","_ref3$pwd","register","基隆市","region","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","南投縣","臺中市","彰化縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣","連江縣","金門縣","澎湖縣","reducer","ZoneMenu","location","_useReducer","useReducer","zonesState","regions","toSet","toList","pathname","Container","ExplorePage_Styled_templateObject","Card","Styled_templateObject2","CardImage","Styled_templateObject3","CardInfo","Styled_templateObject4","ButtonRow","Styled_templateObject5","Button","Styled_templateObject6","CardRow","_templateObject7","SearchRow","_templateObject8","SearchBar","_templateObject9","SelectCountyButton","_templateObject10","SearchInput","_templateObject11","ZonesRow","_templateObject12","ZoneLabel","span","_templateObject13","index","String","getIn","Map","withRouter","handleSwipeLeft","handleSwipeRight","handleFetchSpots","_ref$zones","_ref$kw","fetchSpots","setKeyword","search","menu","ExplorePage_ZoneMenu","onChange","onKeyUp","blur","components_Spinner","react_router_dom","to","confirm","Modal","ProjectCard_templateObject","ProjectCard","project","handleDeleteProject","endDay","add","handleOnClick","detailPlanningPagePath","handleOnDeleteProject","projId","title","okText","okType","onOk","ProjectCard_Container","data-project-id","PlanningPage_templateObject","PlanningPage","handleFetchOwnProjects","isLoaded","isLoading","PlanningPage_Container","components_ProjectCard","List","submitDeleteProject","StyledTravelCard","TravelCard_templateObject","imagePath","TravelCard","StyledTravelWallPage","TravelWallPage_templateObject","TravelWallPage","cards","fill","x","card","components_TravelCard","Favicon","alt","Information","Information_Favicon","isActiveStyle","isActive","CollectionTabs","activeCollectionType","URLSearchParams","window","data-collection-type","StyledSpotCard","SpotCard_templateObject","SpotCard","spotId","data-id","StyledSpotCollection","SpotCollection_templateObject","SpotCollection","SpotCollection_SpotCard","StyledPlanningCard","PlanningCard_templateObject","faviconPath","PlanningCard","planningId","StyledPlanningCollection","PlanningCollection_templateObject","PlanningCollection","PlanningCollection_PlanningCard","CollectionContent","handleOnCardClick","redirectPath","CollectionContent_PlanningCollection","CollectionContent_SpotCollection","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","faviconSize","PersonalPage","setActiveCollectionType","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","TabWrapper","Tab_templateObject","Tab","DateTabsWrapper","DateTabs_templateObject","DateTabs","tabs","tab","DateTabs_Tab","assign","StyledDateTimeInfo","DateTimeInfo_templateObject","DateTimeInfo","Content_SpotCard_templateObject","HEIGHT_SPOT_CARD","SpotCard_StyledSpotCard","StyledContent","Content_templateObject","SpotOperator","Content_templateObject2","mockSpotData","address","startTime","Content","Boolean","lib_default","dataSource","Content_SpotCard","handles","rowClassName","onUpdate","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","DetailPlanningPage","match","ownProject","find","toString","DetailPlanningPage_DateTabs","DetailPlanningPage_DateTimeInfo","DetailPlanningPage_Content","UpdatePlanningPage","StyledCreateProjectPage","CreateProjectPage_templateObject","currentValue","parseInt","Feature","SpotPage_templateObject","FeatureImage","SpotPage_templateObject2","FeatureInfo","SpotPage_templateObject3","handleFetchSpotById","fetchSpotById","Number","routePathConfig","explorePagePath","planningPagePath","travelWallPagePath","updatePlanningPagePath","createProjectPagePath","spotPagePath","Routes","react_router","exact","component","LoginPage","ExplorePage","SpotPage","Header_Routes","Header_templateObject","Header","Header_HeaderContainer","ContentContainer","Spotlight_Content_templateObject","NavTabWrapper","NavTab_templateObject","NavTab","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchLoginStatus","Spotlight_SpotlightProvider","Spotlight_Header","Spotlight_Content","Spotlight_Navigation","App","containers_Spotlight","hostname","ReactDOM","render","es","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5d2f48bd.chunk.js","sourcesContent":["export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","export const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const FETCH_LOGIN_STATUS = `${KEY_REDUCER}/FETCH_LOGIN_STATUS`;\nexport const SET_LOGIN_STATUS_LOADING = `${KEY_REDUCER}/SET_LOGIN_STATUS_LOADING`;\nexport const SET_LOGIN_STATUS_DONE = `${KEY_REDUCER}/SET_LOGIN_STATUS_DONE`;\n\nexport const REGISTER = `${KEY_REDUCER}/REGISTER`;\nexport const SET_REGISTER_LOADING = `${KEY_REDUCER}/SET_REGISTER_LOADING`;\nexport const SET_REGISTER_DONE = `${KEY_REDUCER}/SET_REGISTER_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\n\nexport const FETCH_OWN_PROJECTS = `${KEY_REDUCER}/FETCH_OWN_PROJECTS`;\nexport const SET_OWN_PROJECTS_LOADING = `${KEY_REDUCER}/SET_OWN_PROJECTS_LOADING`;\nexport const SET_OWN_PROJECTS_DONE = `${KEY_REDUCER}/SET_OWN_PROJECTS_DONE`;\n\nexport const SUBMIT_CREATE_PROJECT = `${KEY_REDUCER}/SUBMIT_CREATE_PROJECT`;\nexport const CREATE_PROJECT_LOADING = `${KEY_REDUCER}/CREATE_PROJECT_LOADING`;\nexport const CREATE_PROJECT_DONE = `${KEY_REDUCER}/CREATE_PROJECT_DONE`;\n\nexport const SUBMIT_DELETE_PROJECT = `${KEY_REDUCER}/SUBMIT_DELETE_PROJECT`;\nexport const DELETE_PROJECT_LOADING = `${KEY_REDUCER}/DELETE_PROJECT_LOADING`;\nexport const DELETE_PROJECT_DONE = `${KEY_REDUCER}/DELETE_PROJECT_DONE`;\n\nexport const DEFAULT_PROJECT = {\n  name: '',\n  start_day: '', // format: 2018/12/01 00:00:00\n  tot_days: 0, // format: 2018/12/01 00:00:00\n};\n\nexport const DEFAULT_PLAN = {\n  start_time: '08:00:00', // format: 08:00:00\n  arrange: [],\n};\n\nexport const DEFAULT_ARRANGE = {\n  spot_id: null,\n  during: 0,\n};\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  SET_REGISTER_LOADING,\n  SET_REGISTER_DONE,\n  EXPLORE_NEXT_SPOT,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // delete project\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n} from './constants';\n\nconst initialState = fromJS({\n  setSpotMeta: META,\n  setSpotsMeta: META,\n  spots: {},\n  spotsResult: [],\n  loginMeta: META,\n  registerMeta: META,\n  loginStatusMeta: META,\n  ownProjectsMeta: META,\n  createProjectMeta: META,\n  deleteProjectMeta: META,\n  user: null,\n  ownProjects: [],\n  exploringSpotsResultIndex: 0,\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_SPOT_LOADING:\n      return state.update('setSpotMeta', updateMetaLoading);\n\n    case SET_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setSpotMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots', spot.spot_id], fromJS(spot))\n        .update('setSpotMeta', updateMetaDone);\n    }\n\n    case SET_SPOTS_LOADING:\n      return state\n        .update('setSpotsMeta', updateMetaLoading)\n        .set('exploringSpotsResultIndex', initialState.get('exploringSpotsResultIndex'));\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .set('spotsResult', fromJS(result))\n        .update('setSpotsMeta', updateMetaDone);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_REGISTER_LOADING:\n      return state.update('registerMeta', updateMetaLoading);\n\n    case SET_REGISTER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('registerMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('registerMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGIN_STATUS_LOADING:\n      return state.update('loginStatusMeta', updateMetaLoading);\n\n    case SET_LOGIN_STATUS_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginStatusMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginStatusMeta', updateMetaDone);\n    }\n\n    case EXPLORE_NEXT_SPOT:\n      return state\n        .update(\n          'exploringSpotsResultIndex',\n          (id) => (id + 1) % state.get('spotsResult').size,\n        );\n\n    case SET_OWN_PROJECTS_LOADING:\n      return state.update('ownProjectsMeta', updateMetaLoading);\n\n    case SET_OWN_PROJECTS_DONE: {\n      const {\n        error,\n        ownProjects,\n      } = action.payload;\n      if (error) {\n        return state.update('ownProjectsMeta', updateMetaError);\n      }\n      return state\n        .set('ownProjects', fromJS(ownProjects))\n        .update('ownProjectsMeta', updateMetaDone);\n    }\n\n    case CREATE_PROJECT_LOADING:\n      return state.update('createProjectMeta', updateMetaLoading);\n\n    case CREATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('createProjectMeta', updateMetaError);\n      }\n      return state\n        .update('createProjectMeta', updateMetaDone);\n    }\n\n    case DELETE_PROJECT_LOADING:\n      return state.update('deleteProjectMeta', updateMetaLoading);\n\n    case DELETE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('deleteProjectMeta', updateMetaError);\n      }\n      return state\n        .update('deleteProjectMeta', updateMetaDone);\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","export const API_URI = '/api';\nexport const ADMIN_API_URI = API_URI;\n","import { schema, normalize } from 'normalizr';\nimport {\n  FETCH_SPOT_BY_ID,\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  REGISTER,\n  SET_REGISTER_DONE,\n  SET_REGISTER_LOADING,\n  EXPLORE_NEXT_SPOT,\n  FETCH_LOGIN_STATUS,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n  FETCH_OWN_PROJECTS,\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n  SUBMIT_CREATE_PROJECT,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n  SUBMIT_DELETE_PROJECT,\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n} from './constants';\n\nconst spotSchema = new schema.Entity('spots', {}, { idAttribute: 'spot_id' });\nconst spotListSchema = new schema.Array(spotSchema);\n\nexport const fetchSpotById = (id) => ({\n  type: FETCH_SPOT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setSpotLoading = () => ({\n  type: SET_SPOT_LOADING,\n});\n\nexport const setSpotDone = (error, spot) => ({\n  type: SET_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const register = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: REGISTER,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setRegisterLoading = () => ({\n  type: SET_REGISTER_LOADING,\n});\n\nexport const setRegisterDone = (error, user) => ({\n  type: SET_REGISTER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchLoginStatus = () => ({\n  type: FETCH_LOGIN_STATUS,\n});\n\nexport const setLoginStatusLoading = () => ({\n  type: SET_LOGIN_STATUS_LOADING,\n});\n\nexport const setLoginStatusDone = (error, user) => ({\n  type: SET_LOGIN_STATUS_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n\nexport const fetchOwnProjects = () => ({\n  type: FETCH_OWN_PROJECTS,\n});\n\nexport const setOwnProjectsLoading = () => ({\n  type: SET_OWN_PROJECTS_LOADING,\n});\n\nexport const setOwnProjectsDone = (error, ownProjects) => ({\n  type: SET_OWN_PROJECTS_DONE,\n  payload: {\n    error,\n    ownProjects,\n  },\n});\n\nexport const submitCreateProject = (newProject) => ({\n  type: SUBMIT_CREATE_PROJECT,\n  payload: {\n    newProject,\n  },\n});\n\nexport const createProjectLoading = () => ({\n  type: CREATE_PROJECT_LOADING,\n});\n\nexport const createProjectDone = (error, user) => ({\n  type: CREATE_PROJECT_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const submitDeleteProject = (projectId) => ({\n  type: SUBMIT_DELETE_PROJECT,\n  payload: {\n    projectId,\n  },\n});\n\nexport const deleteProjectLoading = () => ({\n  type: DELETE_PROJECT_LOADING,\n});\n\nexport const deleteProjectDone = (error) => ({\n  type: DELETE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n} from 'rxjs/operators';\nimport message from 'antd/lib/message';\nimport {\n  INIT,\n  FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  LOGIN,\n  REGISTER,\n  FETCH_LOGIN_STATUS,\n  FETCH_OWN_PROJECTS,\n  SUBMIT_CREATE_PROJECT,\n  SUBMIT_DELETE_PROJECT,\n} from './constants';\nimport {\n  setSpotLoading,\n  setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setLoginLoading,\n  setLoginDone,\n  setRegisterDone,\n  setRegisterLoading,\n  setLoginStatusDone,\n  setLoginStatusLoading,\n  setOwnProjectsDone,\n  setOwnProjectsLoading,\n  createProjectDone,\n  createProjectLoading,\n  fetchOwnProjects,\n  deleteProjectLoading,\n  deleteProjectDone,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\nconst fetchSpotByIdEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOT_BY_ID),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spot/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotDone(error),\n      )),\n      startWith(setSpotLoading()),\n    )),\n  )\n);\n\nconst createProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_PROJECT),\n    switchMap((action) => {\n      const {\n        newProject,\n      } = action.payload;\n      return request({\n        method: 'post',\n        url: '/own/proj',\n        data: newProject,\n      }).pipe(\n        flatMap((data) => {\n          message.success('創建成功');\n          return of(\n            createProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('創建失敗');\n          return fetchErrorEpic(\n            error,\n            createProjectDone(error),\n          );\n        }),\n        startWith(createProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst deleteProjectEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_DELETE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n      } = action.payload;\n      return request({\n        method: 'delete',\n        url: `/proj/${projectId}`,\n      }).pipe(\n        flatMap(() => {\n          message.success('刪除成功');\n          return of(\n            deleteProjectDone(null),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('刪除失敗');\n          return fetchErrorEpic(\n            error,\n            deleteProjectDone(error),\n          );\n        }),\n        startWith(deleteProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchOwnProjectsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_OWN_PROJECTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/own/projs',\n    }).pipe(\n      flatMap((data) => of(\n        setOwnProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setOwnProjectsDone(error),\n      )),\n      startWith(setOwnProjectsLoading()),\n    )),\n  )\n);\n\nconst getKeywordQueryString = (keyword) => (\n  typeof keyword === 'string' && keyword.length > 0\n    ? `kw=${keyword}`\n    : ''\n);\n\nconst getZonesQueryString = (zones) => zones\n  .map((zone) => `zone=${zone}`)\n  .join('&');\n\nconst getSearchSpotQueryString = ({ zones, keyword }) => {\n  const queryString = [\n    getKeywordQueryString(keyword),\n    getZonesQueryString(zones),\n  ]\n    .filter((queryStringSegment) => queryStringSegment !== '')\n    .join('&');\n\n  return queryString.length > 0 ? `?${queryString}` : '';\n};\n\nconst fetchSpotsEpic = (action$, $state, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: data.content.user }\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nconst registerEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(REGISTER),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/register',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: action.payload.acc }\n          : null;\n        return of(setRegisterDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRegisterDone(error),\n      )),\n      startWith(setRegisterLoading()),\n    )),\n  )\n);\n\nconst fetchLoginStatusEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_LOGIN_STATUS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/check_login',\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginStatusDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginStatusDone(error),\n      )),\n      startWith(setLoginStatusLoading()),\n    )),\n  )\n);\n\nexport default [\n  setInit,\n  fetchOwnProjectsEpic,\n  fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  loginEpic,\n  registerEpic,\n  fetchLoginStatusEpic,\n  createProjectEpic,\n  deleteProjectEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 300px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst Spinner = () => (\n  <StyledSpinner>\n    <i className=\"fa fa-spinner fa-spin\" />\n  </StyledSpinner>\n);\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotMeta'),\n);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpotsResultIndex = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('exploringSpotsResultIndex'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  selectExploringSpotsResultIndex(),\n  (spotlightState, exploringSpotsResultIndex) => {\n    const index = String(spotlightState.get('spotsResult').get(exploringSpotsResultIndex));\n    return spotlightState.getIn(['spots', index], Map());\n  },\n);\n\nexport const selectLoginStatusMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginStatusMeta'),\n);\n\nexport const selectOwnProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects'),\n);\n\nexport const selectOwnProjectsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjectsMeta'),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from './constants';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [headerTitle, setHeaderTitle] = useState('');\n  const [isNavVisible, setIsNavVisible] = useState(true);\n\n  // create project\n  const [newProject, setNewProject] = useState(fromJS(DEFAULT_PROJECT));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  return {\n    headerTitle,\n    setHeaderTitle,\n    isNavVisible,\n    setIsNavVisible,\n\n    // create project\n    newProject,\n    setNewProject,\n\n    isEditMode,\n    setIsEditMode,\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: '探索景點',\n  PLANNING: '計畫旅程',\n  TRAVEL_WALL: '旅遊牆',\n  PERSONAL_PAGE: '我的',\n  DETAIL_PLANNING: '旅程內容',\n  UPDATE_PLANNING: '修改旅程',\n  CREATE_PROJECT: '增加旅程',\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n  max-width: ${MAX_WIDTH}px;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\n\nexport const HeaderContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n  }\n  .icon-style {\n    color: white;\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n","import React from 'react';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {'登入'}\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.EXPLORE}\n  </HeaderContainer>\n);\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n    setIsEditMode,\n    setIsNavVisible,\n  } = context;\n  const handleToCreateProject = useCallback((event) => {\n    const path = findAttributeInEvent(event, 'data-redirect-path');\n    history.push(path);\n  }, []);\n  const handleEditModeOn = useCallback(() => {\n    setIsEditMode(true);\n    setIsNavVisible(false);\n  }, []);\n  const handleEditModeOff = useCallback(() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }, []);\n  useEffect(() => (() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }), []);\n  if (isEditMode) {\n    return (\n      <HeaderContainer>\n        <div>調整旅程</div>\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <i\n            role=\"presentation\"\n            className=\"fas fa-check icon-style\"\n            onClick={handleEditModeOff}\n          />\n        </div>\n      </HeaderContainer>\n    );\n  }\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-edit icon-style\" onClick={handleEditModeOn} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT}\n          onClick={handleToCreateProject}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.TRAVEL_WALL}\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    <div>{PAGE_NAME.PERSONAL_PAGE}</div>\n    <div className=\"header-container__icon-wrapper icon-right\">\n      <i className=\"fas fa-cog icon-style\" />\n    </div>\n  </HeaderContainer>\n);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.DETAIL_PLANNING}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i className=\"far fa-map icon-style\" />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.UPDATE_PLANNING}\n  </HeaderContainer>\n);\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from 'containers/Spotlight/constants';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  PAGE_NAME,\n} from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\n\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitCreateProject,\n} from 'containers/Spotlight/actions';\n\nconst { SpotlightContext } = Context;\n\nconst CreateProjectPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    newProject,\n    setNewProject,\n  } = context;\n  const setInit = () => {\n    setNewProject(fromJS(DEFAULT_PROJECT));\n  };\n  const handleOnCancelBtn = () => {\n    history.push(PAGE_NAME.PLANNING);\n  };\n  const handleOnCheckBtn = () => {\n    const {\n      handleSubmitCreateProject,\n    } = props;\n    const name = newProject.get('name');\n    const startDay = moment(newProject.get('start_day')).format('YYYY/MM/DD 00:mm:ss');\n    const days = newProject.get('tot_days');\n    if (!name || !newProject.get('start_day')) {\n      message.error('欄位皆為必填');\n      return;\n    }\n    if (days <= 0) {\n      message.error('天數格式錯誤');\n      return;\n    }\n    handleSubmitCreateProject({\n      name,\n      start_day: startDay,\n      tot_days: days,\n    });\n    history.push(`/${PAGE_NAME.PLANNING}`);\n  };\n  useEffect(() => {\n    setIsNavVisible(false);\n    setInit();\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleOnCancelBtn}\n        />\n      </div>\n      <div>{PAGE_NAME.CREATE_PROJECT}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nCreateProjectPage.propTypes = {\n  handleSubmitCreateProject: PropTypes.func,\n};\n\nCreateProjectPage.defaultProps = {\n  handleSubmitCreateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateProject: (newProject) => dispatch(submitCreateProject(newProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProjectPage);\n","import React, { createRef, useEffect } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport {\n  login,\n  register,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectLoginStatusMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst row = `\n  width: 300px;\n  display: block;\n  margin: 0 auto 24px;\n`;\n\nconst UserName = styled.input`\n  ${row}\n  margin-top: 24px;\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst PassWord = styled.input`\n  ${row}\n  border: solid 1px lightgray;\n  font-size: 16px;\n`;\n\nconst LoginButton = styled.button`\n  ${row}\n  line-height: 1.5;\n  background-color: lightgray;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n`;\n\nconst RegisterRow = styled.div`\n  ${row}\n  display: flex;\n  justify-content: center;\n`;\n\nconst ErrorMessage = styled.div`\n  ${row}\n  color: red;\n`;\n\nconst Logo = styled.img`\n  width: 125px;\n  display: block;\n  margin: 0 auto;\n  border-radius: 50%;\n  margin-top: 24px;\n`;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n    loginStatusMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const handleRegisterBtnClick = () => {\n    const {\n      handleSubmitRegister,\n    } = props;\n    handleSubmitRegister({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (loginStatusMeta.get('isLoaded') && user) {\n      history.push(`/${PAGE_NAME.EXPLORE}`);\n    }\n  }, [user]);\n\n  return (\n    loginStatusMeta.get('isLoaded') && !user ? (\n      <React.Fragment>\n        <Logo src=\"https://avatars0.githubusercontent.com/u/48876369?s=200&v=4\" />\n        <UserName ref={usernameRef} type=\"email\" placeholder=\"輸入電子信箱/用戶名\" />\n        <PassWord ref={passwordRef} type=\"password\" placeholder=\"輸入密碼\" />\n        <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n        <RegisterRow>\n          <a href=\"/#\" onClick={handleRegisterBtnClick}>\n            立即註冊\n          </a>\n        </RegisterRow>\n        {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n      </React.Fragment>\n    ) : null\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  handleSubmitRegister: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n  handleSubmitRegister: ({ acc, pwd }) => dispatch(register({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","export const zones = {\n  基隆市: {\n    name: '基隆市',\n    region: '北部縣市',\n  },\n  臺北市: {\n    name: '臺北市',\n    region: '北部縣市',\n  },\n  新北市: {\n    name: '新北市',\n    region: '北部縣市',\n  },\n  桃園市: {\n    name: '桃園市',\n    region: '北部縣市',\n  },\n  新竹市: {\n    name: '新竹市',\n    region: '北部縣市',\n  },\n  新竹縣: {\n    name: '新竹縣',\n    region: '北部縣市',\n  },\n  苗栗縣: {\n    name: '苗栗縣',\n    region: '中部縣市',\n  },\n  南投縣: {\n    name: '南投縣',\n    region: '中部縣市',\n  },\n  臺中市: {\n    name: '臺中市',\n    region: '中部縣市',\n  },\n  彰化縣: {\n    name: '彰化縣',\n    region: '中部縣市',\n  },\n  雲林縣: {\n    name: '雲林縣',\n    region: '中部縣市',\n  },\n  嘉義市: {\n    name: '嘉義市',\n    region: '南部縣市',\n  },\n  嘉義縣: {\n    name: '嘉義縣',\n    region: '南部縣市',\n  },\n  臺南市: {\n    name: '臺南市',\n    region: '南部縣市',\n  },\n  高雄市: {\n    name: '高雄市',\n    region: '南部縣市',\n  },\n  屏東縣: {\n    name: '屏東縣',\n    region: '南部縣市',\n  },\n  宜蘭縣: {\n    name: '宜蘭縣',\n    region: '東部縣市',\n  },\n  花蓮縣: {\n    name: '花蓮縣',\n    region: '東部縣市',\n  },\n  臺東縣: {\n    name: '臺東縣',\n    region: '東部縣市',\n  },\n  連江縣: {\n    name: '連江縣',\n    region: '外島縣市',\n  },\n  金門縣: {\n    name: '金門縣',\n    region: '外島縣市',\n  },\n  澎湖縣: {\n    name: '澎湖縣',\n    region: '外島縣市',\n  },\n};\n","import React, { useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { zones } from './constants';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nconst ZoneMenu = ({ history, location }) => {\n  const [zonesState] = useReducer(reducer, fromJS(zones));\n\n  const regions = zonesState.map((zone) => zone.get('region')).toSet();\n\n  return (\n    <div>\n      {regions\n        .map(\n          (region) => (\n            <div key={region}>\n              <div>{region}</div>\n              <ul>\n                {zonesState\n                  .filter((zone) => zone.get('region') === region)\n                  .map((zone) => <li key={zone.get('name')}>{zone.get('name')}</li>)\n                  .toList()\n                }\n              </ul>\n            </div>\n          ),\n        )\n      }\n      <button type=\"button\" onClick={() => history.push(location.pathname)}>\n        關閉\n      </button>\n    </div>\n  );\n};\n\nZoneMenu.propTypes = {\n  history: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nexport default ZoneMenu;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n`;\n\nexport const Card = styled.div`\n  display: block;\n`;\n\nexport const CardImage = styled.img`\n  width: 250px;\n  height: 250px;\n  object-fit: cover;\n`;\n\nexport const CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 6px;\n  background: lightgray;\n`;\n\nexport const ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 36px;\n`;\n\nexport const Button = styled.button`\n  display: inline-block;\n  padding: 6px 12px;\n  background: lightgray;\n`;\n\nexport const CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SearchRow = styled.div`\n  display: flex;\n  justify-content: center;\n  background-color: lightgray;\n  padding: 12px;\n`;\n\nexport const SearchBar = styled.div`\n  width: 100%;\n  display: flex;\n  background-color: #000;\n`;\n\nexport const SelectCountyButton = styled.button`\n  flex-shrink: 0;\n  padding: 6px 24px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n`;\n\nexport const SearchInput = styled.input`\n  flex-grow: 1;\n  padding: 6px;\n`;\n\nexport const ZonesRow = styled.div`\n  padding: 12px;\n  margin-bottom: 12px;\n`;\n\nexport const ZoneLabel = styled.span`\n  display: inline-block;\n  background-color: lightgray;\n  font-size: 14px;\n  padding: 3px;\n  margin-right: 6px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport { selectExploringSpot, selectSpotsMeta } from 'containers/Spotlight/selectors';\nimport { exploreNextSpot, fetchSpots } from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport ZoneMene from './ZoneMenu';\n\nimport {\n  Container,\n  CardRow,\n  Card,\n  CardImage,\n  CardInfo,\n  ButtonRow,\n  Button,\n  SearchRow,\n  SearchBar,\n  SelectCountyButton,\n  SearchInput,\n  ZonesRow,\n  ZoneLabel,\n} from './Styled';\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    handleSwipeLeft,\n    handleSwipeRight,\n    handleFetchSpots,\n    setSpotsMeta,\n    location,\n    history,\n  } = props;\n\n  const zones = ['新竹市', '高雄市'];\n\n  const [keyword, setKeyword] = useState('');\n  const handleSearchInputKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleFetchSpots({ kw: keyword, zones });\n      event.currentTarget.blur();\n    }\n  };\n\n  useEffect(() => {\n    if (!setSpotsMeta.get('isLoading')) {\n      handleFetchSpots();\n    }\n  }, []);\n\n  const query = queryString.parse(location.search);\n\n  if (query.menu === 'zone') {\n    return <ZoneMene location={location} history={history} />;\n  }\n\n  return (\n    <Container>\n      <SearchRow>\n        <SearchBar>\n          <SelectCountyButton onClick={() => history.push(`${location.pathname}?menu=zone`)}>\n            縣市選擇\n            <i className=\"fas fa-caret-right\" />\n          </SelectCountyButton>\n          <SearchInput\n            type=\"text\"\n            placeholder=\"你想去的景點或街道名稱\"\n            value={keyword}\n            onChange={(event) => setKeyword(event.target.value)}\n            onKeyUp={handleSearchInputKeyUp}\n          />\n        </SearchBar>\n      </SearchRow>\n      <ZonesRow>\n        {zones.map((zone) => (\n          <ZoneLabel key={zone}>\n            {zone}\n            <i className=\"fas fa-times\" />\n          </ZoneLabel>\n        ))}\n      </ZonesRow>\n      {setSpotsMeta.get('isLoading')\n        ? <Spinner />\n        : (\n          <React.Fragment>\n            <CardRow>\n              <Link to={`/${PAGE_NAME.EXPLORE}/${spot.get('spot_id')}`}>\n                <Card>\n                  <CardImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n                  <CardInfo>\n                    {spot.get('name')}\n                    <i className=\"fas fa-heart\">666</i>\n                  </CardInfo>\n                </Card>\n              </Link>\n            </CardRow>\n            <ButtonRow>\n              <Button onClick={handleSwipeLeft}>跳過</Button>\n              <Button onClick={handleSwipeRight}>想去</Button>\n            </ButtonRow>\n          </React.Fragment>\n        )\n      }\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  handleSwipeLeft: PropTypes.func.isRequired,\n  handleSwipeRight: PropTypes.func.isRequired,\n  handleFetchSpots: PropTypes.func.isRequired,\n  setSpotsMeta: PropTypes.object,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n  setSpotsMeta: selectSpotsMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSwipeLeft: () => dispatch(exploreNextSpot()),\n  handleSwipeRight: () => dispatch(exploreNextSpot()),\n  handleFetchSpots: ({ kw, zones } = {}) => dispatch(fetchSpots({ kw, zones })),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ExplorePage));\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport Modal from 'antd/lib/modal';\n\nconst { confirm } = Modal;\nconst { SpotlightContext } = Context;\n\nconst Container = styled.div`\n  background-image: url(\"https://www.telegraph.co.uk/content/dam/Travel/2017/May/taipei-night-market.jpg?imwidth=450\");\n  background-size: cover;\n\n  height: 160px;\n  margin-top: 10px;\n  position: relative;\n  cursor: ${(props) => (props.isEditMode ? '' : 'pointer')};\n  .project-card__info-row-wrapper {\n    background: white;\n    opacity: 0.9;\n    position: absolute;\n    width: 100%;\n    bottom: 0px;\n    height: 50px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    font-size: 16px\n  }\n  .project-card__info-period {\n    font-size: 12px\n  }\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.6;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 25px;\n    height: 25px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: white;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n  } = context;\n  const {\n    project,\n    handleDeleteProject,\n  } = props;\n  const projectId = project.get('proj_id');\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const handleOnClick = useCallback(() => {\n    if (isEditMode) {\n      return;\n    }\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [projectId, isEditMode]);\n  const handleOnDeleteProject = useCallback((event) => {\n    const projId = findAttributeInEvent(event, 'data-project-id');\n    confirm({\n      title: '刪除旅程計畫',\n      content: `確認是否刪除 \"${name}\" ？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleDeleteProject(projId);\n      },\n    });\n  }, []);\n  return (\n    <Container isEditMode={isEditMode} onClick={handleOnClick}>\n      <div role=\"presentation\" className=\"project-card__info-row-wrapper\">\n        <div className=\"project-card__info-row\">\n          <div className=\"project-card__info-title\">{name}</div>\n          <div className=\"project-card__info-period\">{`${startDay}-${endDay} / ${days}天`}</div>\n        </div>\n      </div>\n      {\n        isEditMode &&\n        <>\n          <div className=\"project-card__mask\" />\n          <div\n            role=\"presentation\"\n            className=\"project-card__trash-icon-wrapper\"\n            data-project-id={projectId}\n            onClick={handleOnDeleteProject}\n          >\n            <i className=\"fas fa-trash-alt project-card__trash-icon\" />\n          </div>\n        </>\n      }\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleDeleteProject: PropTypes.func,\n};\n\nProjectCard.defaultProps = {\n  project: Map(),\n  handleDeleteProject: () => { },\n};\n\nexport default ProjectCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\n\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Spinner from 'components/Spinner';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  padding: 0px 28px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = ({\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n  handleDeleteProject,\n}) => {\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  return (\n    <Container>\n      {\n        ownProjects.map((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            project={project}\n            handleDeleteProject={handleDeleteProject}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nPlanningPage.propTypes = {\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n  handleDeleteProject: PropTypes.func,\n};\n\nPlanningPage.defaultProps = {\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n  handleDeleteProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PlanningPage));\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledTravelCard = styled.div`\n  margin-top: 10px;\n  .travel-card__header-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 5px 10px;\n    background: #D3D3D3;\n    .travel-card__header-image {\n      font-size: 30px;\n      color: white;\n    }\n    .travel-card__profile-wrapper {\n      margin-left: 10px;\n    }\n    .travel-card__header-name {\n      font-size: 12px;\n      color: #707070;\n    }\n    .travel-card__header-time {\n      font-size: 12px;\n      color: #A4A4A4;\n    }\n  }\n  .travel-card__body-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    height: 120px;\n    background: black;\n    color: white;\n    position: relative;\n    cursor: pointer;\n    .travel-card__body-cover {\n      opacity: 0.5;\n      background-image: url(${(props) => props.imagePath});\n      background-size: cover;\n      height: 100%;\n    }\n    .travel-card__body-text-wrapper {\n      position: absolute;\n      padding: 10px;\n      .travel-card__body-title {\n        font-size: 16px;\n        color: white;\n      }\n      .travel-card__body-period {\n        font-size: 12px;\n      }\n    }\n  }\n  .travel-card__footer-wrapper {\n    background: #D3D3D3;\n    padding: 13px 12px;\n    display: flex;\n    align-items: center;\n    .travel-card__footer-icon {\n      font-size: 16px;\n      color: #707070;\n    }\n    .travel-card__footer-number {\n      font-size: 12px;\n      color: #707070;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst TravelCard = ({ projectId }) => {\n  const imagePath = 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg';\n  const handleOnClick = useCallback(() => {\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  });\n  return (\n    <StyledTravelCard imagePath={imagePath}>\n      <div className=\"travel-card__header-wrapper\">\n        <i className=\"fas fa-user-circle travel-card__header-image\" />\n        <div className=\"travel-card__profile-wrapper\">\n          <div className=\"travel-card__header-name\">這裡是名字</div>\n          <div className=\"travel-card__header-time\">1天前</div>\n        </div>\n      </div>\n      <div role=\"presentation\" className=\"travel-card__body-wrapper\" onClick={handleOnClick}>\n        <div className=\"travel-card__body-cover\" />\n        <div className=\"travel-card__body-text-wrapper\">\n          <div className=\"travel-card__body-title\">台北購物之旅</div>\n          <div className=\"travel-card__body-period\">2019年6月5日-2019年6月9日 / 4天</div>\n        </div>\n      </div>\n      <div className=\"travel-card__footer-wrapper\">\n        <i className=\"far fa-heart travel-card__footer-icon\" />\n        <div className=\"travel-card__footer-number\">666</div>\n      </div>\n    </StyledTravelCard>\n  );\n};\n\nTravelCard.propTypes = {\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nTravelCard.propTypes = {\n};\n\nexport default TravelCard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport TravelCard from './components/TravelCard';\n\nconst StyledTravelWallPage = styled.div`\n  padding: 5px 28px;\n`;\n\nconst TravelWallPage = () => {\n  const cards = new Array(10).fill(0).map((x, index) => index);\n  return (\n    <StyledTravelWallPage>\n      {\n        cards.map((card, index) => (\n          <TravelCard\n            key={card}\n            projectId={index}\n          />\n        ))\n      }\n    </StyledTravelWallPage>\n  );\n};\n\nexport default TravelWallPage;\n","import React from 'react';\n\nconst Favicon = () => (\n  <div className=\"personal-page__favicon-wrapper\">\n    <img className=\"personal-page__favicon\" alt=\"\" />\n  </div>\n);\n\nexport default Favicon;\n","import React from 'react';\nimport Favicon from './Favicon';\n\nconst Information = () => (\n  <div className=\"personal-page__info-wrapper\">\n    <Favicon />\n    <div className=\"personal-page__profile-wrapper\">\n      <div className=\"personal-page__profile-name\">這裡是名字</div>\n      <div className=\"personal-page__profile-travel-info\">\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">旅程發表</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-divier\n          personal-page__profile-travel-info-item-padding-right\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">收藏數</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n        <div className=\"\n          personal-page__profile-travel-info-item-wrapper\n          personal-page__profile-travel-info-item-padding-left\n        \"\n        >\n          <div className=\"personal-page__profile-travel-info-item-title\">被收藏</div>\n          <div className=\"personal-page__profile-travel-info-item-number\">99</div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledSpotCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .spot-card__title {\n    font-size: 11px;\n  }\n`;\n\nconst SpotCard = ({ spotId, handleOnClick }) => {\n  const imagePath = 'https://www.taipei-101.com.tw/upload/jn_now/201801/2018010102515956G575BF.jpg';\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">台北101</span>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleOnClick: PropTypes.func,\n};\n\nSpotCard.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default SpotCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst SpotCollection = ({\n  handleOnClick,\n}) => {\n  const cards = new Array(11).fill(0).map((x, index) => index);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card) => (\n          <SpotCard\n            key={card}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nSpotCollection.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default SpotCollection;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\n\nconst StyledPlanningCard = styled.div`\n  height: 100px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  .planning-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    opacity: 0.7;\n    display: flex;\n    justify-content: center;\n    padding: 5px 0px;\n  }\n  .planning-card__title {\n    font-size: 11px;\n  }\n\n  .planning-card__profile-wrapper {\n    display: flex;\n    color: white;\n    padding: 10px;\n    .planning-card__profile-favicon {\n      height: 20px;\n      width: 20px;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      border-radius: 100%;\n    }\n    .planning-card__profile-name {\n      color: white;\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n`;\n\nconst PlanningCard = ({ planningId, handleOnClick }) => {\n  const imagePath = 'https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg';\n  const faviconPath = 'https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg';\n  return (\n    <StyledPlanningCard\n      imagePath={imagePath}\n      data-id={planningId}\n      data-redirect-path={PAGE_NAME.DETAIL_PLANNING}\n      onClick={handleOnClick}\n    >\n      <div className=\"planning-card__profile-wrapper\">\n        <img className=\"planning-card__profile-favicon\" src={faviconPath} alt=\"\" />\n        <div className=\"planning-card__profile-name\">這裡是名字</div>\n      </div>\n      <div className=\"planning-card__title-wrapper\">\n        <span className=\"planning-card__title\">台北購物之旅</span>\n      </div>\n    </StyledPlanningCard>\n  );\n};\n\nPlanningCard.propTypes = {\n  planningId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  handleOnClick: PropTypes.func,\n};\n\nPlanningCard.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default PlanningCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport PlanningCard from './PlanningCard';\n\nconst StyledPlanningCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst PlanningCollection = ({\n  handleOnClick,\n}) => {\n  const cards = new Array(11).fill(0).map((x, index) => index);\n  return (\n    <StyledPlanningCollection>\n      {\n        cards.map((card) => (\n          <PlanningCard\n            key={card}\n            planningId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledPlanningCollection>\n  );\n};\n\nPlanningCollection.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nPlanningCollection.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default PlanningCollection;\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport PlanningCollection from './PlanningCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <PlanningCollection handleOnClick={handleOnCardClick} />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\n\nconst StyledPersonalPage = styled.div`\n  .personal-page__cover-image {\n    height: 120px;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n  }\n  .personal-page__info-wrapper {\n    display: flex;\n    position: relative;\n    padding: 0px 20px;\n    .personal-page__favicon-wrapper {\n      width: 150px;\n    }\n    .personal-page__favicon {\n      border-radius: 100%;\n      border: 3px solid white;\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      height: ${(props) => props.faviconSize}px;\n      width: ${(props) => props.faviconSize}px;\n      position: absolute;\n      top: -30px;\n    }\n    .personal-page__profile-wrapper {\n      padding: 10px 10px;\n      width: 100%;\n      .personal-page__profile-name {\n        font-size: 16px;\n        color: #707070;\n        margin-bottom: 10px;\n      }\n      .personal-page__profile-travel-info {\n        display: flex;\n        .personal-page__profile-travel-info-item-wrapper {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          .personal-page__profile-travel-info-item-title {\n            font-size: 12px;\n            color: #707070;\n            margin-bottom: 3px;\n          }\n          .personal-page__profile-travel-info-item-number {\n            font-size: 12px;\n            color: #707070;\n          }\n        }\n        .personal-page__profile-travel-info-item-divier {\n          border-right: 1px solid #D1D1D1;\n        }\n        .personal-page__profile-travel-info-item-padding-right {\n          padding-right: 20px;\n        }\n        .personal-page__profile-travel-info-item-padding-left {\n          padding-left: 20px;\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n`;\n\nconst PersonalPage = () => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = 'http://i.imgur.com/EUAd2ht.jpg';\n  const faviconSize = 90;\n  const coverImagePath = 'http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg';\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-image\" />\n      <Information />\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nexport default PersonalPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst TabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  cursor: pointer;\n  .tab__number {\n    font-size: 14px;\n    background: #f9f9f9;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.push({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  return (\n    <TabWrapper onClick={handleOnClick}>\n      <div className=\"tab__number\">\n        <div className=\"tab__text\">{`第${id + 1}天`}</div>\n        <i className=\"fas fa-times-circle tab__times-circle-icon\" />\n      </div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Tab from './Tab';\n\nconst DateTabsWrapper = styled.div`\n  background: #e4e4e4;\n  height: 50px;\n  padding: 0px 10px;\n  display: flex;\n  overflow-x: auto;\n`;\n\nconst DateTabs = (props) => {\n  const {\n    days,\n  } = props;\n  const tabs = new Array(days).fill(0).map((x, index) => index);\n  return (\n    <DateTabsWrapper>\n      {\n        tabs.map((tab) => (\n          <Tab\n            key={tab}\n            id={tab}\n            {...props}\n          />\n        ))\n      }\n    </DateTabsWrapper>\n  );\n};\n\nDateTabs.propTypes = {\n  days: PropTypes.number,\n};\n\nDateTabs.defaultProps = {\n  days: 0,\n};\n\nexport default DateTabs;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledDateTimeInfo = styled.div`\n  display: flex;\n  width: 100%;\n  height: 40px;\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  .date-time-info__date-wrapper {\n    border-right: 1px solid #ccc;\n    width: 50%;\n    display: flex;\n    align-items: center;\n    padding: 0px 20px;\n  }\n  .date-time-info__start-time-wrapper {\n    width: 50%;\n    display: flex;\n    align-items: center;\n    padding: 0px 20px;\n  }\n  .date-time-info__icon {\n    margin-right: 8px;\n  }\n`;\n\nconst DateTimeInfo = () => (\n  <StyledDateTimeInfo>\n    <div className=\"date-time-info__date-wrapper\">\n      <i className=\"far fa-calendar-alt date-time-info__icon\" />\n      <div>2019年6月5日 週三</div>\n    </div>\n    <div className=\"date-time-info__start-time-wrapper\">\n      <i className=\"far fa-clock date-time-info__icon\" />\n      <div>出發時間 8:00</div>\n    </div>\n  </StyledDateTimeInfo>\n);\n\nexport default DateTimeInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport const HEIGHT_SPOT_CARD = 60;\nexport const HEIGHT_SPOT_TRAVEL_TIME = 40;\n\nconst StyledSpotCard = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .spot-card__card-row {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    background: #D3D3D3;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 0px 15px;\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: #707070;\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n  }\n`;\n\nconst SpotCard = ({ spot }) => (\n  <StyledSpotCard>\n    <div className=\"spot-card__card-row\">\n      <div className=\"spot-card__start-end-time-wrapper\">\n        <div>8:00</div>\n        <div>|</div>\n        <div>10:00</div>\n      </div>\n      <div className=\"spot-card__card-body\">\n        <div>{spot.get('name')}</div>\n        <div className=\"spot-card__card-body-address\">{spot.get('address')}</div>\n      </div>\n    </div>\n    <div className=\"spot-card__travel-row-wrapper\">\n      <div className=\"spot-card__travel-time-wrapper\">\n        <i className=\"fas fa-car spot-card__travel-time-icon\" />\n        <div>1時15分</div>\n      </div>\n      <div className=\"spot-card__travel-time-wrapper\">\n        <i className=\"fas fa-running spot-card__travel-time-icon\" />\n        <div>6時15分</div>\n      </div>\n    </div>\n  </StyledSpotCard>\n);\n\nSpotCard.propTypes = {\n  spot: PropTypes.object,\n};\n\nSpotCard.defaultProps = {\n  spot: {},\n};\n\nexport default SpotCard;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n// http://front-ender.me/react-drag-list\nimport ReactDragList from 'react-drag-list';\nimport 'react-drag-list/assets/index.css';\nimport { fromJS } from 'immutable';\nimport SpotCard, {\n  HEIGHT_SPOT_CARD,\n  HEIGHT_SPOT_TRAVEL_TIME,\n} from './SpotCard';\n\nconst StyledContent = styled.div`\n  padding: 15px 30px;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n`;\n\nconst SpotOperator = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .operator__number-wrapper {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 1px solid grey;\n    border-radius: 100%;\n    width: 28px;\n    height: 28px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: #eee;\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 1px;\n    background: black;\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    font-size: 30px;\n    color: #707070;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n`;\n\nconst mockSpotData = fromJS([\n  {\n    id: 0,\n    name: '台北101',\n    address: '110台北市信義區信義路五段7號',\n    startTime: '09:00',\n  },\n  {\n    id: 1,\n    name: '宏亞食品巧克力觀光工廠',\n    address: '桃園縣八德市建國路386號',\n    startTime: '10:00',\n  },\n  {\n    id: 2,\n    name: '臺灣菸酒(股)公司林口觀光酒廠',\n    address: '桃園縣龜山鄉文化一路55號',\n    startTime: '12:00',\n  },\n  {\n    id: 3,\n    name: '台灣金屬創意館',\n    address: '台南市永康區永科環路598號',\n    startTime: '15:00',\n  },\n]);\n\nconst Content = () => (\n  <StyledContent>\n    <div className=\"content__spot-cards-wrapper\">\n      <div>\n        {\n          mockSpotData.map((spot, index) => (\n            <SpotOperator key={spot.get('id')}>\n              <div className=\"operator__number-wrapper\">\n                {\n                  Boolean(index) &&\n                  <div className=\"operator__divider-line operator__divider-line-top\" />\n                }\n                <div className=\"operator__number-circle-border\"><span>{spot.get('id') + 1}</span></div>\n                <div className=\"operator__divider-line operator__divider-line-bottom\" />\n              </div>\n              <div className=\"operator__map-marker-wrapper\">\n                <i className=\"fas fa-map-marker-alt operator__map-marker-icon\" />\n              </div>\n            </SpotOperator>\n          ))\n        }\n      </div>\n      <ReactDragList\n        dataSource={mockSpotData}\n        row={(spot, index) => (\n          <SpotCard\n            key={spot.get('id')}\n            spot={spot}\n            index={index}\n          />\n        )}\n        handles={false}\n        className=\"simple-drag content__spot-simple-drag\"\n        rowClassName=\"simple-drag-row\"\n        onUpdate={() => { }}\n      />\n    </div>\n  </StyledContent>\n);\n\nContent.propTypes = {\n  // location: PropTypes.object,\n};\n\nContent.defaultProps = {\n  // location: {},\n};\n\nexport default Content;\n","import styled from 'styled-components';\n\nexport const DetailPlanningPageContainer = styled.div`\n  .detail-planning__cover {\n    background: lightgray;\n    height: 150px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n    }\n    .icon__pen {\n      font-size: 14px;\n      margin: 0px 10px;\n    }\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport DateTabs from './DateTabs';\nimport DateTimeInfo from './DateTimeInfo';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\n\nconst DetailPlanningPage = (props) => {\n  const {\n    match,\n    ownProjectsMeta,\n    ownProjects,\n    handleFetchOwnProjects,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到旅行計劃資料</div>;\n  }\n  const days = ownProject.get('tot_days');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  return (\n    <DetailPlanningPageContainer>\n      <div className=\"detail-planning__cover\">\n        <div className=\"detail-planning__cover-title\">\n          <span>台北購物之旅</span>\n          <i className=\"fas fa-pen icon__pen\" />\n        </div>\n        <div className=\"detail-planning__cover-period\">\n          {`${startDay} - ${endDay} / ${days}天`}\n        </div>\n      </div>\n      <DateTabs days={days} {...props} />\n      <DateTimeInfo />\n      <Content {...props} />\n    </DetailPlanningPageContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React from 'react';\n\nconst UpdatePlanningPage = () => (\n  <div>UpdatePlanningPage</div>\n);\n\nexport default UpdatePlanningPage;\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst StyledCreateProjectPage = styled.div`\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n`;\n\nconst CreateProjectPage = () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setNewProject,\n  } = context;\n  const handleOnNameChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('name', currentValue));\n  };\n  const handleOnStartDayChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('start_day', currentValue));\n  };\n  const handleOnDaysChange = (event) => {\n    const currentValue = event.currentTarget.value > 0 ? parseInt(event.currentTarget.value, 10) : 0;\n    setNewProject((newProject) => newProject.set('tot_days', currentValue));\n  };\n  return (\n    <StyledCreateProjectPage>\n      <div className=\"create-project__input-wrapper\">\n        <div className=\"create-project__label-box\"><span>旅程名稱</span></div>\n        <input type=\"text\" className=\"create-project__input\" onChange={handleOnNameChange} />\n      </div>\n      <div className=\"create-project__input-wrapper\">\n        <div className=\"create-project__label-box\"><span>出發日期</span></div>\n        <input type=\"date\" className=\"create-project__input\" onChange={handleOnStartDayChange} />\n      </div>\n      <div className=\"create-project__input-wrapper\">\n        <div className=\"create-project__label-box\"><span>天數</span></div>\n        <input type=\"text\" className=\"create-project__input\" onChange={handleOnDaysChange} />\n      </div>\n    </StyledCreateProjectPage>\n  );\n};\n\nexport default CreateProjectPage;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport { selectSpotMeta, selectSpots } from 'containers/Spotlight/selectors';\nimport { fetchSpotById } from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\n\nconst Feature = styled.div`\n  position: relative;\n`;\n\nconst FeatureImage = styled.img`\n  display: block;\n  height: 220px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nconst FeatureInfo = styled.div`\n  position: absolute;\n  width: calc(100% - 2 * 12px);\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n  background-color: rgba(255, 255, 255, .7);\n`;\n\nconst SpotPage = ({\n  match,\n  spots,\n  handleFetchSpotById,\n  setSpotMeta,\n}) => {\n  useEffect(() => {\n    handleFetchSpotById(match.params.spotId);\n  }, []);\n\n  if (setSpotMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  const spot = spots.get(Number(match.params.spotId), Map());\n\n  return (\n    <div>\n      <Feature>\n        <FeatureImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n        <FeatureInfo>\n          {spot.get('name')}\n          <i className=\"fas fa-heart\">666</i>\n        </FeatureInfo>\n      </Feature>\n      <div>景點介紹</div>\n      <p>\n        {spot.get('describe')}\n      </p>\n      <div>地址</div>\n      <p>{spot.get('address')}</p>\n      <div>電話</div>\n      <p>{spot.get('tel')}</p>\n      <div>網址</div>\n      <a href={spot.get('website')}>{spot.get('website')}</a>\n    </div>\n  );\n};\n\nSpotPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  setSpotMeta: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n  setSpotMeta: selectSpotMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SpotPage);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Content/PlanningPage/CreateProjectPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\n\nexport const routePathConfig = {\n  login: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING}`,\n  createProjectPagePath: `/${PAGE_NAME.CREATE_PROJECT}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE}/:spotId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.login} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport Login from 'containers/Spotlight/Header/Login';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Header/PlanningPage/CreateProjectPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.login} component={Login} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: lightgray;\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background: #D3D3D3;\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    title,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  }\n\n  return (\n    <NavTabWrapper data-page-path={title} onClick={handleRedirect}>\n      <img className=\"nav-tab__image\" src=\"https://freeiconshop.com/wp-content/uploads/edd/bulb-curvy-flat.png\" alt=\"\"/>\n      <div>{title}</div>\n    </NavTabWrapper>\n  );\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab title={PAGE_NAME.EXPLORE} />\n    <NavTab title={PAGE_NAME.PLANNING} />\n    <NavTab title={PAGE_NAME.TRAVEL_WALL} />\n    <NavTab title={PAGE_NAME.PERSONAL_PAGE} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  ${(props) => (props.isNavVisible\n    ? `grid-template-rows: ${HEIGHT_HEADER}px auto ${HEIGHT_NAVIGATION}px;`\n    : `grid-template-rows: ${HEIGHT_HEADER}px auto 0px`)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n    overflow-y: scroll;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    border: 1px solid grey;\n    display: flex;\n    justify-content: center;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchLoginStatus,\n} from './actions';\nimport {\n  selectLoginStatusMeta,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  handleFetchLoginStatus,\n  location,\n  loginStatusMeta,\n}) => {\n  useEffect(() => {\n    if (!loginStatusMeta.get('isLoading')) {\n      handleFetchLoginStatus();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible}>\n              <div className=\"spot-light__header-container\">\n                <Header />\n              </div>\n              <div className=\"spot-light__content-container\">\n                {\n                  (loginStatusMeta.get('isLoading'))\n                    ? <Spinner />\n                    : <Content />\n                }\n              </div>\n              {\n                isNavVisible &&\n                location.pathname !== '/' &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  handleFetchLoginStatus: PropTypes.func.isRequired,\n  loginStatusMeta: PropTypes.instanceOf(Map),\n  location: PropTypes.object.isRequired,\n};\n\nSpotlight.defaultProps = {\n};\n\nconst mapStateToProps = createStructuredSelector({\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchLoginStatus: () => dispatch(fetchLoginStatus()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Spotlight));\n","import React from 'react';\nimport { Router } from 'react-router';\nimport Spotlight from 'containers/Spotlight/';\nimport history from './utils/history';\nimport './App.css';\n\nconst App = () => (\n  <Router history={history}>\n    <Spotlight />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from 'store';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}