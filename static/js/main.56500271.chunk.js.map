{"version":3,"sources":["assets/arrow_left_icon.svg","assets/trash_icon.svg","assets/red_heart_circle_icon.svg","assets/map_plus_icon.svg","assets/NavIcons/planning_icon.svg","assets/NavIcons/planning_icon_hover.svg","assets/NavIcons/explore_icon.svg","assets/NavIcons/explore_icon_hover.svg","assets/NavIcons/travel_wall_icon.svg","assets/NavIcons/travel_wall_icon_hover.svg","assets/NavIcons/personal_icon.svg","assets/NavIcons/personal_icon_hover.svg","assets/upload_travel_wall_icon.svg","assets/arrow_right_icon.svg","assets/times_icon.svg","containers/Spotlight/Content/LoginPage/key.svg","containers/Spotlight/Content/LoginPage/logo.png","assets/edit_day_icon.svg","assets/arrow_left_grey_icon.svg","assets/move_icon.svg","assets/check_circle_icon.svg","assets/plus_icon.svg","containers/Spotlight/Content/TravelerPage/header-image.png","Provider/global/meta.js","containers/Spotlight/constants.js","containers/Spotlight/reducer.js","services/storage/index.js","services/storage/tokenStorage.js","utils/requests.js","config.js","utils/query-string.js","containers/Spotlight/actions.js","containers/Spotlight/epics.js","store/epics.js","store/index.js","store/configureStore.js","store/reducers.js","Styled/Settings/colors.js","components/Spinner/index.js","containers/Spotlight/selectors.js","containers/Spotlight/Context.js","Styled/Settings/constants.js","utils/history.js","containers/Spotlight/Header/Styled.js","containers/Spotlight/Header/ExplorePage/index.js","utils/event.js","containers/Spotlight/Header/PlanningPage/index.js","containers/Spotlight/Header/TravelWallPage/index.js","containers/Spotlight/Header/PersonalPage/index.js","containers/Spotlight/Header/PersonalPage/SettingPage/index.js","components/Modal/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/ModalContent/index.js","containers/Spotlight/Header/PlanningPage/DetailPlanningPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Header/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Header/PlanningPage/AddSpotToPlanPage/index.js","containers/Spotlight/Header/PlanningPage/SettingSpotCardPage/index.js","containers/Spotlight/Header/PlanningPage/EditPlanningDayPage/index.js","containers/Spotlight/Header/PlanningPage/UpdatingSpotCardPage/index.js","containers/Spotlight/Header/SpotPage/index.js","containers/Spotlight/Header/AddSpotToProjectPage/index.js","containers/Spotlight/Header/AddSpotToProjectPlanPage/index.js","containers/Spotlight/Header/TravelerPage/index.js","containers/Spotlight/Content/LoginPage/Styled.js","containers/Spotlight/Content/LoginPage/index.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/Styled.js","containers/Spotlight/Content/ExplorePage/ZoneMenu/index.js","containers/Spotlight/Content/ExplorePage/reducer.js","containers/Spotlight/Content/ExplorePage/constants.js","containers/Spotlight/Content/ExplorePage/Styled.js","containers/Spotlight/Content/ExplorePage/index.js","containers/Spotlight/Content/PlanningPage/components/ProjectCard/index.js","containers/Spotlight/Content/PlanningPage/index.js","components/Likes/Styled.js","components/Likes/index.js","components/TravelCard/Styled.js","components/TravelCard/index.js","containers/Spotlight/Content/TravelWallPage/Styled.js","containers/Spotlight/Content/TravelWallPage/index.js","containers/Spotlight/Content/PersonalPage/Information/Favicon/index.js","containers/Spotlight/Content/PersonalPage/Information/index.js","containers/Spotlight/Content/PersonalPage/CollectionTabs/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/SpotCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/SpotCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/ProjectCard/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/ProjectCollection/index.js","containers/Spotlight/Content/PersonalPage/CollectionContent/index.js","containers/Spotlight/Content/PersonalPage/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/FaviBanner/index.js","containers/Spotlight/Content/PersonalPage/SettingPage/styles.js","containers/Spotlight/Content/PersonalPage/SettingPage/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/Tab.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTabs/index.js","components/TimePicker/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/DateTimeInfo/index.js","components/DragSortableList/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotOperationBtn/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/SpotCard.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Content/index.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/Styled.js","containers/Spotlight/Content/PlanningPage/DetailPlanningPage/index.js","components/InputBox/index.js","containers/Spotlight/Content/PlanningPage/UpdatePlanningPage/index.js","containers/Spotlight/Content/PlanningPage/CreateProjectPage/index.js","containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage/LikedSpotCard/index.js","containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage/index.js","containers/Spotlight/Content/PlanningPage/SettingSpotCardPage/index.js","containers/Spotlight/Content/PlanningPage/UpdatingSpotCardPage/index.js","containers/Spotlight/Content/PlanningPage/EditPlanningDayPage/index.js","containers/Spotlight/Content/SpotPage/Styled.js","containers/Spotlight/Content/SpotPage/index.js","containers/Spotlight/Content/AddSpotToProjectPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPage/index.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/Styled.js","containers/Spotlight/Content/AddSpotToProjectPlanPage/index.js","components/UserCard/Styled.js","components/UserCard/index.js","components/ProjectCard/Styled.js","components/ProjectCard/index.js","containers/Spotlight/Content/TravelerPage/Styled.js","containers/Spotlight/Content/TravelerPage/index.js","containers/Spotlight/Content/Routes.js","containers/Spotlight/Header/Routes.js","containers/Spotlight/Header/index.js","containers/Spotlight/Content/index.js","components/NavTab/index.js","containers/Spotlight/Navigation/index.js","containers/Spotlight/Styled.js","containers/Spotlight/index.js","App.js","serviceWorker.js","index.js","assets/check_icon.svg"],"names":["module","exports","__webpack_require__","p","updateMetaLoading","meta","set","updateMetaDone","updateMetaError","_LOADING$LOADED$ERROR","Object","defineProperty","INIT","concat","FETCH_USER_BY_ID","SET_USER_LOADING","SET_USER_DONE","FETCH_USERS","SET_USERS_LOADING","SET_USERS_DONE","FETCH_USER_STATS","SET_USER_STATS_LOADING","SET_USER_STATS_DONE","FETCH_SPOT_BY_ID","SET_SPOT_LOADING","SET_SPOT_DONE","FETCH_SPOTS","SET_SPOTS_LOADING","SET_SPOTS_DONE","FETCH_REC_SPOTS","SET_REC_SPOTS_LOADING","SET_REC_SPOTS_DONE","SEARCH_REC_SPOTS","SET_SEARCH_REC_SPOTS_LOADING","SET_SEARCH_REC_SPOTS_DONE","FETCH_PROJECT_BY_ID","SET_PROJECT_LOADING","SET_PROJECT_DONE","FETCH_PROJECTS","SET_PROJECTS_LOADING","SET_PROJECTS_DONE","LOGIN","SET_LOGIN_LOADING","SET_LOGIN_DONE","LOGOUT","SET_LOGOUT_LOADING","SET_LOGOUT_DONE","FETCH_LOGIN_STATUS","SET_LOGIN_STATUS_LOADING","SET_LOGIN_STATUS_DONE","REGISTER","SET_REGISTER_LOADING","SET_REGISTER_DONE","EXPLORE_NEXT_SPOT","SET_EXPLORING_SPOT_ID","FETCH_OWN_PROJECTS","SET_OWN_PROJECTS_LOADING","SET_OWN_PROJECTS_DONE","SUBMIT_CREATE_PROJECT","CREATE_PROJECT_LOADING","CREATE_PROJECT_DONE","SUBMIT_UPDATE_PROJECT","UPDATE_PROJECT_LOADING","UPDATE_PROJECT_DONE","SUBMIT_DELETE_PROJECT","DELETE_PROJECT_LOADING","DELETE_PROJECT_DONE","LIKE_SPOT","SET_LIKE_SPOT_DONE","CANCEL_LIKE_SPOT","SET_CANCEL_LIKE_SPOT_DONE","LIKE_PROJECT","SET_LIKE_PROJECT_DONE","CANCEL_LIKE_PROJECT","SET_CANCEL_LIKE_PROJECT_DONE","FETCH_FAVORITE_SPOT_IDS","SET_FAVORITE_SPOT_IDS_LOADING","SET_FAVORITE_SPOT_IDS_DONE","ADD_FAVORITE_SPOT_ID","DELETE_FAVORITE_SPOT_ID","ADD_FAVORITE_PROJECT_ID","DELETE_FAVORITE_PROJECT_ID","FETCH_FAVORITE_PROJECT_IDS","SET_FAVORITE_PROJECT_IDS_LOADING","SET_FAVORITE_PROJECT_IDS_DONE","SET_IS_MODAL_VISIBLE","DEFAULT_PROJECT","name","start_day","tot_days","DEFAULT_PLAN","start_time","arrange","NavIcon","explore","normal","exploreIconPath","hover","exploreHoverIconPath","planning","planningIconPath","planningHoverIconPath","travelWall","travelWallIconPath","travelWallHoverIconPath","personal","personalIconPath","personalHoverIconPath","WEEKDAYS_SHORT","split","HOURS","MINUTES","initialState","fromJS","setSpotMeta","META","setSpotsMeta","setRecSpotsMeta","setSearchRecSpotsMeta","spots","spotsResult","recSpotsResult","setProjectMeta","setProjectsMeta","projects","projectsResult","loginMeta","logoutMeta","registerMeta","loginStatusMeta","ownProjectsMeta","createProjectMeta","updateProjectMeta","deleteProjectMeta","isModalVisible","user","users","usersResult","setUserMeta","setUsersMeta","setUserStatsMeta","ownProjects","exploringSpotId","setFavoriteSpotIdsMeta","setFavoriteProjectIdsMeta","favoriteSpotIds","favoriteProjectIds","spotLightReducer","state","arguments","length","undefined","action","type","update","_action$payload","payload","error","mergeDeepIn","user_id","_action$payload2","entities","result","_action$payload3","userId","stats","_action$payload4","spot","spot_id","_action$payload5","_action$payload6","reduce","ids","id","indexOf","push","get","_action$payload7","_action$payload8","project","proj_id","_action$payload9","_action$payload10","_action$payload11","_action$payload12","_action$payload13","_action$payload14","updateIn","String","likeNum","_action$payload15","_action$payload16","_action$payload17","_action$payload18","_action$payload19","isVisible","toSet","add","toList","index","delete","storage","key","localStorage","Error","JSON","parse","getItem","e","console","warn","removeItem","getAuthToken","removeSession","APP_API_STATUS","actionAppStatus","Headers","Content-Type","ActionException","this","fetchErrorEpic","err","_len","actions","Array","_key","of","apply","isDataUploadForm","data","FormData","handleRequestError","navigator","onLine","request","privateRequest","_ref2","method","url","options","_ref2$download","download","fetchOption","headers","defaultOption","toLowerCase","objectSpread","body","stringify","getFetchOption","res","Authorization","getHeaders","apiURL","getURIByOption","getParamsString","getAPIURL","from","fetch","then","response","status","pipe","catchError","mergeMap","blob","json","map","code","params","query","keys","k","encodeURIComponent","join","customPrefix","isAdmin","query_string","obj","filter","spotSchema","schema","Entity","idAttribute","spotListSchema","projectSchema","projectListSchema","userSchema","userListSchema","setIsModalVisible","fetchUserById","setUserDone","setUsersDone","normalize","fetchUserStats","setUserStatsDone","fetchSpotById","setSpotDone","setSpotsDone","setRecSpotsDone","setSearchRecSpotsDone","fetchProjectById","setProjectDone","fetchProjects","_ref5","owner","onlyPublic","setProjectsDone","setLoginDone","setLogoutDone","setRegisterDone","setLoginStatusDone","setExploringSpotId","fetchOwnProjects","setOwnProjectsDone","createProjectDone","submitUpdateProject","projectId","updateProject","updateProjectDone","submitDeleteProject","deleteProjectDone","likeSpot","setLikeSpotDone","setCancelLikeSpotDone","setLikeProjectDone","setCancelLikeProjectDone","fetchFavoriteSpotIds","setFavoriteSpotIdsDone","fetchFavoriteProjectIds","setFavoriteProjectIdsDone","getKeywordQueryString","keyword","getZonesQueryString","zones","zone","getSearchSpotQueryString","_ref14","queryString","queryStringSegment","epics","action$","ofType","switchMap","Observable","empty","state$","_ref13","flatMap","content","startWith","_ref","_ref3","_ref4","kw","_ref6","_ref7","toConsumableArray","mergeAll","aggregateRes","_ref8","_ref9","toQueryString","only_public","ownerId","ownerIds","_ref15","_ref16","_ref17","acc","_ref18","_ref10","newProject","message","success","_ref11","toJS","_ref12","_ref19","_ref20","_ref21","_ref22","_ref23","row","_ref24","value","spotIds","nextSpotId","slice","find","notExploredId","includes","store_epics","spotLightEpics","store","history","epic$","BehaviorSubject","combineEpics","initialEpics","epicMiddleware","createEpicMiddleware","dependencies","middlewares","routerMiddleware","enhancers","applyMiddleware","composeEnhancers","compose","createStore","combineReducers","spotlight","spotlightReducer","run","deps","epic","catch","source$","setTimeout","configureStore","SpotlightTheme","mainColor","defaultTheme","StyledSpinner","styled","div","_templateObject","props","height","StyledSpinnerCover","_templateObject2","Spinner","react_default","a","createElement","className","defaultProps","selectSpotlight","selectUsers","createSelector","spotlightState","selectSpots","selectProjects","selectUser","selectLoginStatusMeta","selectOwnProjects","selectOwnProjectsMeta","selectOwnProjectById","Number","selectFavoriteSpotIdsMeta","selectFavoriteSpotIds","selectFavoriteProjectIds","selectIsModalVisible","SpotlightContext","createContext","Provider","Consumer","SpotlightProvider","children","_useState","useState","_useState2","slicedToArray","isNavVisible","setIsNavVisible","_useState3","_useState4","isHeaderVisible","setIsHeaderVisible","_useState5","_useState6","setNewProject","_useState7","_useState8","isEditMode","setIsEditMode","_useState9","Map","_useState10","setUpdateProject","_useState11","_useState12","selectedLikedSpotId","setSelectedLikedSpotId","_useState13","List","_useState14","selectedDays","setSelectedDays","useSelection","Context","SpotlightConsumer","PAGE_NAME","EXPLORE","text","PLANNING","TRAVEL_WALL","PERSONAL_PAGE","SETTING","DETAIL_PLANNING","UPDATE_PLANNING","CREATE_PROJECT","ADD_SPOT_TO_PLAN","SETTING_SPOT_CARD","UPDATING_SPOT_CARD","ADD_SPOT_TO_PROJECT","EDIT_PLANNING_DAY","TRAVELER","createBrowserHistory","basename","process","HeaderContainer","Styled_templateObject","HeaderTitle","Styled_templateObject2","HeaderLeftButtons","_templateObject3","HeaderRightButtons","_templateObject4","HeaderLinkButton","Link","_templateObject5","HeaderButton","button","_templateObject6","withRouter","location","menu","search","to","findAttributeInEvent","event","attr","end","currentTarget","temp","target","dataId","getAttribute","parentElement","Header_PlanningPage","context","useContext","handleToCreateProject","useCallback","path","handleEditModeOn","handleEditModeOff","useEffect","role","onClick","data-redirect-path","Header_TravelWallPage","Header_PersonalPage","handleGoToSetting","PersonalPage_SettingPage","handleGoBackToPlanning","fade","keyframes","Modal_templateObject","heightGrowingAnimation","Modal_templateObject2","ModalWrapper","Modal_templateObject3","Modal","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","el","document","getElementById","setAttribute","appendChild","_this$props","style","position","top","width","zIndex","display","innerHTML","remove","isHeightGrowing","_this$props2","optionStyle","heightGrowing","ReactDOM","createPortal","React","Component","ModalContentContainer","ModalContent_templateObject","theme","ModalContent","onOk","onCancel","modalStyle","justifyContent","alignItems","DetailPlanningPage","match","handleSubmitUpdateProject","proj","toString","goBack","handleGoToUpdatePlanningPage","day","URLSearchParams","window","replace","pathname","handleUploadToTravelWall","info","handleOnOk","updatedProject","is_public","handleOnCancel","isOwner","Fragment","src","uploadTravelWallIconPath","alt","components_Modal","DetailPlanningPage_ModalContent","mapStateToProps","createStructuredSelector","connect","dispatch","UpdatePlanningPage","handleGoBackToDetailPlanning","handleOnCheckBtn","CreateProjectPage","handleSubmitCreateProject","startDay","moment","format","days","submitCreateProject","AddSpotToPlanPage","settingSpotCardPagePath","warning","arrowLeftIconPath","arrowRightIconPath","SettingSpotCardPage","afterIndex","elapsedTime","spotId","plan","handleOnGoBack","handleOnCheck","time","during","parseInt","updatedPlan","newSpotCard","updatedArrange","size","splice","detailPlanningPagePath","checkIconPath","ownProps","confirm","EditPlanningDayPage","_useContext","handleOnDelete","submitProject","totDays","title","okText","okType","timesIconPath","trashIconPath","UpdatingSpotCardPage","handleOnUpdateSpotCard","handleOnCheckClick","TravelPage","Container","LoginPage_Styled_templateObject","UserNameContainer","LoginPage_Styled_templateObject2","UserName","input","Styled_templateObject3","PassWordContainer","Styled_templateObject4","PasswordIcon","img","Styled_templateObject5","PassWord","Styled_templateObject6","LoginButton","_templateObject7","RegisterRow","_templateObject8","RegisterLink","_templateObject9","ErrorMessage","_templateObject10","Logo","_templateObject11","Login","usernameRef","createRef","passwordRef","LogoSrc","ref","placeholder","keyIcon","handleSubmitLogin","current","pwd","href","handleSubmitRegister","_ref6$acc","_ref6$pwd","login","_ref7$acc","_ref7$pwd","register","ZoneMenu_Styled_templateObject","Region","ZoneMenu_Styled_templateObject2","ZoneLabel","label","ZoneMenu_Styled_templateObject3","ZoneMenu","zonesState","regions","Styled_Container","region","onChange","zoneState","checked","zoneReducer","setIn","基隆市","臺北市","新北市","桃園市","新竹市","新竹縣","苗栗縣","南投縣","臺中市","彰化縣","雲林縣","嘉義市","嘉義縣","臺南市","高雄市","屏東縣","宜蘭縣","花蓮縣","臺東縣","連江縣","金門縣","澎湖縣","ExplorePage_Styled_templateObject","Card","ExplorePage_Styled_templateObject2","CardImage","ExplorePage_Styled_templateObject3","CardInfo","ExplorePage_Styled_templateObject4","SpotName","span","ExplorePage_Styled_templateObject5","SpotLikes","ExplorePage_Styled_templateObject6","ButtonRow","Styled_templateObject7","Button","Styled_templateObject8","ButtonCrossIcon","i","Styled_templateObject9","ButtonHeartIcon","Styled_templateObject10","ButtonLabel","Styled_templateObject11","CardRow","_templateObject12","SearchRow","_templateObject13","SearchBar","_templateObject14","SelectCountyButton","_templateObject15","SearchInputContainer","_templateObject16","SearchInput","_templateObject17","ZonesRow","_templateObject18","_templateObject19","ZoneLabelCrossIcon","_templateObject20","getIn","searchRecSpotsMeta","favoriteSpotIdsMeta","recSpotIds","handleFetchFavoriteSpotIds","handleFetchRecSpots","_ref3$zones","_ref3$kw","fetchRecSpots","handleLikeSpot","handleExploreNextSpot","handleSearchRecSpots","_ref4$zones","_ref4$kw","searchRecSpots","_useReducer","useReducer","zonesData","_useReducer2","selectedZones","setKeyword","handleOnLikeClick","handleOnSkipClick","ExplorePage_ZoneMenu","ExplorePage_Styled_Container","onKeyUp","blur","Styled_ZoneLabel","components_Spinner","react_router_dom","image_gallery_default","items","pic","original","renderItem","showThumbnails","showFullscreenButton","showPlayButton","showNav","autoPlay","slideInterval","disableSwipe","ProjectCard_templateObject","ProjectCard","handleDeleteProject","endDay","handleOnClick","handleOnDeleteProject","projId","ProjectCard_Container","data-project-id","PlanningPage_templateObject","PlanningPage","handleFetchOwnProjects","isLoaded","isLoading","PlanningPage_Container","components_ProjectCard","LikeLabel","Likes_Styled_templateObject","LikeButton","Likes_Styled_templateObject2","Likes","isActive","likeNumber","TravelCard_Styled_templateObject","Header","TravelCard_Styled_templateObject2","UserImage","TravelCard_Styled_templateObject3","HeaderInfo","TravelCard_Styled_templateObject4","TravelCard_Styled_templateObject5","CardDate","TravelCard_Styled_templateObject6","TravelCard_Styled_templateObject7","CardTitle","TravelCard_Styled_templateObject8","CardSubtitle","TravelCard_Styled_templateObject9","Footer","TravelCard_Styled_templateObject10","FooterInfo","TravelCard_Styled_templateObject11","TravelCard","Styled_templateObject12","cardImageSrc","userImageSrc","userName","cardDate","cardTitle","cardSubtitle","isLikeActive","onLikeClick","onCardClick","userImageTo","stopPropagation","handleOnUserImageClick","TravelCard_Styled_Container","Styled_Header","Styled_UserName","Styled_CardImage","components_Likes","TravelWallPage_Styled_templateObject","TravelCardComponent","TravelWallPage_Styled_templateObject2","publicProjects","handleFetchProjects","handleFetchFavoriteProjectIds","handleLikeProject","likeProject","handleCancelLikeProject","cancelLikeProject","TravelWallPage_Styled_Container","Styled_TravelCard","Favicon","Information","collectedProjectsCount","collectedSpotsCount","projectsLikedCount","publishedProjectsCount","Information_Favicon","isActiveStyle","CollectionTabs","activeCollectionType","data-collection-type","StyledSpotCard","SpotCard_templateObject","imagePath","data-id","redHeartCircleIconPath","StyledSpotCollection","SpotCollection_templateObject","cards","card","SpotCollection_SpotCard","faviconPath","components_TravelCard","StyledProjectCollection","ProjectCollection_templateObject","ProjectCollection_ProjectCard","CollectionContent","CollectionContent_ProjectCollection","CollectionContent_SpotCollection","redirectPath","StyledPersonalPage","PersonalPage_templateObject","coverImagePath","faviconSize","favoriteProjectIdsMeta","setActiveCollectionType","isAnonymous","react_router","routePathConfig","PersonalPage_Information","PersonalPage_CollectionTabs","personalPagePath","PersonalPage_CollectionContent","StyledFaviBanner","styles_templateObject","StyledSettingPage","SettingPage_styles_templateObject","logout","SettingPage_FaviBanner","TabWrapper","Tab_templateObject","Tab","currentDay","DateTabsContainer","DateTabs_templateObject","DateTabs","tabs","fill","x","handleGoToEditPlanningDay","editPlanningDayPath","tab","DateTabs_Tab","assign","editDayIcon","TimePicker_templateObject","TimePickerWrapper","TimePicker_templateObject2","TimePicker","handleHourChange","setState","hourValueGroups","handleMinuteChange","minuteValueGroups","_this$state","hour","minute","startTime","hourOptionGroups","minuteOptionGroups","_this$state2","react_mobile_picker_default","valueGroups","optionGroups","bottom","StyledDateTimeInfo","DateTimeInfo_templateObject","DateTimeInfo","handleSetModalVisible","searchParams","date","weekday","handleShowModal","handleHideModal","handleOnPickerCheck","components_TimePicker","StyledContainer","DragSortableList_templateObject","DragSortableList","dataSource","listItems","rowItem","uniqueId","lib_default","animation","ghostClass","chosenClass","dragClass","handle","order","SpotOperationBtnContainer","SpotOperationBtn_templateObject","SpotOperationBtn","handleDeleteSpot","handleUpdate","Content_SpotCard_templateObject","HEIGHT_SPOT_CARD","SpotCard","spotIndexInfo","handleFetchSpotById","planIndex","dayPlan","dayStartTime","arr","b","duringTime","endTime","SpotCard_StyledSpotCard","moveIconPath","AntdModal","StyledContent","Content_templateObject","SpotOperator","Content_templateObject2","Content","selectedSpotId","setSelectedSpotId","arrangeState","setArrangeState","handleGoToAddSpot","insertAfterIndex","addSpotToPlanPagePath","handleDeleteSelectedSpot","foundSpot","arrs","handleGoToUpdatingPage","updatingSpotCardPagePath","handleOnDragUpdate","item","Boolean","data-spotid","data-index","mapPlusIconPath","components_DragSortableList","Content_SpotCard","updatedItems","Content_SpotOperationBtn","arrowLeftGreyIconPath","DetailPlanningPageContainer","DetailPlanningPage_Styled_templateObject","handleFetchProjectById","travelerPagePath","DetailPlanningPage_DateTabs","DetailPlanningPage_DateTimeInfo","DetailPlanningPage_Content","InputBoxWrapper","InputBox_templateObject","InputBox","inputType","defaultValue","handleOnChange","UpdatePlanningPageWrapper","UpdatePlanningPage_templateObject","handleOnNameChange","handleOnDateChange","starDay","ownProject","components_InputBox","StyledCreateProjectPage","CreateProjectPage_templateObject","currentValue","LikedSpotCardContainer","LikedSpotCard_templateObject","LikedSpotCard","foundSpotDetail","handleSelectLikedSpot","showMask","min","max","pics","thumbnail","Math","floor","random","checkCircleIconPath","AddSpotToPlanPageContainer","AddSpotToPlanPage_templateObject","AddSpotToPlanPage_LikedSpotCard","SettingSpotCardPageContainer","SettingSpotCardPage_templateObject","TimePickerInput","SettingSpotCardPage_templateObject2","UpdatingSpotCardPageContainer","UpdatingSpotCardPage_templateObject","UpdatingSpotCardPage_templateObject2","setElapsedTime","isOwnProjectLoaded","hhmmTime","UpdatingSpotCardPage_TimePickerInput","EditPlanningDayContainer","EditPlanningDayPage_templateObject","handleOnDayRowClick","d","handleAddDay","data-day","plusIconPath","SpotPage_Styled_templateObject","Feature","SpotPage_Styled_templateObject2","BackButton","SpotPage_Styled_templateObject3","AddButton","SpotPage_Styled_templateObject4","FeatureImage","SpotPage_Styled_templateObject5","FeatureInfo","SpotPage_Styled_templateObject6","SpotPage_Styled_templateObject7","Title","SpotPage_Styled_templateObject8","SpotPage_Styled_templateObject9","Paragraph","SpotPage_Styled_templateObject10","handleCancelLikeSpot","cancelLikeSpot","isSpotFavorite","handleLikeOnClick","SpotPage_Styled_Container","Styled_SpotName","Styled_LikeButton","AddSpotToProjectPage_Styled_templateObject","Project","AddSpotToProjectPage_Styled_templateObject2","ProjectName","AddSpotToProjectPage_Styled_templateObject3","ProjectDate","AddSpotToProjectPage_Styled_templateObject4","CreateProjectButton","AddSpotToProjectPage_Styled_templateObject5","AddIcon","AddSpotToProjectPage_Styled_templateObject6","AddSpotToProjectPage_Styled_Container","AddSpotToProjectPlanPage_Styled_templateObject","ProjectTitle","AddSpotToProjectPlanPage_Styled_templateObject2","Plan","AddSpotToProjectPlanPage_Styled_templateObject3","daySelection","setDaySelection","spotArrange","AddSpotToProjectPlanPage_Styled_Container","_plan","UserCard_Styled_templateObject","UserCard_Styled_templateObject2","UserInfo","UserCard_Styled_templateObject3","UserCard_Styled_templateObject4","Stats","UserCard_Styled_templateObject5","Stat","UserCard_Styled_templateObject6","StatName","UserCard_Styled_templateObject7","StatNumber","UserCard_Styled_templateObject8","UserCard","userImage","collectedCount","UserCard_Styled_Container","Styled_UserImage","UserCard_Styled_UserName","ProjectCard_Styled_templateObject","Image","ProjectCard_Styled_templateObject2","Info","ProjectCard_Styled_templateObject3","ProjectCard_Styled_templateObject4","Subtitle","ProjectCard_Styled_templateObject5","image","subtitle","ProjectCard_Styled_Container","Styled_Title","TravelerPage_Styled_templateObject","TravelerPage_Styled_templateObject2","headerImage","Cards","TravelerPage_Styled_templateObject3","ProjectCardComponent","TravelerPage_Styled_templateObject4","handleFetchUser","handleFetchUserStats","handleFetchUserProjects","TravelerPage_Styled_Container","TravelerPage_Styled_Header","components_UserCard","Styled_ProjectCard","loginPagePath","explorePagePath","planningPagePath","travelWallPagePath","settingPath","updatePlanningPagePath","editPlanningDayPagePath","createProjectPagePath","spotPagePath","addSpotToProjectPagePath","addSpotToProjectPlanPagePath","Routes","exact","component","LoginPage","ExplorePage","TravelWallPage","PersonalPage","SettingPage","SpotPage","AddSpotToProjectPage","AddSpotToProjectPlanPage","TravelerPage","Header_Routes","Header_templateObject","Header_HeaderContainer","ContentContainer","Spotlight_Content_templateObject","setNavTabActive","NavTabWrapper","NavTab_templateObject","iconPath","NavTab","page","data-page-path","pagePath","NavigationContainer","Navigation_templateObject","Navigation","components_NavTab","SpotlightContainer","Spotlight_Styled_templateObject","Spotlight","handleFetchLoginStatus","Spotlight_SpotlightProvider","Spotlight_Header","Spotlight_Content","Spotlight_Navigation","App","containers_Spotlight","hostname","render","es","styled_components_browser_esm","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.56500271.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/arrow_left_icon.dbcf3f98.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash_icon.9cc5960c.svg\";","module.exports = __webpack_public_path__ + \"static/media/red_heart_circle_icon.356aab5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/map_plus_icon.9917e007.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon.3f20bcf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/planning_icon_hover.227d029b.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon.7ee67c0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/explore_icon_hover.bdbf1daf.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon.f266c270.svg\";","module.exports = __webpack_public_path__ + \"static/media/travel_wall_icon_hover.8af82dd9.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon.88417814.svg\";","module.exports = __webpack_public_path__ + \"static/media/personal_icon_hover.55279ab9.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload_travel_wall_icon.ebe53160.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_right_icon.d2c8547e.svg\";","module.exports = __webpack_public_path__ + \"static/media/times_icon.27723a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/key.acf86010.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.87e5c80b.png\";","module.exports = __webpack_public_path__ + \"static/media/edit_day_icon.d93c390b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_left_grey_icon.695ac806.svg\";","module.exports = __webpack_public_path__ + \"static/media/move_icon.a136ab4a.svg\";","module.exports = __webpack_public_path__ + \"static/media/check_circle_icon.2d19e090.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus_icon.64237641.svg\";","module.exports = __webpack_public_path__ + \"static/media/header-image.ee45fc08.png\";","export const LOADED = 'isLoaded';\nexport const LOADING = 'isLoading';\nexport const ERROR = 'error';\n\nexport const updateMetaLoading = (meta) => meta\n  .set(LOADING, true)\n  .set(LOADED, false)\n  .set(ERROR, null);\n\nexport const updateMetaDone = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, true)\n  .set(ERROR, null);\n\nexport const updateMetaError = (meta) => meta\n  .set(LOADING, false)\n  .set(LOADED, false)\n  .set(ERROR, true);\n\nexport default {\n  [LOADING]: false,\n  [LOADED]: false,\n  [ERROR]: null,\n};\n","import planningIconPath from 'assets/NavIcons/planning_icon.svg';\nimport planningHoverIconPath from 'assets/NavIcons/planning_icon_hover.svg';\n\nimport exploreIconPath from 'assets/NavIcons/explore_icon.svg';\nimport exploreHoverIconPath from 'assets/NavIcons/explore_icon_hover.svg';\n\nimport travelWallIconPath from 'assets/NavIcons/travel_wall_icon.svg';\nimport travelWallHoverIconPath from 'assets/NavIcons/travel_wall_icon_hover.svg';\n\nimport personalIconPath from 'assets/NavIcons/personal_icon.svg';\nimport personalHoverIconPath from 'assets/NavIcons/personal_icon_hover.svg';\n\n\nexport const KEY_REDUCER = 'spotlight';\nexport const INIT = `${KEY_REDUCER}/INIT`;\n\nexport const FETCH_USER_BY_ID = `${KEY_REDUCER}/FETCH_USER_BY_ID`;\nexport const SET_USER_LOADING = `${KEY_REDUCER}/SET_USER_LOADING`;\nexport const SET_USER_DONE = `${KEY_REDUCER}/SET_USER_DONE`;\n\nexport const FETCH_USERS = `${KEY_REDUCER}/FETCH_USERS`;\nexport const SET_USERS_LOADING = `${KEY_REDUCER}/SET_USERS_LOADING`;\nexport const SET_USERS_DONE = `${KEY_REDUCER}/SET_USERS_DONE`;\n\nexport const FETCH_USER_STATS = `${KEY_REDUCER}/FETCH_USER_STATS`;\nexport const SET_USER_STATS_LOADING = `${KEY_REDUCER}/SET_USER_STATS_LOADING`;\nexport const SET_USER_STATS_DONE = `${KEY_REDUCER}/SET_USER_STATS_DONE`;\n\nexport const FETCH_SPOT_BY_ID = `${KEY_REDUCER}/FETCH_SPOT_BY_ID`;\nexport const SET_SPOT_LOADING = `${KEY_REDUCER}/SET_SPOT_LOADING`;\nexport const SET_SPOT_DONE = `${KEY_REDUCER}/SET_SPOT_DONE`;\n\nexport const FETCH_SPOTS = `${KEY_REDUCER}/FETCH_SPOTS`;\nexport const SET_SPOTS_LOADING = `${KEY_REDUCER}/SET_SPOTS_LOADING`;\nexport const SET_SPOTS_DONE = `${KEY_REDUCER}/SET_SPOTS_DONE`;\n\nexport const FETCH_REC_SPOTS = `${KEY_REDUCER}/FETCH_REC_SPOTS`;\nexport const SET_REC_SPOTS_LOADING = `${KEY_REDUCER}/SET_REC_SPOTS_LOADING`;\nexport const SET_REC_SPOTS_DONE = `${KEY_REDUCER}/SET_REC_SPOTS_DONE`;\n\nexport const SEARCH_REC_SPOTS = `${KEY_REDUCER}/SEARCH_REC_SPOTS`;\nexport const SET_SEARCH_REC_SPOTS_LOADING = `${KEY_REDUCER}/SET_SEARCH_REC_SPOTS_LOADING`;\nexport const SET_SEARCH_REC_SPOTS_DONE = `${KEY_REDUCER}/SET_SEARCH_REC_SPOTS_DONE`;\n\nexport const FETCH_PROJECT_BY_ID = `${KEY_REDUCER}/FETCH_PROJECT_BY_ID`;\nexport const SET_PROJECT_LOADING = `${KEY_REDUCER}/SET_PROJECT_LOADING`;\nexport const SET_PROJECT_DONE = `${KEY_REDUCER}/SET_PROJECT_DONE`;\n\nexport const FETCH_PROJECTS = `${KEY_REDUCER}/FETCH_PROJECTS`;\nexport const SET_PROJECTS_LOADING = `${KEY_REDUCER}/SET_PROJECTS_LOADING`;\nexport const SET_PROJECTS_DONE = `${KEY_REDUCER}/SET_PROJECTS_DONE`;\n\nexport const LOGIN = `${KEY_REDUCER}/LOGIN`;\nexport const SET_LOGIN_LOADING = `${KEY_REDUCER}/SET_LOGIN_LOADING`;\nexport const SET_LOGIN_DONE = `${KEY_REDUCER}/SET_LOGIN_DONE`;\n\nexport const LOGOUT = `${KEY_REDUCER}/LOGOUT`;\nexport const SET_LOGOUT_LOADING = `${KEY_REDUCER}/SET_LOGOUT_LOADING`;\nexport const SET_LOGOUT_DONE = `${KEY_REDUCER}/SET_LOGOUT_DONE`;\n\nexport const FETCH_LOGIN_STATUS = `${KEY_REDUCER}/FETCH_LOGIN_STATUS`;\nexport const SET_LOGIN_STATUS_LOADING = `${KEY_REDUCER}/SET_LOGIN_STATUS_LOADING`;\nexport const SET_LOGIN_STATUS_DONE = `${KEY_REDUCER}/SET_LOGIN_STATUS_DONE`;\n\nexport const REGISTER = `${KEY_REDUCER}/REGISTER`;\nexport const SET_REGISTER_LOADING = `${KEY_REDUCER}/SET_REGISTER_LOADING`;\nexport const SET_REGISTER_DONE = `${KEY_REDUCER}/SET_REGISTER_DONE`;\n\nexport const EXPLORE_NEXT_SPOT = `${KEY_REDUCER}/EXPLORE_NEXT_SPOT`;\nexport const SET_EXPLORING_SPOT_ID = `${KEY_REDUCER}/SET_EXPLORING_SPOT_ID`;\n\nexport const FETCH_OWN_PROJECTS = `${KEY_REDUCER}/FETCH_OWN_PROJECTS`;\nexport const SET_OWN_PROJECTS_LOADING = `${KEY_REDUCER}/SET_OWN_PROJECTS_LOADING`;\nexport const SET_OWN_PROJECTS_DONE = `${KEY_REDUCER}/SET_OWN_PROJECTS_DONE`;\n\nexport const SUBMIT_CREATE_PROJECT = `${KEY_REDUCER}/SUBMIT_CREATE_PROJECT`;\nexport const CREATE_PROJECT_LOADING = `${KEY_REDUCER}/CREATE_PROJECT_LOADING`;\nexport const CREATE_PROJECT_DONE = `${KEY_REDUCER}/CREATE_PROJECT_DONE`;\n\nexport const SUBMIT_UPDATE_PROJECT = `${KEY_REDUCER}/SUBMIT_UPDATE_PROJECT`;\nexport const UPDATE_PROJECT_LOADING = `${KEY_REDUCER}/UPDATE_PROJECT_LOADING`;\nexport const UPDATE_PROJECT_DONE = `${KEY_REDUCER}/UPDATE_PROJECT_DONE`;\n\nexport const SUBMIT_DELETE_PROJECT = `${KEY_REDUCER}/SUBMIT_DELETE_PROJECT`;\nexport const DELETE_PROJECT_LOADING = `${KEY_REDUCER}/DELETE_PROJECT_LOADING`;\nexport const DELETE_PROJECT_DONE = `${KEY_REDUCER}/DELETE_PROJECT_DONE`;\n\nexport const LIKE_SPOT = `${KEY_REDUCER}/LIKE_SPOT`;\nexport const SET_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_LIKE_SPOT_DONE`;\n\nexport const CANCEL_LIKE_SPOT = `${KEY_REDUCER}/CANCEL_LIKE_SPOT`;\nexport const SET_CANCEL_LIKE_SPOT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_SPOT_DONE`;\n\nexport const LIKE_PROJECT = `${KEY_REDUCER}/LIKE_PROJECT`;\nexport const SET_LIKE_PROJECT_DONE = `${KEY_REDUCER}/SET_LIKE_PROJECT_DONE`;\n\nexport const CANCEL_LIKE_PROJECT = `${KEY_REDUCER}/CANCEL_LIKE_PROJECT`;\nexport const SET_CANCEL_LIKE_PROJECT_DONE = `${KEY_REDUCER}/SET_CANCEL_LIKE_PROJECT_DONE`;\n\nexport const FETCH_FAVORITE_SPOT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_SPOT_IDS`;\nexport const SET_FAVORITE_SPOT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_LOADING`;\nexport const SET_FAVORITE_SPOT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_SPOT_IDS_DONE`;\n\nexport const ADD_FAVORITE_SPOT_ID = `${KEY_REDUCER}/ADD_FAVORITE_SPOT_ID`;\nexport const DELETE_FAVORITE_SPOT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_SPOT_ID`;\n\nexport const ADD_FAVORITE_PROJECT_ID = `${KEY_REDUCER}/ADD_FAVORITE_PROJECT_ID`;\nexport const DELETE_FAVORITE_PROJECT_ID = `${KEY_REDUCER}/DELETE_FAVORITE_PROJECT_ID`;\n\nexport const FETCH_FAVORITE_PROJECT_IDS = `${KEY_REDUCER}/FETCH_FAVORITE_PROJECT_IDS`;\nexport const SET_FAVORITE_PROJECT_IDS_LOADING = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_LOADING`;\nexport const SET_FAVORITE_PROJECT_IDS_DONE = `${KEY_REDUCER}/SET_FAVORITE_PROJECT_IDS_DONE`;\n\nexport const SET_IS_MODAL_VISIBLE = `${KEY_REDUCER}/SET_IS_MODAL_VISIBLE`;\n\nexport const DEFAULT_PROJECT = {\n  name: '',\n  start_day: '', // format: 2018/12/01 00:00:00\n  tot_days: 0,\n};\n\nexport const DEFAULT_PLAN = {\n  start_time: '08:00:00', // format: 08:00:00\n  arrange: [],\n};\n\nexport const DEFAULT_ARRANGE = {\n  spot_id: null,\n  during: 0,\n};\n\nexport const NavIcon = {\n  explore: {\n    normal: exploreIconPath,\n    hover: exploreHoverIconPath,\n  },\n  planning: {\n    normal: planningIconPath,\n    hover: planningHoverIconPath,\n  },\n  travelWall: {\n    normal: travelWallIconPath,\n    hover: travelWallHoverIconPath,\n  },\n  personal: {\n    normal: personalIconPath,\n    hover: personalHoverIconPath,\n  },\n};\n\nexport const WEEKDAYS = '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_');\nexport const WEEKDAYS_SHORT = '週日_週一_週二_週三_週四_週五_週六'.split('_');\n\nexport const HOURS = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '21', '22', '23',\n];\n\nexport const MINUTES = [\n  '00', '01', '02', '03', '04', '05', '06', '07', '08', '09',\n  '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',\n  '20', '22', '22', '23', '24', '25', '26', '27', '28', '29',\n  '30', '33', '32', '33', '34', '35', '36', '37', '38', '39',\n  '40', '44', '42', '43', '44', '45', '46', '47', '48', '49',\n  '50', '55', '52', '53', '54', '55', '56', '57', '58', '59',\n];\n\nexport const REC_SPOTS_BUFFER_COUNT = 3;\n","import { fromJS } from 'immutable';\nimport META, {\n  updateMetaLoading,\n  updateMetaDone,\n  updateMetaError,\n} from 'Provider/global/meta';\nimport {\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n  SET_LOGIN_LOADING,\n  SET_LOGIN_DONE,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  SET_REGISTER_LOADING,\n  SET_REGISTER_DONE,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  SET_USER_STATS_LOADING,\n  SET_USER_STATS_DONE,\n\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n  SET_LIKE_SPOT_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  SET_CANCEL_LIKE_SPOT_DONE,\n  ADD_FAVORITE_PROJECT_ID,\n  DELETE_FAVORITE_PROJECT_ID,\n  SET_LIKE_PROJECT_DONE,\n  SET_CANCEL_LIKE_PROJECT_DONE,\n  SET_REC_SPOTS_LOADING,\n  SET_REC_SPOTS_DONE,\n  SET_SEARCH_REC_SPOTS_LOADING,\n  SET_SEARCH_REC_SPOTS_DONE,\n} from './constants';\n\nconst initialState = fromJS({\n  setSpotMeta: META,\n  setSpotsMeta: META,\n  setRecSpotsMeta: META,\n  setSearchRecSpotsMeta: META,\n  spots: {},\n  spotsResult: [],\n  recSpotsResult: [],\n\n  setProjectMeta: META,\n  setProjectsMeta: META,\n  projects: {},\n  projectsResult: [],\n\n  loginMeta: META,\n  logoutMeta: META,\n  registerMeta: META,\n  loginStatusMeta: META,\n  ownProjectsMeta: META,\n  createProjectMeta: META,\n  updateProjectMeta: META,\n  deleteProjectMeta: META,\n\n  // modal\n  isModalVisible: false,\n\n  user: null,\n  users: {},\n  usersResult: [],\n  setUserMeta: META,\n  setUsersMeta: META,\n  setUserStatsMeta: META,\n  ownProjects: [],\n  exploringSpotId: null,\n  setFavoriteSpotIdsMeta: META,\n  setFavoriteProjectIdsMeta: META,\n  favoriteSpotIds: [],\n  favoriteProjectIds: [],\n});\n\nfunction spotLightReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER_LOADING:\n      return state.update('setUserMeta', updateMetaLoading);\n\n    case SET_USER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setUserMeta', updateMetaError);\n      }\n      if (!user) { // handle user is undefined\n        return state.update('setUserMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['users'], fromJS({ [user.user_id]: user }))\n        .update('setUserMeta', updateMetaDone);\n    }\n\n    case SET_USERS_LOADING:\n      return state\n        .update('setUsersMeta', updateMetaLoading);\n\n    case SET_USERS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setUsersMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users'], fromJS(entities.users))\n        .set('usersResult', fromJS(result))\n        .update('setUsersMeta', updateMetaDone)\n        .set('exploringUserId', result[0]);\n    }\n\n    case SET_USER_STATS_LOADING:\n      return state\n        .update('setUserStatsMeta', updateMetaLoading);\n\n    case SET_USER_STATS_DONE: {\n      const {\n        error,\n        userId,\n        stats,\n      } = action.payload;\n      if (error) {\n        return state.update('setUserStatsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['users', userId], fromJS({ stats }))\n        .update('setUserStatsMeta', updateMetaDone);\n    }\n\n    case SET_SPOT_LOADING:\n      return state.update('setSpotMeta', updateMetaLoading);\n\n    case SET_SPOT_DONE: {\n      const {\n        error,\n        spot,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setSpotMeta', updateMetaError);\n      }\n      if (!spot) { // handle spot is undefined\n        return state.update('setSpotMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['spots', spot.spot_id], fromJS(spot))\n        .update('setSpotMeta', updateMetaDone);\n    }\n\n    case SET_SPOTS_LOADING:\n      return state\n        .update('setSpotsMeta', updateMetaLoading);\n\n    case SET_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .set('spotsResult', fromJS(result))\n        .update('setSpotsMeta', updateMetaDone)\n        .set('exploringSpotId', result[0]);\n    }\n\n    case SET_REC_SPOTS_LOADING:\n      return state\n        .update('setRecSpotsMeta', updateMetaLoading);\n\n    case SET_REC_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setRecSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .update(\n          'recSpotsResult',\n          (recSpotsResult) => result.reduce(\n            (ids, id) => (ids.indexOf(id) !== -1 ? ids : ids.push(id)),\n            recSpotsResult,\n          ),\n        )\n        .update('setRecSpotsMeta', updateMetaDone);\n    }\n\n    case SET_SEARCH_REC_SPOTS_LOADING:\n      return state\n        .update('setSearchRecSpotsMeta', updateMetaLoading)\n        .set('recSpotsResult', initialState.get('recSpotsResult'))\n        .set('exploringSpotId', null);\n\n    case SET_SEARCH_REC_SPOTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setSearchRecSpotsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['spots'], fromJS(entities.spots))\n        .update(\n          'recSpotsResult',\n          (recSpotsResult) => result.reduce(\n            (ids, id) => (ids.indexOf(id) !== -1 ? ids : ids.push(id)),\n            recSpotsResult,\n          ),\n        )\n        .update('setSearchRecSpotsMeta', updateMetaDone)\n        .update('exploringSpotId', (id) => (id === null ? result[0] : id));\n    }\n\n    case SET_PROJECT_LOADING:\n      return state.update('setProjectMeta', updateMetaLoading);\n\n    case SET_PROJECT_DONE: {\n      const {\n        error,\n        project,\n      } = action.payload;\n\n      if (error) {\n        return state.update('setProjectMeta', updateMetaError);\n      }\n      if (!project) { // handle project is undefined\n        return state.update('setProjectMeta', updateMetaDone);\n      }\n      return state\n        .mergeDeepIn(['projects'], fromJS({ [project.proj_id]: project }))\n        .update('setProjectMeta', updateMetaDone);\n    }\n\n    case SET_PROJECTS_LOADING:\n      return state\n        .update('setProjectsMeta', updateMetaLoading);\n\n    case SET_PROJECTS_DONE: {\n      const {\n        error,\n        entities,\n        result,\n      } = action.payload;\n      if (error) {\n        return state.update('setProjectsMeta', updateMetaError);\n      }\n      return state\n        .mergeDeepIn(['projects'], fromJS(entities.projects))\n        .set('projectsResult', fromJS(result))\n        .update('setProjectsMeta', updateMetaDone);\n    }\n\n    case SET_LOGIN_LOADING:\n      return state.update('loginMeta', updateMetaLoading);\n\n    case SET_LOGIN_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGOUT_LOADING:\n      return state.update('logoutMeta', updateMetaLoading);\n\n    case SET_LOGOUT_DONE: {\n      const { error } = action.payload;\n      if (error) {\n        return state.update('logoutMeta', updateMetaError);\n      }\n      return state\n        .set('user', null)\n        .update('logoutMeta', updateMetaDone);\n    }\n\n    case SET_REGISTER_LOADING:\n      return state.update('registerMeta', updateMetaLoading);\n\n    case SET_REGISTER_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('registerMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('registerMeta', user === null ? updateMetaError : updateMetaDone);\n    }\n\n    case SET_LOGIN_STATUS_LOADING:\n      return state.update('loginStatusMeta', updateMetaLoading);\n\n    case SET_LOGIN_STATUS_DONE: {\n      const {\n        error,\n        user,\n      } = action.payload;\n      if (error) {\n        return state.set('user', null)\n          .update('loginStatusMeta', updateMetaError);\n      }\n      return state\n        .set('user', user && fromJS(user))\n        .update('loginStatusMeta', updateMetaDone);\n    }\n\n    case SET_EXPLORING_SPOT_ID:\n      return state.set('exploringSpotId', action.payload);\n\n    case SET_OWN_PROJECTS_LOADING:\n      return state.update('ownProjectsMeta', updateMetaLoading);\n\n    case SET_OWN_PROJECTS_DONE: {\n      const {\n        error,\n        ownProjects,\n      } = action.payload;\n      if (error) {\n        return state.update('ownProjectsMeta', updateMetaError);\n      }\n      return state\n        .set('ownProjects', fromJS(ownProjects))\n        .update('ownProjectsMeta', updateMetaDone);\n    }\n\n    // create project\n    case CREATE_PROJECT_LOADING:\n      return state.update('createProjectMeta', updateMetaLoading);\n\n    case CREATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('createProjectMeta', updateMetaError);\n      }\n      return state\n        .update('createProjectMeta', updateMetaDone);\n    }\n\n    // update project\n    case UPDATE_PROJECT_LOADING:\n      return state.update('updateProjectMeta', updateMetaLoading);\n\n    case UPDATE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('updateProjectMeta', updateMetaError);\n      }\n      return state\n        .update('updateProjectMeta', updateMetaDone)\n        .set('isModalVisible', false);\n    }\n\n    // delete project\n    case DELETE_PROJECT_LOADING:\n      return state.update('deleteProjectMeta', updateMetaLoading);\n\n    case DELETE_PROJECT_DONE: {\n      const {\n        error,\n      } = action.payload;\n      if (error) {\n        return state.update('deleteProjectMeta', updateMetaError);\n      }\n      return state\n        .update('deleteProjectMeta', updateMetaDone);\n    }\n\n    case SET_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['spots', String(id), 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_SPOT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['spots', String(id), 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_LIKE_PROJECT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state\n        .updateIn(['projects', String(id), 'like_num'], (likeNum) => likeNum + 1);\n    }\n\n    case SET_CANCEL_LIKE_PROJECT_DONE: {\n      const { error, id } = action.payload;\n      if (error) {\n        return state;\n      }\n      return state.updateIn(['projects', String(id), 'like_num'], (likeNum) => likeNum - 1);\n    }\n\n    case SET_FAVORITE_SPOT_IDS_LOADING:\n      return state.update('setFavoriteSpotIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_SPOT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteSpotIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteSpotIds', fromJS(ids))\n        .update('setFavoriteSpotIdsMeta', updateMetaDone);\n    }\n\n    case SET_FAVORITE_PROJECT_IDS_LOADING:\n      return state.update('setFavoriteProjectIdsMeta', updateMetaLoading);\n\n    case SET_FAVORITE_PROJECT_IDS_DONE: {\n      const { error, ids } = action.payload;\n      if (error) {\n        return state.update('setFavoriteProjectIdsMeta', updateMetaError);\n      }\n      return state\n        .set('favoriteProjectIds', fromJS(ids))\n        .update('setFavoriteProjectIdsMeta', updateMetaDone);\n    }\n\n    // modal\n    case SET_IS_MODAL_VISIBLE: {\n      const {\n        isVisible,\n      } = action.payload;\n      return state.set('isModalVisible', isVisible);\n    }\n\n    case ADD_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_SPOT_ID:\n      return state.update('favoriteSpotIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    case ADD_FAVORITE_PROJECT_ID:\n      return state.update('favoriteProjectIds', (ids) => (\n        ids.toSet().add(action.payload).toList()\n      ));\n\n    case DELETE_FAVORITE_PROJECT_ID:\n      return state.update('favoriteProjectIds', (ids) => {\n        const index = ids.indexOf(action.payload);\n        if (index !== -1) {\n          return ids.delete(index);\n        }\n        return ids;\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default spotLightReducer;\n","const saveItem = (key, item) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(item));\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nconst getItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return '';\n  }\n  if (!key) {\n    throw new Error('should provide a valid key');\n  }\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.warn(e);\n  }\n  return '';\n};\n\nconst removeItem = (key) => {\n  if (typeof localStorage === 'undefined') {\n    return;\n  }\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.warn(e);\n  }\n};\n\nexport default {\n  saveItem,\n  getItem,\n  removeItem,\n};\n","\nimport storage from '.';\n\nconst TOKEN = 'token';\nconst KEY_USER = 'user';\nconst KEY_DOMAIN = 'domain';\nconst KEY_WORKSPACE = 'workspace';\n\nexport const setAuthToken = (token) => storage.saveItem(TOKEN, token);\n\nexport const setUserEmail = (email) => storage.saveItem(KEY_USER, email);\nexport const getUserEmail = () => storage.getItem(KEY_USER);\n\nexport const getAuthToken = () => storage.getItem(TOKEN);\n\nexport const setEnterprise = (enterprise) => storage.saveItem(KEY_WORKSPACE, enterprise);\nexport const getEnterprise = () => storage.getItem(KEY_WORKSPACE);\n\nexport const isLoggedIn = () => {\n  if (typeof window.localStorage === 'undefined') {\n    return false;\n  }\n  const token = getAuthToken();\n  return token !== null && token !== '';\n};\n\nexport const setDomain = (domain) => storage.saveItem(KEY_DOMAIN, domain);\nexport const getDomain = () => storage.getItem(KEY_DOMAIN);\nexport const removeDomain = () => storage.removeItem(KEY_DOMAIN);\n\nexport const removeSession = () => {\n  storage.removeItem(TOKEN);\n  storage.removeItem(KEY_USER);\n};\n","import 'whatwg-fetch'; // isomorphic fetch\nimport { of, from } from 'rxjs';\nimport {\n  catchError,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  setAuthToken,\n  setUserEmail,\n  getAuthToken,\n  removeSession,\n} from 'services/storage/tokenStorage';\n\nimport {\n  API_URI,\n  ADMIN_API_URI,\n} from '../config';\n\nexport const APP_LOGIN_FAIL = 'APP_LOGIN_FAIL';\nexport const APP_ERROR_CODE = 'APP_ERROR_CODE';\nexport const APP_API_STATUS = 'APP_API_STATUS';\n\nconst JSON_HEADER = new Headers({\n  'Content-Type': 'application/json',\n});\n\nconst actionAppStatus = (payload) => ({\n  type: APP_API_STATUS,\n  payload,\n});\n\nexport function ActionException(action) {\n  this.action = action;\n  this.name = 'ActionException';\n}\n\nexport function authError() {\n  removeSession();\n  return APP_API_STATUS;\n}\n\nexport const fetchErrorEpic = (err, ...actions) => of(err.action, ...actions);\n\nconst isDataUploadForm = (data) => data instanceof FormData;\nconst handleRequestError = (err) => {\n  if (err instanceof ActionException) {\n    throw err;\n  }\n  if (navigator.onLine) {\n    throw new ActionException(actionAppStatus(503));\n  } else {\n    throw new ActionException(actionAppStatus(420)); // net::ERR_INTERNET_DISCONNECTED\n  }\n};\n\nexport const authLogin = (data) => from(\n  fetch(`${API_URI}login`, {\n    body: JSON.stringify(data),\n    method: 'POST',\n    headers: JSON_HEADER,\n  }).then((response) => response),\n).pipe(\n  catchError(handleRequestError),\n  mergeMap((res) => from(new Promise((resolve, reject) => {\n    res.json().then((fulfilled) => {\n      resolve({\n        status: res.status,\n        res: fulfilled,\n      });\n    }, (err) => reject(err));\n  }))),\n  map(({\n    status,\n    res,\n  }) => {\n    if (status >= 400) {\n      throw new ActionException({\n        type: APP_LOGIN_FAIL,\n        payload: res.code || 2,\n      });\n    }\n    if (res.code) {\n      throw new ActionException({\n        type: APP_ERROR_CODE,\n        payload: res.code,\n      });\n    }\n    setAuthToken(res.data.token);\n    setUserEmail(data.email);\n    return res.data;\n  }),\n);\n\nconst getFetchOption = (method, headers, data) => {\n  const defaultOption = {\n    method,\n    headers: new Headers(headers),\n  };\n  if (method.toLowerCase() === 'get') {\n    return defaultOption;\n  }\n\n  // upload file\n  if (isDataUploadForm(data)) {\n    return {\n      ...defaultOption,\n      body: data,\n    };\n  }\n\n  // POST json object\n  return {\n    method,\n    headers: new Headers(headers),\n    body: JSON.stringify(data),\n  };\n};\n\nconst getAPIURL = (method, url, data, options) => {\n  let res = `${getURIByOption(options)}${url}`;\n  if (data && method.toLowerCase() === 'get') {\n    res = `${res}${getParamsString(data)}`;\n  }\n  return res;\n};\n\nconst getHeaders = (data, options) => {\n  let res = {\n    Authorization: getAuthToken(),\n  };\n  if (!isDataUploadForm(data)) {\n    res = {\n      ...res,\n      'Content-Type': 'application/json',\n    };\n  }\n  if (typeof options !== 'undefined' && options) {\n    res = { ...res, ...options.headers };\n  }\n  return res;\n};\n\nexport const request = (action) => privateRequest(action);\n\nexport const privateRequest = ({\n  method, url, data, options, download = false,\n}) => {\n  const headers = getHeaders(data, options);\n  const fetchOption = getFetchOption(method, headers, data);\n  const apiURL = getAPIURL(method, url, data, options);\n  return from(\n    fetch(apiURL, fetchOption).then((response) => {\n      if (response.status === 401) {\n        throw new ActionException({\n          type: authError(),\n          payload: 401,\n        });\n      } else if (response.status >= 500) {\n        throw new ActionException(actionAppStatus(response.status));\n      }\n\n      return response;\n    }),\n  ).pipe(\n    catchError(handleRequestError),\n    mergeMap((res) => {\n      if (download) {\n        return from(res.blob());\n      }\n      return from(res.json());\n    }),\n    map((res) => {\n      if (download) {\n        return res;\n      }\n      if (res.code) {\n        throw new ActionException({\n          type: APP_ERROR_CODE,\n          payload: res,\n        });\n      }\n      return res;\n    }),\n  );\n};\n\nconst getParamsString = (params) => {\n  if (typeof params === 'undefined' || !params) {\n    return '';\n  }\n  const query = Object.keys(params)\n    .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nconst getURIByOption = (options) => {\n  if (typeof options === 'undefined' || !options) {\n    return API_URI;\n  }\n  const { customPrefix, isAdmin } = options;\n\n  if (customPrefix) {\n    return customPrefix;\n  }\n  if (isAdmin) {\n    return ADMIN_API_URI;\n  }\n  return API_URI;\n};\n","export const API_URI = '/api';\nexport const ADMIN_API_URI = API_URI;\n","export default (obj) => {\n  if (typeof obj !== 'object' || obj === null) {\n    throw Error('input should be an object.');\n  }\n\n  return Object.keys(obj)\n    .filter((key) => obj[key] !== null && typeof obj[key] !== 'undefined')\n    .map((key) => (\n      `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`\n    ))\n    .join('&');\n};\n","import { schema, normalize } from 'normalizr';\nimport {\n  FETCH_SPOT_BY_ID,\n  SET_SPOT_LOADING,\n  SET_SPOT_DONE,\n  FETCH_SPOTS,\n  SET_SPOTS_LOADING,\n  SET_SPOTS_DONE,\n  LOGIN,\n  SET_LOGIN_DONE,\n  SET_LOGIN_LOADING,\n  LOGOUT,\n  SET_LOGOUT_DONE,\n  SET_LOGOUT_LOADING,\n  REGISTER,\n  SET_REGISTER_DONE,\n  SET_REGISTER_LOADING,\n  EXPLORE_NEXT_SPOT,\n  FETCH_LOGIN_STATUS,\n  SET_LOGIN_STATUS_LOADING,\n  SET_LOGIN_STATUS_DONE,\n\n  FETCH_OWN_PROJECTS,\n  SET_OWN_PROJECTS_LOADING,\n  SET_OWN_PROJECTS_DONE,\n\n  // create project\n  SUBMIT_CREATE_PROJECT,\n  CREATE_PROJECT_LOADING,\n  CREATE_PROJECT_DONE,\n\n  // update project\n  SUBMIT_UPDATE_PROJECT,\n  UPDATE_PROJECT_LOADING,\n  UPDATE_PROJECT_DONE,\n\n  // delete project\n  SUBMIT_DELETE_PROJECT,\n  DELETE_PROJECT_LOADING,\n  DELETE_PROJECT_DONE,\n\n  CANCEL_LIKE_SPOT,\n  SET_CANCEL_LIKE_SPOT_DONE,\n\n  FETCH_PROJECT_BY_ID,\n  SET_PROJECT_LOADING,\n  SET_PROJECT_DONE,\n  FETCH_PROJECTS,\n  SET_PROJECTS_LOADING,\n  SET_PROJECTS_DONE,\n\n  FETCH_FAVORITE_PROJECT_IDS,\n  SET_FAVORITE_PROJECT_IDS_LOADING,\n  SET_FAVORITE_PROJECT_IDS_DONE,\n\n  LIKE_SPOT,\n  SET_LIKE_SPOT_DONE,\n  FETCH_FAVORITE_SPOT_IDS,\n  SET_FAVORITE_SPOT_IDS_LOADING,\n  SET_FAVORITE_SPOT_IDS_DONE,\n  SET_EXPLORING_SPOT_ID,\n\n  FETCH_USER_BY_ID,\n  SET_USER_LOADING,\n  SET_USER_DONE,\n  FETCH_USERS,\n  SET_USERS_LOADING,\n  SET_USERS_DONE,\n\n  FETCH_USER_STATS,\n  SET_USER_STATS_LOADING,\n  SET_USER_STATS_DONE,\n\n  // modal\n  SET_IS_MODAL_VISIBLE,\n  ADD_FAVORITE_SPOT_ID,\n  DELETE_FAVORITE_SPOT_ID,\n  ADD_FAVORITE_PROJECT_ID,\n  DELETE_FAVORITE_PROJECT_ID,\n  LIKE_PROJECT,\n  SET_LIKE_PROJECT_DONE,\n  CANCEL_LIKE_PROJECT,\n  SET_CANCEL_LIKE_PROJECT_DONE,\n  FETCH_REC_SPOTS,\n  SET_REC_SPOTS_LOADING,\n  SET_REC_SPOTS_DONE,\n  SEARCH_REC_SPOTS,\n  SET_SEARCH_REC_SPOTS_LOADING,\n  SET_SEARCH_REC_SPOTS_DONE,\n} from './constants';\n\nconst spotSchema = new schema.Entity('spots', {}, { idAttribute: 'spot_id' });\nconst spotListSchema = new schema.Array(spotSchema);\n\nconst projectSchema = new schema.Entity('projects', {}, { idAttribute: 'proj_id' });\nconst projectListSchema = new schema.Array(projectSchema);\n\nconst userSchema = new schema.Entity('users', {}, { idAttribute: 'user_id' });\nconst userListSchema = new schema.Array(userSchema);\n\nexport const setIsModalVisible = (isVisible) => ({\n  type: SET_IS_MODAL_VISIBLE,\n  payload: {\n    isVisible,\n  },\n});\n\nexport const fetchUserById = (id) => ({\n  type: FETCH_USER_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserLoading = () => ({\n  type: SET_USER_LOADING,\n});\n\nexport const setUserDone = (error, user) => ({\n  type: SET_USER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchUsers = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_USERS,\n  payload: { zones, kw },\n});\n\nexport const setUsersLoading = () => ({\n  type: SET_USERS_LOADING,\n});\n\nexport const setUsersDone = (error, users) => ({\n  type: SET_USERS_DONE,\n  payload: {\n    error,\n    ...normalize(users, userListSchema),\n  },\n});\n\nexport const fetchUserStats = (id) => ({\n  type: FETCH_USER_STATS,\n  payload: {\n    id,\n  },\n});\n\nexport const setUserStatsLoading = () => ({\n  type: SET_USER_STATS_LOADING,\n});\n\nexport const setUserStatsDone = (error, stats, id) => ({\n  type: SET_USER_STATS_DONE,\n  payload: {\n    error,\n    stats,\n    userId: id,\n  },\n});\n\nexport const fetchSpotById = (id) => ({\n  type: FETCH_SPOT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setSpotLoading = () => ({\n  type: SET_SPOT_LOADING,\n});\n\nexport const setSpotDone = (error, spot) => ({\n  type: SET_SPOT_DONE,\n  payload: {\n    error,\n    spot,\n  },\n});\n\nexport const fetchSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSpotsLoading = () => ({\n  type: SET_SPOTS_LOADING,\n});\n\nexport const setSpotsDone = (error, spots) => ({\n  type: SET_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const fetchRecSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: FETCH_REC_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setRecSpotsLoading = () => ({\n  type: SET_REC_SPOTS_LOADING,\n});\n\nexport const setRecSpotsDone = (error, spots) => ({\n  type: SET_REC_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const searchRecSpots = ({ zones = [], kw = '' } = {}) => ({\n  type: SEARCH_REC_SPOTS,\n  payload: { zones, kw },\n});\n\nexport const setSearchRecSpotsLoading = () => ({\n  type: SET_SEARCH_REC_SPOTS_LOADING,\n});\n\nexport const setSearchRecSpotsDone = (error, spots) => ({\n  type: SET_SEARCH_REC_SPOTS_DONE,\n  payload: {\n    error,\n    ...normalize(spots, spotListSchema),\n  },\n});\n\nexport const fetchProjectById = (id) => ({\n  type: FETCH_PROJECT_BY_ID,\n  payload: {\n    id,\n  },\n});\n\nexport const setProjectLoading = () => ({\n  type: SET_PROJECT_LOADING,\n});\n\nexport const setProjectDone = (error, project) => ({\n  type: SET_PROJECT_DONE,\n  payload: {\n    error,\n    project,\n  },\n});\n\nexport const fetchProjects = ({ owner, onlyPublic } = {}) => ({\n  type: FETCH_PROJECTS,\n  payload: { owner, onlyPublic },\n});\n\nexport const setProjectsLoading = () => ({\n  type: SET_PROJECTS_LOADING,\n});\n\nexport const setProjectsDone = (error, projects) => ({\n  type: SET_PROJECTS_DONE,\n  payload: {\n    error,\n    ...normalize(projects, projectListSchema),\n  },\n});\n\nexport const login = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: LOGIN,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setLoginLoading = () => ({\n  type: SET_LOGIN_LOADING,\n});\n\nexport const setLoginDone = (error, user) => ({\n  type: SET_LOGIN_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const logout = () => ({\n  type: LOGOUT,\n});\n\nexport const setLogoutLoading = () => ({\n  type: SET_LOGOUT_LOADING,\n});\n\nexport const setLogoutDone = (error) => ({\n  type: SET_LOGOUT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const register = ({ acc = 'admin', pwd = 'admin' }) => ({\n  type: REGISTER,\n  payload: {\n    acc,\n    pwd,\n  },\n});\n\nexport const setRegisterLoading = () => ({\n  type: SET_REGISTER_LOADING,\n});\n\nexport const setRegisterDone = (error, user) => ({\n  type: SET_REGISTER_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const fetchLoginStatus = () => ({\n  type: FETCH_LOGIN_STATUS,\n});\n\nexport const setLoginStatusLoading = () => ({\n  type: SET_LOGIN_STATUS_LOADING,\n});\n\nexport const setLoginStatusDone = (error, user) => ({\n  type: SET_LOGIN_STATUS_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\nexport const exploreNextSpot = () => ({\n  type: EXPLORE_NEXT_SPOT,\n});\n\nexport const setExploringSpotId = (id) => ({\n  type: SET_EXPLORING_SPOT_ID,\n  payload: id,\n});\n\n// fetch own project\nexport const fetchOwnProjects = () => ({\n  type: FETCH_OWN_PROJECTS,\n});\n\nexport const setOwnProjectsLoading = () => ({\n  type: SET_OWN_PROJECTS_LOADING,\n});\n\nexport const setOwnProjectsDone = (error, ownProjects) => ({\n  type: SET_OWN_PROJECTS_DONE,\n  payload: {\n    error,\n    ownProjects,\n  },\n});\n\n// create project\nexport const submitCreateProject = (newProject) => ({\n  type: SUBMIT_CREATE_PROJECT,\n  payload: {\n    newProject,\n  },\n});\n\nexport const createProjectLoading = () => ({\n  type: CREATE_PROJECT_LOADING,\n});\n\nexport const createProjectDone = (error, user) => ({\n  type: CREATE_PROJECT_DONE,\n  payload: {\n    error,\n    user,\n  },\n});\n\n// update project\nexport const submitUpdateProject = (projectId, updateProject) => ({\n  type: SUBMIT_UPDATE_PROJECT,\n  payload: {\n    projectId,\n    updateProject,\n  },\n});\n\nexport const updateProjectLoading = () => ({\n  type: UPDATE_PROJECT_LOADING,\n});\n\nexport const updateProjectDone = (error) => ({\n  type: UPDATE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\n// delete project\nexport const submitDeleteProject = (projectId) => ({\n  type: SUBMIT_DELETE_PROJECT,\n  payload: {\n    projectId,\n  },\n});\n\nexport const deleteProjectLoading = () => ({\n  type: DELETE_PROJECT_LOADING,\n});\n\nexport const deleteProjectDone = (error) => ({\n  type: DELETE_PROJECT_DONE,\n  payload: {\n    error,\n  },\n});\n\nexport const likeSpot = (id) => ({\n  type: LIKE_SPOT,\n  payload: id,\n});\n\nexport const setLikeSpotDone = (error, id) => ({\n  type: SET_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeSpot = (id) => ({\n  type: CANCEL_LIKE_SPOT,\n  payload: id,\n});\n\nexport const setCancelLikeSpotDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_SPOT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const likeProject = (id) => ({\n  type: LIKE_PROJECT,\n  payload: id,\n});\n\nexport const setLikeProjectDone = (error, id) => ({\n  type: SET_LIKE_PROJECT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const cancelLikeProject = (id) => ({\n  type: CANCEL_LIKE_PROJECT,\n  payload: id,\n});\n\nexport const setCancelLikeProjectDone = (error, id) => ({\n  type: SET_CANCEL_LIKE_PROJECT_DONE,\n  payload: {\n    error,\n    id,\n  },\n});\n\nexport const fetchFavoriteSpotIds = () => ({\n  type: FETCH_FAVORITE_SPOT_IDS,\n});\n\nexport const setFavoriteSpotIdsLoading = () => ({\n  type: SET_FAVORITE_SPOT_IDS_LOADING,\n});\n\nexport const setFavoriteSpotIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_SPOT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n\nexport const addFavoriteSpotId = (id) => ({\n  type: ADD_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteSpotId = (id) => ({\n  type: DELETE_FAVORITE_SPOT_ID,\n  payload: id,\n});\n\nexport const addFavoriteProjectId = (id) => ({\n  type: ADD_FAVORITE_PROJECT_ID,\n  payload: id,\n});\n\nexport const deleteFavoriteProjectId = (id) => ({\n  type: DELETE_FAVORITE_PROJECT_ID,\n  payload: id,\n});\n\nexport const fetchFavoriteProjectIds = () => ({\n  type: FETCH_FAVORITE_PROJECT_IDS,\n});\n\nexport const setFavoriteProjectIdsLoading = () => ({\n  type: SET_FAVORITE_PROJECT_IDS_LOADING,\n});\n\nexport const setFavoriteProjectIdsDone = (error, ids) => ({\n  type: SET_FAVORITE_PROJECT_IDS_DONE,\n  payload: {\n    error,\n    ids,\n  },\n});\n","import { Observable } from 'rxjs/Rx';\nimport {\n  ofType,\n} from 'redux-observable';\nimport { of, from } from 'rxjs';\nimport {\n  switchMap,\n  flatMap,\n  catchError,\n  startWith,\n  map,\n  reduce,\n  mergeAll,\n} from 'rxjs/operators';\nimport message from 'antd/lib/message';\n\nimport toQueryString from 'utils/query-string';\nimport {\n  INIT,\n  FETCH_USER_BY_ID,\n  FETCH_USERS,\n  FETCH_USER_STATS,\n  FETCH_SPOT_BY_ID,\n  FETCH_SPOTS,\n  FETCH_PROJECT_BY_ID,\n  FETCH_PROJECTS,\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n  FETCH_LOGIN_STATUS,\n  FETCH_OWN_PROJECTS,\n  SUBMIT_CREATE_PROJECT,\n  SUBMIT_DELETE_PROJECT,\n  LIKE_SPOT,\n  FETCH_FAVORITE_SPOT_IDS,\n  FETCH_FAVORITE_PROJECT_IDS,\n  EXPLORE_NEXT_SPOT,\n  KEY_REDUCER,\n  SUBMIT_UPDATE_PROJECT,\n  CANCEL_LIKE_SPOT,\n  LIKE_PROJECT,\n  CANCEL_LIKE_PROJECT,\n  FETCH_REC_SPOTS,\n  SEARCH_REC_SPOTS,\n  REC_SPOTS_BUFFER_COUNT,\n} from './constants';\nimport {\n  setUserLoading,\n  setUserDone,\n  setUsersLoading,\n  setUsersDone,\n  setUserStatsLoading,\n  setUserStatsDone,\n  setSpotLoading,\n  setSpotDone,\n  setSpotsLoading,\n  setSpotsDone,\n  setProjectLoading,\n  setProjectDone,\n  setProjectsLoading,\n  setProjectsDone,\n  setLoginLoading,\n  setLoginDone,\n  setLogoutLoading,\n  setLogoutDone,\n  setRegisterDone,\n  setRegisterLoading,\n  setLoginStatusDone,\n  setLoginStatusLoading,\n  setOwnProjectsDone,\n  setOwnProjectsLoading,\n\n  // create project\n  createProjectDone,\n  createProjectLoading,\n\n  // update project\n  updateProjectDone,\n  updateProjectLoading,\n\n  fetchOwnProjects,\n\n  // delete project\n  deleteProjectLoading,\n  deleteProjectDone,\n\n  setCancelLikeSpotDone,\n  setLikeSpotDone,\n  setFavoriteSpotIdsDone,\n  setFavoriteSpotIdsLoading,\n  setFavoriteProjectIdsDone,\n  setFavoriteProjectIdsLoading,\n  setExploringSpotId,\n  deleteFavoriteSpotId,\n  addFavoriteSpotId,\n  setLikeProjectDone,\n  addFavoriteProjectId,\n  setCancelLikeProjectDone,\n  deleteFavoriteProjectId,\n  fetchUserById,\n  setRecSpotsDone,\n  setRecSpotsLoading,\n  setSearchRecSpotsLoading,\n  setSearchRecSpotsDone,\n} from './actions';\n\nconst setInit = (action$) => action$.ofType(INIT).switchMap(() => Observable.empty());\n\nconst fetchUserByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserDone(error),\n      )),\n      startWith(setUserLoading()),\n    )),\n  )\n);\n\nconst fetchUsersEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USERS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/users',\n    }).pipe(\n      flatMap((data) => of(\n        setUsersDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUsersDone(error),\n      )),\n      startWith(setUsersLoading()),\n    )),\n  )\n);\n\nconst fetchUserStatsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_USER_STATS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/stat/user/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setUserStatsDone(null, data.content, action.payload.id),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setUserStatsDone(error),\n      )),\n      startWith(setUserStatsLoading()),\n    )),\n  )\n);\n\nconst fetchSpotByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/spot/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotDone(error),\n      )),\n      startWith(setSpotLoading()),\n    )),\n  )\n);\n\nconst fetchSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_SPOTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setSpotsDone(error),\n      )),\n      startWith(setSpotsLoading()),\n    )),\n  )\n);\n\nconst fetchRecSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_REC_SPOTS),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/rec/spots${getSearchSpotQueryString({\n        zones: action.payload.zones,\n        keyword: action.payload.kw,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setRecSpotsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRecSpotsDone(error),\n      )),\n      startWith(setRecSpotsLoading()),\n    )),\n  )\n);\n\nconst searchRecSpotsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SEARCH_REC_SPOTS),\n    switchMap((action) => (\n      from([...Array(REC_SPOTS_BUFFER_COUNT)].map(() => request({\n        method: 'get',\n        url: `/rec/spots${getSearchSpotQueryString({\n          zones: action.payload.zones,\n          keyword: action.payload.kw,\n        })}`,\n      }))).pipe(\n        mergeAll(),\n        reduce((aggregateRes, data) => ([\n          ...aggregateRes,\n          ...data.content,\n        ]), []),\n        map((aggregateRes) => setSearchRecSpotsDone(null, aggregateRes)),\n        startWith(setSearchRecSpotsLoading()),\n        catchError((error) => fetchErrorEpic(\n          error,\n          setSearchRecSpotsDone(error),\n        )),\n      )\n    )),\n  )\n);\n\nconst fetchProjectByIdEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECT_BY_ID),\n    flatMap((action) => request({\n      method: 'get',\n      url: `/proj/${action.payload.id}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectDone(error),\n      )),\n      startWith(setProjectLoading()),\n    )),\n  )\n);\n\nconst fetchProjectsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_PROJECTS),\n    switchMap((action) => request({\n      method: 'get',\n      url: `/projs?${toQueryString({\n        owner: action.payload.owner,\n        only_public: action.payload.onlyPublic,\n      })}`,\n    }).pipe(\n      flatMap((data) => of(\n        setProjectsDone(null, data.content),\n        ...data.content\n          .map((project) => project.owner)\n          .filter((ownerId, index, ownerIds) => ownerIds.indexOf(ownerId) === index)\n          .map((ownerId) => fetchUserById(ownerId)),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setProjectsDone(error),\n      )),\n      startWith(setProjectsLoading()),\n    )),\n  )\n);\n\nconst createProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_CREATE_PROJECT),\n    switchMap((action) => {\n      const {\n        newProject,\n      } = action.payload;\n      return request({\n        method: 'post',\n        url: '/own/proj',\n        data: newProject,\n      }).pipe(\n        flatMap((data) => {\n          message.success('創建成功');\n          return of(\n            createProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('創建失敗');\n          return fetchErrorEpic(\n            error,\n            createProjectDone(error),\n          );\n        }),\n        startWith(createProjectLoading()),\n      );\n    }),\n  )\n);\n\n// PUT /own/proj/<int:proj_id>\nconst updateProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_UPDATE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n        updateProject,\n      } = action.payload;\n      return request({\n        method: 'put',\n        url: `/own/proj/${projectId}`,\n        data: updateProject.toJS(),\n      }).pipe(\n        flatMap((data) => {\n          message.success('更新成功');\n          return of(\n            updateProjectDone(null, data),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('更新失敗');\n          return fetchErrorEpic(\n            error,\n            updateProjectDone(error),\n          );\n        }),\n        startWith(updateProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst deleteProjectEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(SUBMIT_DELETE_PROJECT),\n    switchMap((action) => {\n      const {\n        projectId,\n      } = action.payload;\n      return request({\n        method: 'delete',\n        url: `/proj/${projectId}`,\n      }).pipe(\n        flatMap(() => {\n          message.success('刪除成功');\n          return of(\n            deleteProjectDone(null),\n            fetchOwnProjects(), // reload own projects after creation\n          );\n        }),\n        catchError((error) => {\n          message.error('刪除失敗');\n          return fetchErrorEpic(\n            error,\n            deleteProjectDone(error),\n          );\n        }),\n        startWith(deleteProjectLoading()),\n      );\n    }),\n  )\n);\n\nconst fetchOwnProjectsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_OWN_PROJECTS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/own/projs',\n    }).pipe(\n      flatMap((data) => of(\n        setOwnProjectsDone(null, data.content),\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setOwnProjectsDone(error),\n      )),\n      startWith(setOwnProjectsLoading()),\n    )),\n  )\n);\n\nconst getKeywordQueryString = (keyword) => (\n  typeof keyword === 'string' && keyword.length > 0\n    ? `kw=${keyword}`\n    : ''\n);\n\nconst getZonesQueryString = (zones) => zones\n  .map((zone) => `zone=${zone}`)\n  .join('&');\n\nconst getSearchSpotQueryString = ({ zones, keyword }) => {\n  const queryString = [\n    getKeywordQueryString(keyword),\n    getZonesQueryString(zones),\n  ]\n    .filter((queryStringSegment) => queryStringSegment !== '')\n    .join('&');\n\n  return queryString.length > 0 ? `?${queryString}` : '';\n};\n\nconst loginEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGIN),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/login',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginDone(error),\n      )),\n      startWith(setLoginLoading()),\n    )),\n  )\n);\n\nconst logoutEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(LOGOUT),\n    switchMap(() => request({\n      method: 'post',\n      url: '/logout',\n    }).pipe(\n      flatMap(() => (\n        of(setLogoutDone(null))\n      )),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLogoutDone(error),\n      )),\n      startWith(setLogoutLoading()),\n    )),\n  )\n);\n\nconst registerEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(REGISTER),\n    switchMap((action) => request({\n      method: 'post',\n      url: '/register',\n      data: action.payload,\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? { name: action.payload.acc }\n          : null;\n        return of(setRegisterDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setRegisterDone(error),\n      )),\n      startWith(setRegisterLoading()),\n    )),\n  )\n);\n\nconst fetchLoginStatusEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_LOGIN_STATUS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/check_login',\n    }).pipe(\n      flatMap((data) => {\n        const user = data.status === 'success'\n          ? data.content\n          : null;\n        return of(setLoginStatusDone(null, user));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setLoginStatusDone(error),\n      )),\n      startWith(setLoginStatusLoading()),\n    )),\n  )\n);\n\nconst likeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeSpotDone(null, action.payload),\n            addFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeSpotEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_SPOT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/spot/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeSpotDone(null, action.payload),\n            deleteFavoriteSpotId(action.payload),\n          );\n        }\n        return of(setCancelLikeSpotDone(res));\n      }),\n    )),\n  )\n);\n\nconst likeProjectEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(LIKE_PROJECT),\n    switchMap((action) => request({\n      method: 'post',\n      url: `/like/proj/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setLikeProjectDone(null, action.payload),\n            addFavoriteProjectId(action.payload),\n          );\n        }\n        return of(setLikeProjectDone(res));\n      }),\n    )),\n  )\n);\n\nconst cancelLikeProjectEpic = (action$, state$, { request }) => (\n  action$.pipe(\n    ofType(CANCEL_LIKE_PROJECT),\n    switchMap((action) => request({\n      method: 'delete',\n      url: `/like/proj/${action.payload}`,\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setCancelLikeProjectDone(null, action.payload),\n            deleteFavoriteProjectId(action.payload),\n          );\n        }\n        return of(setCancelLikeProjectDone(res));\n      }),\n    )),\n  )\n);\n\nconst fetchFavoriteSpotIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_SPOT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/spots',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteSpotIdsDone(null, res.content.map((row) => row.spot_id)),\n          );\n        }\n        return of(setFavoriteSpotIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteSpotIdsDone(error),\n      )),\n      startWith(setFavoriteSpotIdsLoading()),\n    )),\n  )\n);\n\nconst fetchFavoriteProjectIdsEpic = (action$, state$, { request, fetchErrorEpic }) => (\n  action$.pipe(\n    ofType(FETCH_FAVORITE_PROJECT_IDS),\n    switchMap(() => request({\n      method: 'get',\n      url: '/like/projs',\n    }).pipe(\n      flatMap((res) => {\n        if (res.status === 'success') {\n          return of(\n            setFavoriteProjectIdsDone(null, res.content.map((row) => row.proj_id)),\n          );\n        }\n        return of(setFavoriteProjectIdsDone(res));\n      }),\n      catchError((error) => fetchErrorEpic(\n        error,\n        setFavoriteProjectIdsDone(error),\n      )),\n      startWith(setFavoriteProjectIdsLoading()),\n    )),\n  )\n);\n\nconst exploreNextSpotEpic = (action$, state$) => (\n  action$.pipe(\n    ofType(EXPLORE_NEXT_SPOT),\n    map(() => {\n      const state = state$.value.get(KEY_REDUCER);\n      const favoriteSpotIds = state.get('favoriteSpotIds');\n      const spotIds = state.get('recSpotsResult');\n      const exploringSpotId = state.get('exploringSpotId');\n      const nextSpotId = spotIds\n        .slice(spotIds.indexOf(exploringSpotId) + 1)\n        .find((notExploredId) => !favoriteSpotIds.includes(notExploredId));\n\n      if (nextSpotId) {\n        return setExploringSpotId(nextSpotId);\n      }\n\n      return setExploringSpotId(exploringSpotId);\n    }),\n  )\n);\n\nexport default [\n  setInit,\n  fetchOwnProjectsEpic,\n  fetchUserByIdEpic,\n  fetchUsersEpic,\n  fetchUserStatsEpic,\n  fetchSpotByIdEpic,\n  fetchSpotsEpic,\n  fetchRecSpotsEpic,\n  searchRecSpotsEpic,\n  fetchProjectByIdEpic,\n  fetchProjectsEpic,\n  loginEpic,\n  logoutEpic,\n  registerEpic,\n  fetchLoginStatusEpic,\n  createProjectEpic,\n  updateProjectEpic,\n  deleteProjectEpic,\n  likeSpotEpic,\n  cancelLikeSpotEpic,\n  likeProjectEpic,\n  cancelLikeProjectEpic,\n  fetchFavoriteSpotIdsEpic,\n  fetchFavoriteProjectIdsEpic,\n  exploreNextSpotEpic,\n];\n","import spotLightEpics from 'containers/Spotlight/epics';\n\nexport default [...spotLightEpics];\n","import configureStore from './configureStore';\n\nconst store = configureStore();\n\nexport default store;\n","/* eslint-disable max-len */\nimport { fromJS } from 'immutable';\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport createReducer from 'store/reducers';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\nimport { routerMiddleware } from 'connected-react-router/immutable';\nimport { request, fetchErrorEpic } from 'utils/requests';\nimport initialEpics from './epics';\n\nexport default function configureStore(initialState = {}, history) {\n  // Create root epic that accepts async injection\n  const epic$ = new BehaviorSubject(combineEpics(...initialEpics));\n  // eslint-disable-next-line max-len\n  const rootEpic = (action$, store, deps) => epic$.mergeMap((epic) => epic(action$, store, deps).catch((err, source$) => {\n    setTimeout(() => {\n      throw err;\n    }, 0);\n    return source$;\n  }));\n  const epicMiddleware = createEpicMiddleware({\n    dependencies: {\n      request,\n      fetchErrorEpic,\n    },\n  });\n\n  // Create the store with two middlewares\n  // 1. sagaMiddleware: Makes redux-sagas work\n  // 2. routerMiddleware: Syncs the location/URL path to the state\n  const middlewares = [\n    epicMiddleware,\n    routerMiddleware(history),\n  ];\n\n  const enhancers = [applyMiddleware(...middlewares)];\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n      typeof window === 'object' &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // TODO Try to remove when `react-router-redux` is out of beta, LOCATION_CHANGE should not be fired more than once after hot reloading\n        // Prevent recomputing reducers for `replaceReducer`\n        shouldHotReload: false,\n      })\n      : compose;\n\n  const store = createStore(\n    createReducer(),\n    fromJS(initialState),\n    composeEnhancers(...enhancers),\n  );\n\n  epicMiddleware.run(rootEpic);\n\n  return store;\n}\n","import { combineReducers } from 'redux-immutable';\nimport spotlightReducer from 'containers/Spotlight/reducer';\n\n/**\n * Creates the main reducer with the asynchronously loaded ones\n */\n\nexport default function createReducer() {\n  return combineReducers({\n    spotlight: spotlightReducer,\n  });\n}\n","const YELLOW = '#F9D94A';\n\nconst SpotlightTheme = {\n  mainColor: YELLOW,\n};\n\nexport const defaultTheme = {\n  ...SpotlightTheme,\n};\n\nexport const GRAY = '#dbdcdb';\nexport const GRAY_DARK = '#c4c4c4';\nexport const BACKGROUND_COLOR = '#f0f0f0';\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst StyledSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: ${(props) => props.height}px;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n  }\n`;\n\nconst StyledSpinnerCover = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: white;\n  opacity: 0.5;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  .fa-spinner {\n    font-size: 3em;\n    color: #d7d7d7;\n    position: absolute;\n    top: ${(props) => props.height}px;\n  }\n`;\n\nconst Spinner = (props) => {\n  const {\n    height,\n    type,\n  } = props;\n  if (type === 'opacity') {\n    return (\n      <StyledSpinnerCover height={200}>\n        <i className=\"fa fa-spinner fa-spin\" />\n      </StyledSpinnerCover>\n    );\n  }\n  return (\n    <StyledSpinner height={height}>\n      <i className=\"fa fa-spinner fa-spin\" />\n    </StyledSpinner>\n  );\n};\n\nSpinner.propTypes = {\n  height: PropTypes.number,\n  type: PropTypes.string,\n};\n\nSpinner.defaultProps = {\n  height: 300,\n  type: null,\n};\n\nexport default Spinner;\n","import { createSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport {\n  KEY_REDUCER,\n} from './constants';\n\nconst selectSpotlight = (state) => state.get(KEY_REDUCER);\n\nexport const selectUserMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUserMeta'),\n);\n\nexport const selectUsersMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setUsersMeta'),\n);\n\nexport const selectUsers = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('users'),\n);\n\nexport const selectSpotMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotMeta'),\n);\n\nexport const selectSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSpotsMeta'),\n);\n\nexport const selectSearchRecSpotsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setSearchRecSpotsMeta'),\n);\n\nexport const selectSpots = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('spots'),\n);\n\nexport const selectRecSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('recSpotsResult'),\n);\n\nexport const selectProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('projects'),\n);\n\nexport const selectPublicProjects = () => createSelector(\n  selectProjects(),\n  (projects) => projects.filter((project) => project.get('is_public')).toList(),\n);\n\nexport const selectProjectsByUserId = (id) => createSelector(\n  selectProjects(),\n  (projects) => projects.filter((project) => project.get('owner') === Number(id)).toList(),\n);\n\nexport const selectLoginMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginMeta'),\n);\n\nexport const selectUser = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('user'),\n);\n\nexport const selectExploringSpotId = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('exploringSpotId'),\n);\n\nexport const selectExploringSpot = () => createSelector(\n  selectSpotlight,\n  selectExploringSpotId(),\n  (spotlightState, spotId) => spotlightState.getIn(['spots', String(spotId)], Map()),\n);\n\nexport const selectLoginStatusMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('loginStatusMeta'),\n);\n\nexport const selectOwnProjects = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects'),\n);\n\nexport const selectOwnProjectsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjectsMeta'),\n);\n\nexport const selectOwnProjectById = (id) => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('ownProjects')\n    .find(\n      (project) => project.get('proj_id') === Number(id),\n    ),\n);\n\nexport const selectFavoriteSpotIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteSpotIdsMeta'),\n);\n\nexport const selectFavoriteSpotIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteSpotIds'),\n);\n\nexport const selectFavoriteProjectIdsMeta = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('setFavoriteProjectIdsMeta'),\n);\n\nexport const selectFavoriteProjectIds = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('favoriteProjectIds'),\n);\n\nexport const selectIsModalVisible = () => createSelector(\n  selectSpotlight,\n  (spotlightState) => spotlightState.get('isModalVisible'),\n);\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS, Map, List } from 'immutable';\nimport { DEFAULT_PROJECT } from './constants';\n\nconst SpotlightContext = createContext();\nconst { Provider, Consumer } = SpotlightContext;\n\nconst useSelection = () => {\n  const [isNavVisible, setIsNavVisible] = useState(true);\n  const [isHeaderVisible, setIsHeaderVisible] = useState(true);\n\n  // create project\n  const [newProject, setNewProject] = useState(fromJS(DEFAULT_PROJECT));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // update project\n  const [updateProject, setUpdateProject] = useState(Map());\n\n  // select liked spot\n  const [selectedLikedSpotId, setSelectedLikedSpotId] = useState();\n\n  const [selectedDays, setSelectedDays] = useState(List());\n\n  return {\n    isNavVisible,\n    setIsNavVisible,\n\n    isHeaderVisible,\n    setIsHeaderVisible,\n\n    // create project\n    newProject,\n    setNewProject,\n\n    // update project\n    updateProject,\n    setUpdateProject,\n\n    isEditMode,\n    setIsEditMode,\n\n    // select liked spot\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n\n    selectedDays,\n    setSelectedDays,\n  };\n};\n\nconst SpotlightProvider = (props) => {\n  const {\n    children,\n  } = props;\n  const value = useSelection();\n  return (\n    <Provider value={value}>\n      {children}\n    </Provider>\n  );\n};\n\nSpotlightProvider.propTypes = {\n  children: PropTypes.any,\n};\n\nSpotlightProvider.defaultProps = {\n  children: null,\n};\n\nexport default {\n  SpotlightProvider,\n  SpotlightConsumer: Consumer,\n  SpotlightContext,\n};\n","export const MAX_WIDTH = 1024;\nexport const HEIGHT_HEADER = 50;\nexport const HEIGHT_NAVIGATION = 60;\n\nexport const PAGE_NAME = {\n  EXPLORE: { name: 'explore', text: '探索景點' },\n  PLANNING: { name: 'planning', text: '計畫旅程' },\n  TRAVEL_WALL: { name: 'travelWall', text: '旅遊牆' },\n  PERSONAL_PAGE: { name: 'personal', text: '我的' },\n  SETTING: { name: 'setting', text: '設定' },\n  DETAIL_PLANNING: { name: 'detailPlanning', text: '旅程內容' },\n  UPDATE_PLANNING: { name: 'updatePlanning', text: '修改旅程' },\n  CREATE_PROJECT: { name: 'createPlanning', text: '增加旅程' },\n  ADD_SPOT_TO_PLAN: { name: 'addSpotToPlan', text: '從收藏添加景點' },\n  SETTING_SPOT_CARD: { name: 'settingSpotCard', text: '景點設定' },\n  UPDATING_SPOT_CARD: { name: 'updatingSpotCard', text: '景點設定' },\n  ADD_SPOT_TO_PROJECT: { name: 'addSpotToProject', text: '加到我的行程' },\n  EDIT_PLANNING_DAY: { name: 'editPlanningDay', text: '編輯天數' },\n  TRAVELER: { name: 'traveler', text: '旅遊者' },\n};\n\nexport const mixinWidthWrapper = () => `\n  width: 100%;\n`;\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory(\n  { basename: process.env.PUBLIC_URL },\n);\n\nexport default history;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const HeaderContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 20px;\n\n  .header-container__icon-wrapper {\n    position: absolute;\n    margin: 0px 6px;\n    display: flex;\n    align-items: center;\n  }\n  .icon-style {\n    color: rgba(51, 51, 51, 1);\n    margin: 0px 8px;\n    cursor: pointer;\n    font-size: 18px;\n  }\n  .icon-transition {\n    transform: rotate(90deg);\n  }\n  .icon-right {\n    right: 0;\n  }\n  .icon-left {\n    left: 0;\n  }\n`;\n\nexport const HeaderTitle = styled.div`\n  flex-basis: 1;\n  flex-shrink: 0;\n  text-align: center;\n`;\n\nexport const HeaderLeftButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 14px;\n`;\n\nexport const HeaderRightButtons = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 14px;\n`;\n\nexport const HeaderLinkButton = styled(Link)`\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n  }\n`;\n\nexport const HeaderButton = styled.button`\n  padding: 0;\n  border: 0;\n  &,\n  &:hover,\n  &:focus,\n  &:visited,\n  &:active {\n    color: #333333;\n    background-color: transparent;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderTitle,\n  HeaderLinkButton,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst ExplorePageHeader = ({ location }) => {\n  const { menu } = queryString.parse(location.search);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n            <i className=\"fas fa-arrow-left\" />\n          </HeaderLinkButton>\n        }\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        {menu === 'zone' ? '縣市選擇' : PAGE_NAME.EXPLORE.text}\n      </HeaderTitle>\n      <HeaderRightButtons>\n        {menu === 'zone' &&\n          <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n            <i className=\"fas fa-check\" />\n          </HeaderLinkButton>\n        }\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nExplorePageHeader.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(ExplorePageHeader);\n","export const findAttributeInEvent = (event, attr) => {\n  const end = event.currentTarget;\n\n  let temp = event.target;\n  let dataId = temp.getAttribute(attr);\n\n  while (temp !== end && !dataId) {\n    temp = temp.parentElement;\n    if (temp === null) {\n      break;\n    }\n    dataId = temp.getAttribute(attr);\n  }\n  return dataId;\n};\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n    setIsEditMode,\n    setIsNavVisible,\n  } = context;\n  const handleToCreateProject = useCallback((event) => {\n    const path = findAttributeInEvent(event, 'data-redirect-path');\n    history.push(path);\n  }, []);\n  const handleEditModeOn = useCallback(() => {\n    setIsEditMode(true);\n    setIsNavVisible(false);\n  }, []);\n  const handleEditModeOff = useCallback(() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }, []);\n  useEffect(() => (() => {\n    setIsEditMode(false);\n    setIsNavVisible(true);\n  }), []);\n  if (isEditMode) {\n    return (\n      <HeaderContainer>\n        <div>調整旅程</div>\n        <div className=\"header-container__icon-wrapper icon-right\">\n          <i\n            role=\"presentation\"\n            className=\"fas fa-check icon-style\"\n            onClick={handleEditModeOff}\n          />\n        </div>\n      </HeaderContainer>\n    );\n  }\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PLANNING.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleEditModeOn} />\n        <i\n          role=\"presentation\"\n          className=\"fas fa-plus icon-style\"\n          data-redirect-path={PAGE_NAME.CREATE_PROJECT.name}\n          onClick={handleToCreateProject}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => (\n  <HeaderContainer>\n    {PAGE_NAME.TRAVEL_WALL.text}\n  </HeaderContainer>\n);\n","import React, { useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from '../Styled';\n\nexport default () => {\n  const handleGoToSetting = useCallback(() => {\n    history.push(`/${PAGE_NAME.SETTING.name}`);\n  });\n  return (\n    <HeaderContainer>\n      <div>{PAGE_NAME.PERSONAL_PAGE.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i role=\"presentation\" className=\"fas fa-cog icon-style\" onClick={handleGoToSetting} />\n      </div>\n    </HeaderContainer>\n  );\n};\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nexport default () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.push(`/${PAGE_NAME.PERSONAL_PAGE.name}`);\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n      </div>\n      <div>{PAGE_NAME.SETTING.text}</div>\n    </HeaderContainer>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nconst fade = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0.65;\n  }\n`;\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst addGrowingAnimation = (isHeightGrowing) => (isHeightGrowing ? 'modal-wrapper__height-growing-animation' : '');\n\nconst ModalWrapper = styled.div`\n  .modal-wrapper__mask {\n    background: black;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    opacity: 0.65;\n    animation: 0.15s ease-in-out ${fade};\n    position: absolute;\n    bottom: 0;\n  }\n  .modal-wrapper__modal-content {\n    position: absolute;\n    z-index: 1000;\n  }\n  .modal-wrapper__height-growing-animation {\n    animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  }\n`;\n\nclass Modal extends React.Component {\n  static propTypes = {\n    id: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n    children: PropTypes.any,\n    isVisible: PropTypes.bool,\n    optionStyle: PropTypes.object,\n    heightGrowing: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    id: 'modal-root-element',\n    children: null,\n    isVisible: false,\n    optionStyle: {},\n    heightGrowing: false,\n  }\n\n  constructor(props) {\n    super(props);\n    this.el = document.getElementById(props.id);\n    if (!document.getElementById(props.id)) {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', props.id);\n      document.body.appendChild(this.el);\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      isVisible,\n      id,\n    } = this.props;\n    if (!document.getElementById(id)) {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', id);\n      document.body.appendChild(this.el);\n    }\n    if (isVisible === true) {\n      this.el.style.position = 'absolute';\n      this.el.style.top = '0px';\n      this.el.style.width = '100%';\n      this.el.style.height = '100%';\n      this.el.style.zIndex = '1';\n      this.el.style.display = '';\n    } else {\n      this.el.style = {};\n      this.el.style.display = 'none';\n      this.el.innerHTML = null;\n    }\n  }\n\n  componentWillUnmount() {\n    const {\n      id,\n    } = this.props;\n    if (document.getElementById(id)) {\n      document.getElementById(id).remove();\n    }\n  }\n\n  render() {\n    const {\n      children,\n      isVisible,\n      optionStyle,\n      heightGrowing,\n    } = this.props;\n    if (isVisible) {\n      return ReactDOM.createPortal(\n        <ModalWrapper>\n          <div className={`modal-wrapper__mask ${addGrowingAnimation(heightGrowing)}`} />\n          <div className=\"modal-wrapper__modal-content\" style={optionStyle}>{children}</div>\n        </ModalWrapper>,\n        this.el,\n      );\n    }\n    return null;\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst ModalContentContainer = styled.div`\n  width: 250px;\n  height: 180px;\n  background: white;\n  border-radius: 10px;\n  .modal-content__message-wrapper {\n    height: 140px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .modal-content__message {\n    width: 140px;\n    font-size: 16px;\n    text-align: center;\n  }\n  .modal-content__button-group {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    border-radius: 0px 0px 10px 10px;\n    height: 40px;\n  }\n  .modal-content__button {\n    outline: none;\n    border: none;\n    background: #EEEEEE;\n    color: #292929;\n    font-weight: 500;\n    border-radius: 0px 0px 0px 10px;\n    cursor: pointer;\n    &:hover {\n      opacity: 0.85;\n    }\n  }\n  .modal-content__button-active {\n    background: ${(props) => props.theme.mainColor};\n    border-radius: 0px 0px 10px 0px;\n  }\n`;\n\nconst ModalContent = (props) => {\n  const {\n    message,\n    onOk,\n    onCancel,\n  } = props;\n  return (\n    <ModalContentContainer>\n      <div className=\"modal-content__message-wrapper\">\n        <div className=\"modal-content__message\">{message}</div>\n      </div>\n      <div className=\"modal-content__button-group\">\n        <button type=\"button\" className=\"modal-content__button\" onClick={onCancel}>取消</button>\n        <button type=\"button\" className=\"modal-content__button modal-content__button-active\" onClick={onOk}>確定</button>\n      </div>\n    </ModalContentContainer>\n  );\n};\n\nModalContent.propTypes = {\n  message: PropTypes.string.isRequired,\n  onOk: PropTypes.func,\n  onCancel: PropTypes.func,\n};\n\nModalContent.propTypes = {\n  onOk: () => { },\n  onCancel: () => { },\n};\n\nexport default ModalContent;\n","import React, {\n  useState, useContext, useEffect, useCallback,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectUser,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\nimport uploadTravelWallIconPath from 'assets/upload_travel_wall_icon.svg';\nimport message from 'antd/lib/message';\nimport Modal from 'components/Modal';\nimport ModalContent from './ModalContent';\n\nconst { SpotlightContext } = Context;\n\nconst modalStyle = {\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n};\n\nconst DetailPlanningPage = (props) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n  } = context;\n  const {\n    user,\n    match,\n    // ownProjects,\n    projects,\n    handleSubmitUpdateProject,\n  } = props;\n  const { projectId } = match.params;\n  if (!projects) {\n    return null;\n  }\n  const project = projects.find((proj) => proj.get('proj_id').toString() === projectId);\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToPlanning = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleGoToUpdatePlanningPage = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    history.replace({\n      pathname: `/${PAGE_NAME.UPDATE_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleUploadToTravelWall = useCallback(() => {\n    if (!project) {\n      return;\n    }\n    const hasPublic = project.get('is_public');\n    if (hasPublic) {\n      message.info('已經上傳至旅遊牆');\n      return;\n    }\n    setIsModalVisible(true);\n  }, [projects]);\n  const handleOnOk = useCallback(() => {\n    const updatedProject = fromJS({ is_public: true });\n    handleSubmitUpdateProject(projectId, updatedProject);\n    setIsModalVisible(false);\n  }, []);\n  const handleOnCancel = useCallback(() => {\n    setIsModalVisible(false);\n  }, []);\n  if (!project || !user) {\n    return null;\n  }\n  const owner = project.get('owner');\n  const userId = user.get('user_id');\n  const isOwner = userId === owner;\n\n  return (\n    <>\n      <HeaderContainer>\n        <div className=\"header-container__icon-wrapper icon-left\">\n          <i role=\"presentation\" className=\"fas fa-arrow-left icon-style\" onClick={handleGoBackToPlanning} />\n        </div>\n        <div>{PAGE_NAME.DETAIL_PLANNING.text}</div>\n        {\n          isOwner &&\n          <div className=\"header-container__icon-wrapper icon-right\">\n            <i role=\"presentation\" className=\"fas fa-pen icon-style\" onClick={handleGoToUpdatePlanningPage} />\n            <div role=\"presentation\" onClick={handleUploadToTravelWall}>\n              <img src={uploadTravelWallIconPath} className=\"icon-style\" alt=\"\" />\n            </div>\n          </div>\n        }\n      </HeaderContainer>\n      <Modal\n        id=\"UploadToTravelWallConfirm\"\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n      >\n        <ModalContent\n          message=\"您確定要將此旅程分享到旅遊牆嗎？\"\n          onOk={handleOnOk}\n          onCancel={handleOnCancel}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  match: PropTypes.object,\n  projects: PropTypes.instanceOf(Map).isRequired,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  user: Map(),\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  projects: selectProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    setUpdateProject,\n    updateProject,\n  } = context;\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n    history.replace({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, []);\n  const handleOnCheckBtn = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    const day = searchParams.get('day');\n    const { projectId } = props.match.params;\n\n    handleSubmitUpdateProject(projectId, updateProject);\n    setUpdateProject(Map());\n\n    history.replace({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, [updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleGoBackToDetailPlanning}\n        />\n      </div>\n      <div>{PAGE_NAME.UPDATE_PLANNING.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromJS } from 'immutable';\nimport { DEFAULT_PROJECT } from 'containers/Spotlight/constants';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  PAGE_NAME,\n} from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\n\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitCreateProject,\n} from 'containers/Spotlight/actions';\n\nconst { SpotlightContext } = Context;\n\nconst CreateProjectPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setIsNavVisible,\n    newProject,\n    setNewProject,\n  } = context;\n  const setInit = () => {\n    setNewProject(fromJS(DEFAULT_PROJECT));\n  };\n  const handleOnCancelBtn = () => {\n    history.push(PAGE_NAME.PLANNING.name);\n  };\n  const handleOnCheckBtn = () => {\n    const {\n      handleSubmitCreateProject,\n    } = props;\n    const name = newProject.get('name');\n    const startDay = moment(newProject.get('start_day')).format('YYYY/MM/DD 00:mm:ss');\n    const days = newProject.get('tot_days');\n    if (!name || !newProject.get('start_day')) {\n      message.error('欄位皆為必填');\n      return;\n    }\n    if (days <= 0) {\n      message.error('天數格式錯誤');\n      return;\n    }\n    handleSubmitCreateProject({\n      name,\n      start_day: startDay,\n      tot_days: days,\n    });\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n  };\n  useEffect(() => {\n    setIsNavVisible(false);\n    setInit();\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-times icon-style\"\n          onClick={handleOnCancelBtn}\n        />\n      </div>\n      <div>{PAGE_NAME.CREATE_PROJECT.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <i\n          role=\"presentation\"\n          className=\"fas fa-check icon-style\"\n          onClick={handleOnCheckBtn}\n        />\n      </div>\n    </HeaderContainer>\n  );\n};\n\nCreateProjectPage.propTypes = {\n  handleSubmitCreateProject: PropTypes.func,\n};\n\nCreateProjectPage.defaultProps = {\n  handleSubmitCreateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitCreateProject: (newProject) => dispatch(submitCreateProject(newProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProjectPage);\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport message from 'antd/lib/message';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport Context from 'containers/Spotlight/Context';\n\nimport arrowRightIconPath from 'assets/arrow_right_icon.svg';\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToPlanPage = (props) => {\n  const {\n    match,\n  } = props;\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n  } = context;\n  const { projectId } = match.params;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = searchParams.get('day');\n  const handleGoBackToDetailPlanning = useCallback(() => {\n    history.push({\n      pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`,\n      search: `?day=${day}`,\n    });\n  }, [day, projectId]);\n  const handleOnCheckBtn = useCallback(() => {\n    if (!selectedLikedSpotId) {\n      message.warning('請選擇景點卡');\n      return;\n    }\n    const settingSpotCardPagePath = `/${PAGE_NAME.SETTING_SPOT_CARD.name}/${projectId}`;\n    history.push({\n      pathname: settingSpotCardPagePath,\n      search: `?day=${day}`,\n    });\n  }, [selectedLikedSpotId, day]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleGoBackToDetailPlanning}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.ADD_SPOT_TO_PLAN.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnCheckBtn}>\n          <img className=\"icon-style\" src={arrowRightIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToPlanPage.propTypes = {\n  match: PropTypes.object,\n};\n\nAddSpotToPlanPage.defaultProps = {\n  match: {},\n};\n\nexport default AddSpotToPlanPage;\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport history from 'utils/history';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  selectOwnProjectById,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst SettingSpotCardPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  if (!selectedLikedSpotId) {\n    return null;\n  }\n  const {\n    day,\n    afterIndex,\n    elapsedTime,\n    spotId,\n  } = selectedLikedSpotId;\n  const {\n    project,\n    handleSubmitUpdateProject,\n  } = props;\n  if (!project) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const plan = project.get('plan');\n  const handleOnGoBack = useCallback(() => {\n    history.goBack();\n  }, []);\n\n  const handleOnCheck = useCallback(() => {\n    const time = elapsedTime.split(':');\n    const during = parseInt(time[0], 10) * 60 + parseInt(time[1], 10);\n    const updatedPlan = plan.updateIn([parseInt(day, 10) - 1, 'arrange'], (arrange) => {\n      const newSpotCard = fromJS({\n        spot_id: parseInt(spotId, 10),\n        during,\n      });\n      const updatedArrange = arrange.toJS();\n      const isIndexSmallThanSize = arrange.size >= parseInt(afterIndex, 10);\n      if (isIndexSmallThanSize) {\n        updatedArrange.splice(parseInt(afterIndex, 10), 0, newSpotCard.toJS());\n        return updatedArrange;\n      }\n      return fromJS([\n        ...updatedArrange,\n        newSpotCard.toJS(),\n      ]);\n    });\n\n    const result = fromJS({\n      plan: updatedPlan.toJS(),\n    });\n    handleSubmitUpdateProject(project.get('proj_id'), result);\n    setSelectedLikedSpotId(null);\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${project.get('proj_id')}`,\n      search: `?day=${day}`,\n    });\n  });\n\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnGoBack}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.SETTING_SPOT_CARD.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnCheck}>\n          <img className=\"icon-style\" src={checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nSettingSpotCardPage.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nSettingSpotCardPage.defaultProps = {\n  project: Map(),\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingSpotCardPage);\n","import React, { useCallback, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { List, Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectOwnProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport Modal from 'antd/lib/modal';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport timesIconPath from 'assets/times_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\nimport trashIconPath from 'assets/trash_icon.svg';\n\nconst { confirm } = Modal;\n\nconst EditPlanningDayPage = (props) => {\n  const {\n    handleSubmitUpdateProject,\n  } = props;\n  const { SpotlightContext } = Context;\n  const {\n    setIsNavVisible,\n    // updateProject,\n    selectedDays,\n    setSelectedDays,\n    updateProject,\n    setUpdateProject,\n  } = useContext(SpotlightContext);\n  const {\n    match,\n    // ownProjects,\n  } = props;\n  const { projectId } = match.params;\n  const handleOnCancel = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleOnDelete = useCallback(() => {\n    const submitProject = updateProject\n      .update('plan', (plan) => plan.filter((p, index) => !selectedDays.includes(index + 1)))\n      .update('tot_days', (totDays) => totDays - selectedDays.size);\n    confirm({\n      title: '刪除',\n      content: '確認是否刪除選取項目？',\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleSubmitUpdateProject(projectId, submitProject);\n        setSelectedDays(List());\n      },\n    });\n  }, [selectedDays, updateProject]);\n  const handleOnCheck = useCallback(() => {\n    handleSubmitUpdateProject(projectId, updateProject);\n    setSelectedDays(List());\n  }, [selectedDays, updateProject]);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n      setSelectedDays(List());\n      setUpdateProject(Map());\n    };\n  }, []);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnCancel}>\n          <img className=\"icon-style\" src={timesIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.EDIT_PLANNING_DAY.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={selectedDays.size ? handleOnDelete : handleOnCheck}>\n          <img className=\"icon-style\" src={selectedDays.size ? trashIconPath : checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nEditPlanningDayPage.propTypes = {\n  // user: PropTypes.instanceOf(Map),\n  match: PropTypes.object,\n  // ownProjects: PropTypes.instanceOf(List).isRequired,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nEditPlanningDayPage.defaultProps = {\n  // user: Map(),\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  // user: selectUser(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPlanningDayPage);\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  HeaderContainer,\n} from 'containers/Spotlight/Header/Styled';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nimport arrowLeftIconPath from 'assets/arrow_left_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatingSpotCardPage = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    updateProject,\n  } = context;\n  const {\n    match,\n    handleSubmitUpdateProject,\n  } = props;\n  const { projectId } = match.params;\n  const { search } = window.location;\n  const handleOnGoBack = useCallback(() => {\n    history.goBack();\n  }, []);\n  const handleOnUpdateSpotCard = useCallback(() => {\n    handleSubmitUpdateProject(projectId, updateProject);\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search,\n    });\n  }, [projectId, updateProject]);\n  return (\n    <HeaderContainer>\n      <div className=\"header-container__icon-wrapper icon-left\">\n        <div role=\"presentation\" onClick={handleOnGoBack}>\n          <img className=\"icon-style\" src={arrowLeftIconPath} alt=\"\" />\n        </div>\n      </div>\n      <div>{PAGE_NAME.SETTING_SPOT_CARD.text}</div>\n      <div className=\"header-container__icon-wrapper icon-right\">\n        <div role=\"presentation\" onClick={handleOnUpdateSpotCard}>\n          <img className=\"icon-style\" src={checkIconPath} alt=\"\" />\n        </div>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nUpdatingSpotCardPage.propTypes = {\n  match: PropTypes.object,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nUpdatingSpotCardPage.defaultProps = {\n  match: {},\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatingSpotCardPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n  HeaderLinkButton,\n} from '../Styled';\n\nconst SpotPage = ({ location }) => (\n  <HeaderContainer>\n    <HeaderLeftButtons>\n      <HeaderLinkButton to={`/${PAGE_NAME.EXPLORE.name}`}>\n        <i className=\"fas fa-arrow-left\" />\n      </HeaderLinkButton>\n    </HeaderLeftButtons>\n    <HeaderRightButtons>\n      <HeaderLinkButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`}>\n        <i className=\"fas fa-plus\" />\n      </HeaderLinkButton>\n    </HeaderRightButtons>\n  </HeaderContainer>\n);\n\nSpotPage.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default withRouter(SpotPage);\n","import React, { useContext, useEffect } from 'react';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPage = () => {\n  const { setIsNavVisible } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons />\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n};\n\nexport default withRouter(AddSpotToProjectPage);\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { submitUpdateProject } from 'containers/Spotlight/actions';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderButton,\n  HeaderTitle,\n  HeaderRightButtons,\n} from '../Styled';\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  handleSubmitUpdateProject,\n  match,\n}) => {\n  const { setIsNavVisible, updateProject } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    setIsNavVisible(false);\n    return () => {\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  const handleOnCheckClick = useCallback(() => {\n    history.goBack();\n    handleSubmitUpdateProject(match.params.projectId, updateProject);\n  });\n\n  return (\n    <HeaderContainer>\n      <HeaderLeftButtons>\n        <HeaderButton type=\"button\" onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </HeaderButton>\n      </HeaderLeftButtons>\n      <HeaderTitle>\n        加到我的行程\n      </HeaderTitle>\n      <HeaderRightButtons>\n        <HeaderButton type=\"button\" onClick={handleOnCheckClick}>\n          <i className=\"fas fa-check\" />\n        </HeaderButton>\n      </HeaderRightButtons>\n    </HeaderContainer>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  handleSubmitUpdateProject: PropTypes.func.isRequired,\n  match: PropTypes.object.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updatedProject) => (\n    dispatch(submitUpdateProject(projectId, updatedProject))\n  ),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import React from 'react';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  HeaderContainer,\n  HeaderLeftButtons,\n  HeaderRightButtons,\n  HeaderButton,\n} from '../Styled';\n\n\nconst TravelPage = () => (\n  <HeaderContainer>\n    <HeaderLeftButtons>\n      <HeaderButton onClick={() => history.goBack()}>\n        <i className=\"fas fa-arrow-left\" />\n      </HeaderButton>\n    </HeaderLeftButtons>\n    {PAGE_NAME.TRAVELER.text}\n    <HeaderRightButtons />\n  </HeaderContainer>\n);\n\nexport default TravelPage;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n`;\n\nconst inputLeftPadding = '56px';\n\nexport const UserNameContainer = styled.div`\n  position: relative;\n  margin: 0 15px 10px;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f007\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${inputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const UserName = styled.input`\n  width: 100%;\n  border: 0;\n  font-size: 14px;\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0 10px ${inputLeftPadding};\n  appearance: none;\n  outline: none;\n  color: #333;\n`;\n\n\nexport const PassWordContainer = styled.div`\n  position: relative;\n  margin: 0 15px 30px;\n`;\n\nexport const PasswordIcon = styled.img`\n  position: absolute;\n  top: 50%;\n  left: calc(${inputLeftPadding} / 2);\n  transform: translate(-50%, -50%);\n`;\n\nexport const PassWord = styled.input`\n  width: 100%;\n  border: 0;\n  font-size: 14px;\n  border-radius: 20px;\n  background-color: #EEEEEE;\n  padding: 10px 0 10px ${inputLeftPadding};\n  appearance: none;\n  outline: none;\n  color: #333;\n`;\n\nconst loginButtonHorizontalMargin = '15px';\n\nexport const LoginButton = styled.button`\n  background-color: #F9D94A;\n  border-radius: 20px;\n  appearance: none;\n  border: 0;\n  margin: 0 ${loginButtonHorizontalMargin} 15px;\n  font-size: 16px;\n  width: calc(100% - 2 * ${loginButtonHorizontalMargin});\n  display: block;\n  color: #333333;\n  font-weight: bold;\n  padding: 10px 0;\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const RegisterRow = styled.div`\n  display: flex;\n  justify-content: center;\n  color: #333333;\n  font-size: 12px;\n`;\n\nexport const RegisterLink = styled.a`\n  margin-left: 3px;\n  font-weight: bold;\n  \n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n    text-decoration: underline;\n  }\n`;\n\nexport const ErrorMessage = styled.div`\n  display: block;\n  text-align: center;\n  margin-top: 15px;\n  color: red;\n`;\n\nexport const Logo = styled.img`\n  color: #333333;\n  font-size: 37px;\n  padding: 100px 0 64px;\n  display: block;\n  margin: 0 auto;\n  width: 260px;\n`;\n","import React, { createRef, useEffect, useContext } from 'react';\nimport { Map } from 'immutable';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport history from 'utils/history';\nimport {\n  login,\n  register,\n} from 'containers/Spotlight/actions';\nimport {\n  selectLoginMeta,\n  selectLoginStatusMeta,\n  selectUser,\n} from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Context from 'containers/Spotlight/Context';\n\nimport {\n  UserName,\n  PassWord,\n  LoginButton,\n  RegisterRow,\n  ErrorMessage,\n  Logo,\n  Container,\n  UserNameContainer,\n  PassWordContainer,\n  PasswordIcon,\n  RegisterLink,\n} from './Styled';\nimport keyIcon from './key.svg';\nimport LogoSrc from './logo.png';\n\nconst { SpotlightContext } = Context;\n\nconst Login = (props) => {\n  const usernameRef = createRef();\n  const passwordRef = createRef();\n  const {\n    user,\n    loginMeta,\n    loginStatusMeta,\n  } = props;\n  const handleLoginBtnClick = () => {\n    const {\n      handleSubmitLogin,\n    } = props;\n    handleSubmitLogin({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const handleRegisterBtnClick = () => {\n    const {\n      handleSubmitRegister,\n    } = props;\n    handleSubmitRegister({\n      acc: usernameRef.current.value,\n      pwd: passwordRef.current.value,\n    });\n  };\n\n  const {\n    setIsHeaderVisible,\n    setIsNavVisible,\n  } = useContext(SpotlightContext);\n\n  useEffect(() => {\n    if (loginStatusMeta.get('isLoaded') && user) {\n      history.push(`/${PAGE_NAME.EXPLORE.name}`);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    setIsHeaderVisible(false);\n    setIsNavVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n      setIsNavVisible(true);\n    };\n  }, []);\n\n  return (\n    loginStatusMeta.get('isLoaded') && !user ? (\n      <Container>\n        <Logo src={LogoSrc} />\n        <UserNameContainer>\n          <UserName ref={usernameRef} type=\"email\" placeholder=\"請輸入註冊的 E-mail\" />\n        </UserNameContainer>\n        <PassWordContainer>\n          <PasswordIcon src={keyIcon} />\n          <PassWord ref={passwordRef} type=\"password\" placeholder=\"輸入密碼\" />\n        </PassWordContainer>\n        <LoginButton onClick={handleLoginBtnClick}>登入</LoginButton>\n        <RegisterRow>\n          還沒有帳號嗎?\n          <RegisterLink href=\"/#\" onClick={handleRegisterBtnClick}>\n            前往註冊\n          </RegisterLink>\n        </RegisterRow>\n        {loginMeta.get('error') && <ErrorMessage>登入失敗</ErrorMessage>}\n      </Container>\n    ) : null\n  );\n};\n\nLogin.propTypes = {\n  handleSubmitLogin: PropTypes.func,\n  handleSubmitRegister: PropTypes.func,\n  user: PropTypes.instanceOf(Map),\n  loginMeta: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nLogin.defaultProps = {\n  handleSubmitLogin: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  loginMeta: selectLoginMeta(),\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitLogin: ({ acc, pwd }) => dispatch(login({ acc, pwd })),\n  handleSubmitRegister: ({ acc, pwd }) => dispatch(register({ acc, pwd })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const Region = styled.div`\n  font-size: 14px;\n  padding: 9px 15px 15px;\n  color: #AAAAAA;\n\n  &:first-of-type {\n    padding-top: 15px;\n  }\n`;\n\nexport const ZoneLabel = styled.label`\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 15px 11px;\n  padding-bottom: 11px;\n  border-bottom: solid 1px #DFDFDF;\n  color: #333333;\n\n  &:last-child {\n    border-bottom: 0;\n    margin-bottom: 0;\n    padding-bottom: 15px;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport message from 'antd/lib/message';\nimport { Region, ZoneLabel, Container } from './Styled';\n\nconst ZoneMenu = ({\n  zonesState,\n  dispatch,\n}) => {\n  const regions = zonesState.map((zone) => zone.get('region')).toSet();\n\n  return (\n    <Container>\n      {regions.map((region) => (\n        <React.Fragment key={region}>\n          <Region>{region}</Region>\n          {zonesState\n            .filter((zone) => zone.get('region') === region)\n            .map((zone) => (\n              <ZoneLabel key={zone.get('name')}>\n                {zone.get('name')}\n                <input\n                  type=\"checkbox\"\n                  onChange={(event) => {\n                    const selectedSize = zonesState\n                      .filter((zoneState) => zoneState.get('selected'))\n                      .size;\n                    if (selectedSize === 5 && event.currentTarget.checked) {\n                      message.warning('最多可選 5 個！', 2);\n                      return;\n                    }\n                    dispatch({\n                      type: event.currentTarget.checked ? 'SELECT_ZONE' : 'CANCEL_ZONE',\n                      payload: { zone: zone.get('name') },\n                    });\n                  }}\n                  checked={zone.get('selected', false)}\n                />\n              </ZoneLabel>\n            ))\n            .toList()\n          }\n        </React.Fragment>\n      ))}\n    </Container>\n  );\n};\n\nZoneMenu.propTypes = {\n  zonesState: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default ZoneMenu;\n","export const zoneReducer = (state, action) => {\n  switch (action.type) {\n    case 'SELECT_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], true);\n    case 'CANCEL_ZONE':\n      return state.setIn([action.payload.zone, 'selected'], false);\n    default:\n      return state;\n  }\n};\n","export const zones = {\n  基隆市: {\n    name: '基隆市',\n    region: '北部縣市',\n  },\n  臺北市: {\n    name: '臺北市',\n    region: '北部縣市',\n  },\n  新北市: {\n    name: '新北市',\n    region: '北部縣市',\n  },\n  桃園市: {\n    name: '桃園市',\n    region: '北部縣市',\n  },\n  新竹市: {\n    name: '新竹市',\n    region: '北部縣市',\n  },\n  新竹縣: {\n    name: '新竹縣',\n    region: '北部縣市',\n  },\n  苗栗縣: {\n    name: '苗栗縣',\n    region: '中部縣市',\n  },\n  南投縣: {\n    name: '南投縣',\n    region: '中部縣市',\n  },\n  臺中市: {\n    name: '臺中市',\n    region: '中部縣市',\n  },\n  彰化縣: {\n    name: '彰化縣',\n    region: '中部縣市',\n  },\n  雲林縣: {\n    name: '雲林縣',\n    region: '中部縣市',\n  },\n  嘉義市: {\n    name: '嘉義市',\n    region: '南部縣市',\n  },\n  嘉義縣: {\n    name: '嘉義縣',\n    region: '南部縣市',\n  },\n  臺南市: {\n    name: '臺南市',\n    region: '南部縣市',\n  },\n  高雄市: {\n    name: '高雄市',\n    region: '南部縣市',\n  },\n  屏東縣: {\n    name: '屏東縣',\n    region: '南部縣市',\n  },\n  宜蘭縣: {\n    name: '宜蘭縣',\n    region: '東部縣市',\n  },\n  花蓮縣: {\n    name: '花蓮縣',\n    region: '東部縣市',\n  },\n  臺東縣: {\n    name: '臺東縣',\n    region: '東部縣市',\n  },\n  連江縣: {\n    name: '連江縣',\n    region: '外島縣市',\n  },\n  金門縣: {\n    name: '金門縣',\n    region: '外島縣市',\n  },\n  澎湖縣: {\n    name: '澎湖縣',\n    region: '外島縣市',\n  },\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n  padding-bottom: 20px;\n`;\n\nexport const Card = styled.div`\n  display: block;\n  width: 300px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  height: 240px;\n  object-fit: cover;\n`;\n\nexport const CardInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 18px 18px;\n  background-color: #FFFFFF;\n`;\n\nexport const SpotName = styled.span`\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  font-size: 18px;\n  \n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #333333;\n  }\n`;\n\nexport const SpotLikes = styled.span`\n  flex-shrink: 0;\n  font-size: 14px;\n\n  &,\n  &:active,\n  &:focus,\n  &:visited,\n  &:hover {\n    color: #AAAAAA;\n  }\n`;\n\nexport const ButtonRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 16px;\n`;\n\nexport const Button = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 60px;\n  height: 60px;\n  background: #fff;\n  border-radius: 50%;\n  font-size: 18px;\n  margin-bottom: 5px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  appearance: none;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n`;\n\nexport const ButtonCrossIcon = styled.i`\n  font-size: 28px;\n  color: #333333;\n`;\n\nexport const ButtonHeartIcon = styled.i`\n  font-size: 20px;\n  color: #EB715A;\n`;\n\nexport const ButtonLabel = styled.label`\n  margin-right: 16px;\n  text-align: center;\n  font-size: 14px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const CardRow = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SearchRow = styled.div`\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(#F9D94A 50%, transparent 50%);\n  padding: 3px 15px 15px;\n`;\n\nexport const SearchBar = styled.div`\n  width: 100%;\n  display: flex;\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nexport const SelectCountyButton = styled.button`\n  flex-shrink: 0;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n  appearance: none;\n  border: 0;\n  position: relative;\n\n  i {\n    margin-left: 3px;\n    font-size: 1.5em;\n  }\n\n  &:after {\n    content : \"\";\n    position: absolute;\n    right: 0;\n    z-index: 100;\n    top: 50%;\n    width: 1px;\n    transform: translateY(-50%);\n    height: 70%;\n    background: #B5B5B5;\n  }\n`;\n\nconst searchInputLeftPadding = '33px';\n\nexport const SearchInputContainer = styled.div`\n  position: relative;\n  flex-grow: 1;\n  background-color: #fff;\n\n  &:before {\n    font-family: \"Font Awesome 5 Free\";\n    content: \"\\f002\";\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 900;\n    position: absolute;\n    top: 50%;\n    left: calc(${searchInputLeftPadding} / 2);\n    transform: translate(-50%, -50%);\n  }\n`;\n\nexport const SearchInput = styled.input`\n  width: 100%;\n  padding: 9px 9px 9px ${searchInputLeftPadding};\n  appearance: none;\n  border: 0;\n  outline: none;\n`;\n\nexport const ZonesRow = styled.div`\n  padding: 0 12px;\n  margin-bottom: 30px;\n`;\n\nexport const ZoneLabel = styled.span`\n  display: inline-block;\n  background-color: #EEEEEE;\n  color: #AAAAAA;\n  font-size: 12px;\n  padding: 2px 5px;\n  margin-right: 10px;\n  border-radius: 12px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const ZoneLabelCrossIcon = styled.i`\n  margin-left: 5px;\n`;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, fromJS, List } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport ImageGallery from 'react-image-gallery';\nimport message from 'antd/lib/message';\nimport {\n  selectExploringSpot,\n  selectSearchRecSpotsMeta,\n  selectFavoriteSpotIdsMeta,\n  selectRecSpotIds,\n} from 'containers/Spotlight/selectors';\nimport {\n  exploreNextSpot,\n  likeSpot,\n  fetchFavoriteSpotIds,\n  fetchRecSpots,\n  searchRecSpots,\n} from 'containers/Spotlight/actions';\nimport { REC_SPOTS_BUFFER_COUNT } from 'containers/Spotlight/constants';\nimport Spinner from 'components/Spinner';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport ZoneMenu from './ZoneMenu';\nimport { zoneReducer } from './reducer';\nimport { zones as zonesData } from './constants';\n\nimport {\n  Container,\n  CardRow,\n  Card,\n  CardImage,\n  CardInfo,\n  ButtonRow,\n  Button,\n  SearchRow,\n  SearchBar,\n  SelectCountyButton,\n  SearchInputContainer,\n  SearchInput,\n  ZonesRow,\n  ZoneLabel,\n  ButtonLabel,\n  SpotName,\n  SpotLikes,\n  ZoneLabelCrossIcon,\n  ButtonCrossIcon,\n  ButtonHeartIcon,\n} from './Styled';\n\nconst ExplorePage = (props) => {\n  const {\n    spot,\n    searchRecSpotsMeta,\n    location,\n    history,\n    handleFetchFavoriteSpotIds,\n    favoriteSpotIdsMeta,\n    handleFetchRecSpots,\n    handleLikeSpot,\n    handleExploreNextSpot,\n    recSpotIds,\n    handleSearchRecSpots,\n  } = props;\n\n  const [zonesState, dispatch] = useReducer(zoneReducer, fromJS(zonesData));\n  const selectedZones = zonesState\n    .filter((zone) => zone.get('selected'))\n    .map((zone) => zone.get('name'))\n    .toList()\n    .toJS();\n\n  const [keyword, setKeyword] = useState('');\n  const handleSearchInputKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleSearchRecSpots({ kw: keyword, zones: selectedZones });\n      event.currentTarget.blur();\n    }\n  };\n\n  useEffect(() => {\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      handleFetchFavoriteSpotIds();\n    }\n\n    if (recSpotIds.slice(recSpotIds.indexOf(spot.get('spot_id'))).size < REC_SPOTS_BUFFER_COUNT) {\n      handleSearchRecSpots({ kw: keyword, zones: selectedZones });\n    }\n  }, []);\n\n  const handleOnLikeClick = useCallback(() => {\n    message.success('加入收藏');\n    handleLikeSpot(spot.get('spot_id'));\n    handleExploreNextSpot();\n    handleFetchRecSpots({ kw: keyword, zones: selectedZones });\n  });\n\n  const handleOnSkipClick = useCallback(() => {\n    handleExploreNextSpot();\n    handleFetchRecSpots({ kw: keyword, zones: selectedZones });\n  });\n\n  const query = queryString.parse(location.search);\n\n  if (query.menu === 'zone') {\n    return (\n      <ZoneMenu\n        location={location}\n        history={history}\n        zonesState={zonesState}\n        dispatch={dispatch}\n      />\n    );\n  }\n\n  return (\n    <Container>\n      <SearchRow>\n        <SearchBar>\n          <SelectCountyButton onClick={() => history.push(`${location.pathname}?menu=zone`)}>\n            縣市選擇\n            <i className=\"fas fa-caret-right\" />\n          </SelectCountyButton>\n          <SearchInputContainer>\n            <SearchInput\n              type=\"text\"\n              placeholder=\"搜尋景點關鍵字\"\n              value={keyword}\n              onChange={(event) => setKeyword(event.target.value)}\n              onKeyUp={handleSearchInputKeyUp}\n            />\n          </SearchInputContainer>\n        </SearchBar>\n      </SearchRow>\n      <ZonesRow>\n        {selectedZones.map((zone) => (\n          <ZoneLabel key={zone}>\n            {zone}\n            <ZoneLabelCrossIcon className=\"fas fa-times\" />\n          </ZoneLabel>\n        ))}\n      </ZonesRow>\n      {searchRecSpotsMeta.get('isLoading')\n        ? <Spinner />\n        : (\n          <React.Fragment>\n            <CardRow>\n              <Link to={`/${PAGE_NAME.EXPLORE.name}/${spot.get('spot_id')}`}>\n                <Card>\n                  {(spot.get('pic') && spot.get('pic').size > 0)\n                    ? (\n                      <ImageGallery\n                        items={spot.get('pic').map((pic) => ({ original: pic })).toJS()}\n                        renderItem={(items) => <CardImage src={items.original} />}\n                        showThumbnails={false}\n                        showFullscreenButton={false}\n                        showPlayButton={false}\n                        showNav={false}\n                        autoPlay\n                        slideInterval={3000}\n                        disableSwipe\n                      />\n                    ) : (\n                      <CardImage src=\"https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg\" />\n                    )\n                  }\n                  <CardInfo>\n                    <SpotName>{spot.get('name')}</SpotName>\n                    <SpotLikes>\n                      {spot.get('like_num')}\n                      人收藏\n                    </SpotLikes>\n                  </CardInfo>\n                </Card>\n              </Link>\n            </CardRow>\n            <ButtonRow>\n              <ButtonLabel>\n                <Button onClick={handleOnSkipClick}>\n                  <ButtonCrossIcon className=\"fas fa-times\" />\n                </Button>\n                <span>跳過</span>\n              </ButtonLabel>\n              <ButtonLabel>\n                <Button onClick={handleOnLikeClick}>\n                  <ButtonHeartIcon className=\"fas fa-heart\" />\n                </Button>\n                <span>想去</span>\n              </ButtonLabel>\n            </ButtonRow>\n          </React.Fragment>\n        )\n      }\n    </Container>\n  );\n};\n\nExplorePage.propTypes = {\n  spot: PropTypes.instanceOf(Map),\n  searchRecSpotsMeta: PropTypes.object,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchRecSpots: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n  handleExploreNextSpot: PropTypes.func.isRequired,\n  recSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleSearchRecSpots: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spot: selectExploringSpot(),\n  searchRecSpotsMeta: selectSearchRecSpotsMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  recSpotIds: selectRecSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleFetchRecSpots: ({ kw, zones }) => dispatch(fetchRecSpots({ kw, zones })),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleExploreNextSpot: () => dispatch(exploreNextSpot()),\n  handleSearchRecSpots: ({ kw, zones }) => dispatch(searchRecSpots({ kw, zones })),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ExplorePage));\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport Modal from 'antd/lib/modal';\nimport trashIconPath from 'assets/trash_icon.svg';\n\nconst { confirm } = Modal;\nconst { SpotlightContext } = Context;\n\nconst Container = styled.div`\n  margin-top: 15px;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  position: relative;\n  .project-card__cover-image {\n    background-image: url(\"https://icrvb3jy.xinmedia.com/solomo/article/139141/7A21D0A7-AEA1-D18D-C305-9A5930D37D27.jpeg\");\n    background-size: cover;\n    height: 150px;\n    border-radius: 10px 10px 0px 0px;\n  }\n  .project-card__info-row {\n    height: 100%;\n    padding: 0px 15px;\n    height: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .project-card__info-title {\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .project-card__info-period {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n\n  .project-card__mask {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: black;\n    opacity: 0.7;\n    z-index: 1;\n    border-radius: 10px;\n  }\n  .project-card__trash-icon-wrapper {\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 100%;\n    background: white;\n    position: absolute;\n    right: 0;\n    margin: 15px;\n    cursor: pointer;\n    z-index: 1;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .project-card__trash-icon {\n    color: #545454;\n    font-size: 12px;\n    width: 14px;\n    height: 14px;\n  }\n`;\n\nconst ProjectCard = (props) => {\n  const context = useContext(SpotlightContext);\n  const {\n    isEditMode,\n  } = context;\n  const {\n    project,\n    handleDeleteProject,\n  } = props;\n  const projectId = project.get('proj_id');\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const handleOnClick = useCallback(() => {\n    if (isEditMode) {\n      return;\n    }\n    const detailPlanningPagePath = `/${PAGE_NAME.DETAIL_PLANNING.name}`;\n    const defaultDay = 1;\n    history.push({\n      pathname: `${detailPlanningPagePath}/${projectId}`,\n      search: `?day=${defaultDay}`,\n    });\n  }, [projectId, isEditMode]);\n  const handleOnDeleteProject = useCallback((event) => {\n    const projId = findAttributeInEvent(event, 'data-project-id');\n    confirm({\n      title: '刪除旅程計畫',\n      content: `確認是否刪除 \"${name}\" ？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        handleDeleteProject(projId);\n      },\n    });\n  }, []);\n  return (\n    <Container isEditMode={isEditMode} onClick={handleOnClick}>\n      {\n        isEditMode &&\n        <>\n          <div className=\"project-card__mask\" />\n          <div\n            role=\"presentation\"\n            className=\"project-card__trash-icon-wrapper\"\n            data-project-id={projectId}\n            onClick={handleOnDeleteProject}\n          >\n            <img className=\"project-card__trash-icon\" src={trashIconPath} alt=\"\" />\n          </div>\n        </>\n      }\n      <div className=\"project-card__cover-image\" />\n      <div className=\"project-card__info-row\">\n        <div className=\"project-card__info-title\">{name}</div>\n        <div className=\"project-card__info-period\">{`${startDay}-${endDay} / ${days}天`}</div>\n      </div>\n    </Container>\n  );\n};\n\nProjectCard.propTypes = {\n  project: PropTypes.instanceOf(Map),\n  handleDeleteProject: PropTypes.func,\n};\n\nProjectCard.defaultProps = {\n  project: Map(),\n  handleDeleteProject: () => { },\n};\n\nexport default ProjectCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\n\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Spinner from 'components/Spinner';\nimport ProjectCard from './components/ProjectCard';\n\nconst Container = styled.div`\n  height: 100%;\n  padding: 0px 15px;\n  overflow: scroll;\n`;\n\nconst PlanningPage = ({\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n  handleDeleteProject,\n}) => {\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  return (\n    <Container>\n      {\n        ownProjects.map((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            project={project}\n            handleDeleteProject={handleDeleteProject}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nPlanningPage.propTypes = {\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n  handleDeleteProject: PropTypes.func,\n};\n\nPlanningPage.defaultProps = {\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n  handleDeleteProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PlanningPage));\n","import styled from 'styled-components';\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n  color: #AAAAAA;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const LikeButton = styled.i`\n  margin-right: 6px;\n  background-color: #fff;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  box-shadow: 0 0 6px rgba(0, 0, 0, .16);\n  color: #EB715A;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { LikeLabel, LikeButton } from './Styled';\n\nconst Likes = ({\n  className,\n  onClick,\n  isActive,\n  likeNumber,\n}) => (\n  <LikeLabel className={className} onClick={onClick}>\n    <LikeButton\n      className={`${\n        isActive\n          ? 'fas fa-heart'\n          : 'far fa-heart'\n      }`}\n    />\n    {likeNumber}\n  </LikeLabel>\n);\n\nLikes.propTypes = {\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  isActive: PropTypes.bool,\n  likeNumber: PropTypes.number,\n};\n\nLikes.defaultProps = {\n  isActive: false,\n  likeNumber: 0,\n};\n\nexport default Likes;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  cursor: pointer;\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 7px 15px;\n  background: #FFFFFF;\n`;\n\nexport const UserImage = styled.img`\n  flex-shrink: 0;\n  width: 45px;\n  height: 45px;\n  object-fit: cover;\n  border-radius: 50%;\n  margin-right: 5px;\n`;\n\nexport const HeaderInfo = styled.div`\n  flex-grow: 1;\n`;\n\nexport const UserName = styled.div`\n  font-size: 14px;\n  font-weight: bold;\n  color: #333333;\n`;\n\nexport const CardDate = styled.div`\n  font-size: 12px;\n  color: #AAAAAA;\n`;\n\nexport const CardImage = styled.img`\n  width: 100%;\n  display: block;\n  object-fit: cover;\n  height: 150px;\n`;\n\nexport const CardTitle = styled.div`\n  color: #333333;\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n`;\n\nexport const CardSubtitle = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n\nexport const Footer = styled.div`\n  background-color: #fff;\n  display: flex;\n  padding: 9px 15px;\n  align-items: center;\n`;\n\nexport const FooterInfo = styled.div`\n  flex-grow: 1;\n`;\n\nexport const LikeLabel = styled.label`\n  flex-shrink: 0;\n`;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport history from 'utils/history';\nimport Likes from 'components/Likes';\nimport {\n  Container,\n  Header,\n  UserImage,\n  HeaderInfo,\n  UserName,\n  CardDate,\n  CardImage,\n  CardTitle,\n  CardSubtitle,\n  Footer,\n  FooterInfo,\n} from './Styled';\n\nconst TravelCard = ({\n  className,\n  cardImageSrc,\n  userImageSrc,\n  to,\n  userName,\n  cardDate,\n  cardTitle,\n  cardSubtitle,\n  likeNumber,\n  isLikeActive,\n  onLikeClick,\n  onCardClick,\n  userImageTo,\n}) => {\n  const handleOnClick = useCallback(() => {\n    history.push(to);\n    onCardClick();\n  });\n\n  const handleOnLikeClick = useCallback((event) => {\n    event.stopPropagation();\n    onLikeClick();\n  });\n\n  const handleOnUserImageClick = useCallback((event) => {\n    event.stopPropagation();\n    history.push(userImageTo);\n  });\n\n  return (\n    <Container onClick={handleOnClick} className={className}>\n      <Header>\n        <UserImage src={userImageSrc} onClick={handleOnUserImageClick} />\n        <HeaderInfo>\n          <UserName>{userName}</UserName>\n          <CardDate>{cardDate}</CardDate>\n        </HeaderInfo>\n      </Header>\n      <CardImage src={cardImageSrc} />\n      <Footer>\n        <FooterInfo>\n          <CardTitle>{cardTitle}</CardTitle>\n          <CardSubtitle>{cardSubtitle}</CardSubtitle>\n        </FooterInfo>\n        <Likes\n          onClick={handleOnLikeClick}\n          likeNumber={likeNumber}\n          isActive={isLikeActive}\n        />\n      </Footer>\n    </Container>\n  );\n};\n\nTravelCard.propTypes = {\n  className: PropTypes.string,\n  cardImageSrc: PropTypes.string,\n  to: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n  ]).isRequired,\n  userImageSrc: PropTypes.string,\n  userName: PropTypes.string,\n  cardDate: PropTypes.string,\n  cardTitle: PropTypes.string,\n  cardSubtitle: PropTypes.string,\n  likeNumber: PropTypes.number,\n  isLikeActive: PropTypes.bool,\n  onLikeClick: PropTypes.func,\n  onCardClick: PropTypes.func,\n  userImageTo: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n  ]).isRequired,\n};\n\nTravelCard.defaultProps = {\n  cardImageSrc: 'https://www.silverkris.com/wp-content/uploads/2017/08/taipei-ximending.jpg',\n  userImageSrc: 'http://i.imgur.com/EUAd2ht.jpg',\n  userName: '使用者',\n  cardDate: '????年??月??日',\n  cardTitle: '卡片標題',\n  cardSubtitle: '卡片副標題',\n  onLikeClick: () => {},\n  onCardClick: () => {},\n};\n\nexport default TravelCard;\n","import styled from 'styled-components';\nimport TravelCardComponent from 'components/TravelCard';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n  padding-bottom: 20px;\n`;\n\nexport const TravelCard = styled(TravelCardComponent)`\n  margin-bottom: 10px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { List, Map } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  fetchProjects,\n  fetchFavoriteProjectIds,\n  likeProject,\n  cancelLikeProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectPublicProjects,\n  selectFavoriteProjectIds,\n  selectUsers,\n} from 'containers/Spotlight/selectors';\nimport { Container, TravelCard } from './Styled';\n\nconst TravelWallPage = ({\n  handleFetchProjects,\n  publicProjects,\n  handleFetchFavoriteProjectIds,\n  favoriteProjectIds,\n  handleLikeProject,\n  handleCancelLikeProject,\n  users,\n}) => {\n  useEffect(() => {\n    handleFetchProjects();\n    handleFetchFavoriteProjectIds();\n  }, []);\n\n  return (\n    <Container>\n      {\n        publicProjects.map((project) => (\n          <TravelCard\n            key={project.get('proj_id')}\n            to={{\n              pathname: `/${PAGE_NAME.DETAIL_PLANNING.name}/${project.get('proj_id')}`,\n              search: '?day=1',\n            }}\n            cardTitle={project.get('name')}\n            cardDate={project.get('created_time')}\n            cardSubtitle={`${moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日')}-${moment(project.get('start_day'), 'YYYY-MM-DD').add(project.get('tot_days') - 1, 'days').format('YYYY年MM月DD日')} / ${project.get('tot_days')}天`}\n            likeNumber={project.get('like_num')}\n            isLikeActive={favoriteProjectIds.includes(project.get('proj_id'))}\n            onLikeClick={() => {\n              if (favoriteProjectIds.includes(project.get('proj_id'))) {\n                handleCancelLikeProject(project.get('proj_id'));\n              } else {\n                handleLikeProject(project.get('proj_id'));\n              }\n            }}\n            userName={users.getIn([String(project.get('owner')), 'name'])}\n            userImageTo={`/${PAGE_NAME.TRAVELER.name}/${project.get('owner')}`}\n          />\n        ))\n      }\n    </Container>\n  );\n};\n\nTravelWallPage.propTypes = {\n  handleFetchProjects: PropTypes.func.isRequired,\n  publicProjects: PropTypes.instanceOf(List).isRequired,\n  handleFetchFavoriteProjectIds: PropTypes.func.isRequired,\n  favoriteProjectIds: PropTypes.instanceOf(List).isRequired,\n  handleLikeProject: PropTypes.func.isRequired,\n  handleCancelLikeProject: PropTypes.func.isRequired,\n  users: PropTypes.instanceOf(Map).isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  publicProjects: selectPublicProjects(),\n  favoriteProjectIds: selectFavoriteProjectIds(),\n  users: selectUsers(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchProjects: () => dispatch(fetchProjects({ onlyPublic: true })),\n  handleFetchFavoriteProjectIds: () => dispatch(fetchFavoriteProjectIds()),\n  handleLikeProject: (id) => dispatch(likeProject(id)),\n  handleCancelLikeProject: (id) => dispatch(cancelLikeProject(id)),\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TravelWallPage);\n","import React from 'react';\n\nconst Favicon = () => (\n  <div className=\"personal-page__favicon-wrapper\">\n    <img className=\"personal-page__favicon\" alt=\"\" />\n  </div>\n);\n\nexport default Favicon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Favicon from './Favicon';\n\nconst Information = ({\n  user,\n  users,\n}) => {\n  const userId = user.get('user_id');\n  const collectedProjectsCount = (users && users.getIn([userId, 'stats', 'collected_projs_count'])) || 0;\n  const collectedSpotsCount = (users && users.getIn([userId, 'stats', 'collected_spots_count'])) || 0;\n  const projectsLikedCount = (users && users.getIn([userId, 'stats', 'projs_liked_count'])) || 0;\n  const publishedProjectsCount = (users && users.getIn([userId, 'stats', 'published_projs_count'])) || 0;\n\n  return (\n    <div className=\"personal-page__info-wrapper\">\n      <Favicon user={user} />\n      <div className=\"personal-page__profile-wrapper\">\n        <div className=\"personal-page__profile-name\">{user.get('name')}</div>\n        <div className=\"personal-page__profile-travel-info\">\n          <div className=\"\n            personal-page__profile-travel-info-item-wrapper\n            personal-page__profile-travel-info-item-divier\n            personal-page__profile-travel-info-item-padding-right\n          \"\n          >\n            <div className=\"personal-page__profile-travel-info-item-title\">旅程發表</div>\n            <div className=\"personal-page__profile-travel-info-item-number\">{publishedProjectsCount}</div>\n          </div>\n          <div className=\"\n            personal-page__profile-travel-info-item-wrapper\n            personal-page__profile-travel-info-item-divier\n            personal-page__profile-travel-info-item-padding-right\n            personal-page__profile-travel-info-item-padding-left\n          \"\n          >\n            <div className=\"personal-page__profile-travel-info-item-title\">收藏數</div>\n            <div className=\"personal-page__profile-travel-info-item-number\">{collectedSpotsCount + collectedProjectsCount}</div>\n          </div>\n          <div className=\"\n            personal-page__profile-travel-info-item-wrapper\n            personal-page__profile-travel-info-item-padding-left\n          \"\n          >\n            <div className=\"personal-page__profile-travel-info-item-title\">被收藏</div>\n            <div className=\"personal-page__profile-travel-info-item-number\">{projectsLikedCount}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nInformation.propTypes = {\n  user: PropTypes.object.isRequired,\n  users: PropTypes.object.isRequired,\n};\n\nexport default Information;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst isActiveStyle = (isActive) => (isActive ? 'personal-page__collection-tab--active' : '');\n\nconst CollectionTabs = ({ handleOnClick }) => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const activeCollectionType = searchParams.get('collectionType') || 'spot';\n  return (\n    <div className=\"personal-page__collection-group\">\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'spot')}`} data-collection-type=\"spot\" onClick={handleOnClick}>\n        <span>收藏景點</span>\n      </div>\n      <div role=\"presentation\" className={`personal-page__collection-tab ${isActiveStyle(activeCollectionType === 'planning')}`} data-collection-type=\"planning\" onClick={handleOnClick}>\n        <span>收藏旅程</span>\n      </div>\n    </div>\n  );\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: PropTypes.func,\n};\n\nCollectionTabs.propTypes = {\n  handleOnClick: () => { },\n};\n\nexport default CollectionTabs;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport { selectSpots } from 'containers/Spotlight/selectors';\nimport redHeartCircleIconPath from 'assets/red_heart_circle_icon.svg';\nimport {\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\n\nconst StyledSpotCard = styled.div`\n  height: 140px;\n  background-image: url(${(props) => props.imagePath});\n  background-size: cover;\n  position: relative;\n  cursor: pointer;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  overflow: hidden;\n  .spot-card__title-wrapper {\n    position: absolute;\n    bottom: 0;\n    background: white;\n    width: 100%;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    padding: 5px 0px;\n    font-weight: 500;\n  }\n  .spot-card__title {\n    font-size: 12px;\n  }\n  .spot-card__heart-wrapper {\n    display: flex;\n    align-items: center;\n    .spot-card__heart-icon {\n      padding-right: 6px;\n      width: 30px;\n      height: 30px;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst SpotCard = ({\n  spots,\n  spotId,\n  fetchSpotById,\n  handleOnClick,\n}) => {\n  useEffect(() => {\n    if (!spots.get(spotId)) {\n      fetchSpotById(spotId);\n    }\n  }, []);\n\n  const spot = spots.get(spotId);\n\n  if (!spot || !spot.get('spot_id')) {\n    return null;\n  }\n  const imagePath = spot.get('pic') || 'https://i.imgur.com/mJ0NvPe.jpg';\n  return (\n    <StyledSpotCard\n      imagePath={imagePath}\n      data-id={spotId}\n      data-redirect-path={PAGE_NAME.EXPLORE.name}\n      onClick={handleOnClick}\n    >\n      <div className=\"spot-card__title-wrapper\">\n        <span className=\"spot-card__title\">{spot.get('name')}</span>\n        <div className=\"spot-card__heart-wrapper\">\n          <img src={redHeartCircleIconPath} className=\"spot-card__heart-icon\" alt=\"\" />\n          <div>{spot.get('like_num') || 0}</div>\n        </div>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  spots: PropTypes.object.isRequired,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchSpotById: PropTypes.func.isRequired,\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n});\n\nexport default connect(mapStateToProps, { fetchSpotById })(SpotCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteSpotIds,\n} from 'containers/Spotlight/selectors';\nimport SpotCard from './SpotCard';\n\nconst StyledSpotCollection = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  padding: 10px 28px;\n`;\n\nconst SpotCollection = ({\n  favoriteSpotIds,\n  handleOnClick,\n}) => {\n  const cards = favoriteSpotIds.map((value) => value);\n  return (\n    <StyledSpotCollection>\n      {\n        cards.map((card) => (\n          <SpotCard\n            key={card}\n            spotId={card}\n            handleOnClick={handleOnClick}\n          />\n        ))\n      }\n    </StyledSpotCollection>\n  );\n};\n\nSpotCollection.propTypes = {\n  favoriteSpotIds: PropTypes.instanceOf(List),\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nexport default connect(mapStateToProps)(SpotCollection);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectUsers,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserById,\n  fetchProjectById,\n} from 'containers/Spotlight/actions';\n\nimport TravelCard from 'components/TravelCard';\n\n/* eslint no-shadow: 0 */\nconst ProjectCard = ({\n  users,\n  projects,\n  projectId,\n  fetchUserById,\n  fetchProjectById,\n}) => {\n  useEffect(() => {\n    const project = projects.get(String(projectId));\n    if (!project) {\n      fetchProjectById(projectId);\n    } else {\n      const ownerId = project.get('owner');\n      if (!users.get(ownerId)) {\n        fetchUserById(ownerId);\n      }\n    }\n  }, [users, projects]);\n\n  const project = projects.get(String(projectId));\n\n  if (!project) {\n    return null;\n  }\n\n  const ownerId = project.get('owner');\n  const user = users.get(ownerId);\n  const userName = user && (user.get('name') || '在地專業嚮導');\n  const imagePath = 'https://cw1.tw/CW/opinion/images/common/201801/opinion-5a618a5f20fb8.jpg';\n  const faviconPath = user && (user.get('protrait') || 'https://img.ltn.com.tw/Upload/liveNews/BigPic/600_php7mZoYr.jpg');\n  return (\n    <TravelCard\n      userName={userName}\n      cardImageSrc={imagePath}\n      userImageSrc={faviconPath}\n      cardDate={project.get('created_time')}\n      cardTitle={project.get('name')}\n      likeNumber={project.get('like_num')}\n      isLikeActive\n      to={`${PAGE_NAME.DETAIL_PLANNING.name}/${projectId}`}\n    />\n  );\n};\n\nProjectCard.propTypes = {\n  users: PropTypes.object.isRequired,\n  projects: PropTypes.object.isRequired,\n  projectId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  fetchUserById: PropTypes.func.isRequired,\n  fetchProjectById: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  users: selectUsers(),\n  projects: selectProjects(),\n});\n\nexport default connect(mapStateToProps, { fetchUserById, fetchProjectById })(ProjectCard);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectFavoriteProjectIds,\n} from 'containers/Spotlight/selectors';\n\nimport ProjectCard from './ProjectCard';\n\nconst StyledProjectCollection = styled.div`\n  display: block;\n`;\n\nconst ProjectCollection = ({\n  favoriteProjectIds,\n}) => {\n  const cards = favoriteProjectIds.map((value) => value);\n  return (\n    <StyledProjectCollection>\n      {\n        cards.map((card) => (\n          <ProjectCard\n            key={card}\n            projectId={card}\n          />\n        ))\n      }\n    </StyledProjectCollection>\n  );\n};\n\nProjectCollection.propTypes = {\n  favoriteProjectIds: PropTypes.instanceOf(List),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteProjectIds: selectFavoriteProjectIds(),\n});\n\nexport default connect(mapStateToProps)(ProjectCollection);\n","import React from 'react';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport SpotCollection from './SpotCollection';\nimport ProjectCollection from './ProjectCollection';\n\nconst CollectionContent = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  const handleOnCardClick = (event) => {\n    const id = findAttributeInEvent(event, 'data-id');\n    const redirectPath = findAttributeInEvent(event, 'data-redirect-path');\n    history.push({\n      pathname: `${redirectPath}/${id}`,\n    });\n  };\n  if (searchParams.get('collectionType') === 'planning') {\n    return <ProjectCollection />;\n  }\n  return <SpotCollection handleOnClick={handleOnCardClick} />;\n};\n\nexport default CollectionContent;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Redirect } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { findAttributeInEvent } from 'utils/event';\nimport history from 'utils/history';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\nimport {\n  selectUser,\n  selectUsers,\n  selectLoginStatusMeta,\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteProjectIdsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchUserStats,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n} from 'containers/Spotlight/actions';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Information from './Information';\nimport CollectionTabs from './CollectionTabs';\nimport CollectionContent from './CollectionContent';\n\nconst StyledPersonalPage = styled.div`\n  height: 100%;\n  .personal-page__cover-container {\n    height: 30%;\n    background-image: url(${(props) => props.coverImagePath});\n    background-size: cover;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    padding: 15px;\n    .personal-page__info-wrapper {\n      height: 100px;\n      border-radius: 15px;\n      background-color: white;\n      display: flex;\n      position: relative;\n      padding: 0px 15px;\n      width: 100vw;\n      opacity: 0.85;\n      .personal-page__favicon-wrapper {\n        display: flex;\n        align-items: center;\n      }\n      .personal-page__favicon {\n        display: block;\n        border-radius: 100%;\n        border: 3px solid white;\n        background-image: url(${(props) => props.faviconPath});\n        background-size: cover;\n        height: ${(props) => props.faviconSize}px;\n        width: ${(props) => props.faviconSize}px;\n      }\n      .personal-page__profile-wrapper {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        padding: 5px 10px;\n        width: 100%;\n        .personal-page__profile-name {\n          font-size: 16px;\n          margin-bottom: 10px;\n          color: black;\n          font-weight: bold;\n        }\n        .personal-page__profile-travel-info {\n          display: flex;\n          .personal-page__profile-travel-info-item-wrapper {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            .personal-page__profile-travel-info-item-title {\n              font-size: 12px;\n              color: #707070;\n              margin-bottom: 3px;\n            }\n            .personal-page__profile-travel-info-item-number {\n              font-size: 12px;\n              color: black;\n              font-weight: bold;\n            }\n          }\n          .personal-page__profile-travel-info-item-divier {\n            border-right: 1px solid #D1D1D1;\n          }\n          .personal-page__profile-travel-info-item-padding-right {\n            padding-right: 10px;\n          }\n          .personal-page__profile-travel-info-item-padding-left {\n            padding-left: 10px;\n          }\n        }\n      }\n    }\n  }\n\n  .personal-page__collection-group {\n    display: flex;\n    background: #D1D1D1;\n    height: 40px;\n    .personal-page__collection-tab {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 50%;;\n      font-size: 14px;\n      color: #707070;\n      cursor: pointer;\n    }\n    .personal-page__collection-tab--active {\n      background: #B7B7B7;\n    }\n  }\n`;\n\n/* eslint no-shadow: 0 */\nconst PersonalPage = ({\n  user,\n  users,\n  loginStatusMeta,\n  favoriteSpotIdsMeta,\n  favoriteProjectIdsMeta,\n  fetchFavoriteSpotIds,\n  fetchFavoriteProjectIds,\n  fetchUserStats,\n}) => {\n  const [activeCollectionType, setActiveCollectionType] = useState('spot');\n  const faviconPath = (user && user.get('protrait')) || 'http://i.imgur.com/EUAd2ht.jpg';\n  const faviconSize = 70;\n  const coverImagePath = 'http://cdn01.dcfever.com/media/travel/poi/2016/02/10963_poi_banner.jpg';\n  const handleOnTabClick = (event) => {\n    const type = findAttributeInEvent(event, 'data-collection-type');\n    setActiveCollectionType(type);\n    const personalPagePath = `/${PAGE_NAME.PERSONAL_PAGE.name}`;\n    history.push({\n      pathname: personalPagePath,\n      search: `?collectionType=${type}`,\n    });\n  };\n  const isAnonymous = loginStatusMeta.get('isLoaded') && !user;\n  if (!loginStatusMeta.get('isLoaded')) {\n    return null;\n  }\n  if (isAnonymous) {\n    return <Redirect to={routePathConfig.login} />;\n  }\n\n  useEffect(() => {\n    if (!favoriteSpotIdsMeta.get('isLoading')) {\n      fetchFavoriteSpotIds();\n    }\n    if (!favoriteProjectIdsMeta.get('isLoading')) {\n      fetchFavoriteProjectIds();\n    }\n    if (user) {\n      const userId = user.get('user_id');\n      if (userId) {\n        fetchUserStats(userId);\n      }\n    }\n  }, [users]);\n\n  return (\n    <StyledPersonalPage\n      coverImagePath={coverImagePath}\n      faviconPath={faviconPath}\n      faviconSize={faviconSize}\n    >\n      <div className=\"personal-page__cover-container\">\n        <Information\n          user={user}\n          users={users}\n        />\n      </div>\n      <CollectionTabs\n        handleOnClick={handleOnTabClick}\n      />\n      <CollectionContent activeCollectionType={activeCollectionType} />\n    </StyledPersonalPage>\n  );\n};\n\nPersonalPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  users: PropTypes.instanceOf(Map),\n  loginStatusMeta: PropTypes.instanceOf(Map),\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteProjectIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  fetchFavoriteSpotIds: PropTypes.func.isRequired,\n  fetchFavoriteProjectIds: PropTypes.func.isRequired,\n  fetchUserStats: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n  users: selectUsers(),\n  loginStatusMeta: selectLoginStatusMeta(),\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteProjectIdsMeta: selectFavoriteProjectIdsMeta(),\n});\n\nexport default connect(mapStateToProps, { fetchFavoriteSpotIds, fetchFavoriteProjectIds, fetchUserStats })(PersonalPage);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { GRAY } from 'Styled/Settings/colors';\n\nexport const StyledFaviBanner = styled(Link)`\n  height: 100px;\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 15px;\n  .favi-banner__favicon-container {\n    height: 100px;\n    width: 100px;\n    padding: 15px;\n    .favi-banner__favicon {\n      background-image: url(${(props) => props.faviconPath});\n      background-size: cover;\n      height: 100%;\n      width: 100%;\n      border-radius: 50%;\n    }\n  }\n  .favi-banner__favicon-right-arrow {\n    width: 25px;\n    display: flex;\n    align-items: center;\n    &:before {\n      color: ${GRAY};\n      content: \"\\f105\";\n      font-family: \"Font Awesome\\ 5 Free\";\n      font-weight: 900;\n      font-size 50px;\n    }\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { Map } from 'immutable';\nimport { selectUser } from 'containers/Spotlight/selectors';\nimport { StyledFaviBanner } from './styles';\n\nconst FaviBanner = ({\n  user,\n}) => {\n  const faviconPath = (user && user.get('protrait')) || 'http://i.imgur.com/EUAd2ht.jpg';\n  return (\n    <StyledFaviBanner\n      faviconPath={faviconPath}\n    >\n      <div className=\"favi-banner__favicon-container\">\n        <div className=\"favi-banner__favicon\" />\n      </div>\n      <div className=\"favi-banner__favicon-right-arrow\" />\n    </StyledFaviBanner>\n  );\n};\n\nFaviBanner.propTypes = {\n  user: PropTypes.instanceOf(Map),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectUser(),\n});\n\nexport default connect(mapStateToProps)(FaviBanner);\n","import styled from 'styled-components';\nimport {\n  GRAY_DARK,\n  BACKGROUND_COLOR,\n} from 'Styled/Settings/colors';\n\nexport const StyledSettingPage = styled.div`\n  height: 100%;\n  background-color: ${BACKGROUND_COLOR};\n  .setting-page__general-setting {\n    background-color: ${GRAY_DARK};\n    padding: 0 15px;\n    line-height: 48px;\n    font-size: 18px;\n  }\n  .setting-page__logout-button {\n    background-color: white;\n    padding: 0 15px;\n    line-height: 48px;\n    text-align: center;\n    font-size: 18px;\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logout } from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport FaviBanner from './FaviBanner';\nimport { StyledSettingPage } from './styles';\n\nconst SettingPage = (props) => {\n  const handleLogoutClick = () => {\n    props.logout();\n    history.push(`/${PAGE_NAME.EXPLORE.name}`);\n  };\n  return (\n    <StyledSettingPage>\n      <FaviBanner />\n      <div className=\"setting-page__general-setting\">一般設定</div>\n      <div\n        role=\"presentation\"\n        className=\"setting-page__logout-button\"\n        onClick={handleLogoutClick}\n      >\n       登出\n      </div>\n    </StyledSettingPage>\n  );\n};\n\nSettingPage.propTypes = {\n  logout: PropTypes.func,\n};\n\nexport default connect(null, { logout })(SettingPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\n\nconst setBackgroundColor = (isActive) => (isActive ? 'tab__number--active' : '');\n\nconst TabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #707070;\n  position: relative;\n  &:last-child {\n    padding-right: 50px;\n  }\n  .tab__number {\n    font-size: 14px;\n    margin: 0px 5px;\n    border-radius: 50px;\n    width: 80px;\n    height: 30px;\n    line-height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => props.theme.mainColor};\n      color: rgba(51, 51, 51, 1);\n    }\n  }\n  .tab__number--active {\n    background: ${(props) => props.theme.mainColor};\n    color: rgba(51, 51, 51, 1);\n  }\n  .tab__text {\n    width: 50px;\n    text-align: center;\n    font-size: 16px;\n  }\n  .tab__times-circle-icon {\n    font-size: 25px;\n    line-height: 30px;\n  }\n`;\n\nconst Tab = (props) => {\n  const {\n    id,\n    location,\n  } = props;\n  const handleOnClick = () => {\n    history.replace({\n      pathname: `${location.pathname}`,\n      search: `?day=${id + 1}`,\n    });\n  };\n  const searchParams = new URLSearchParams(window.location.search);\n  const currentDay = searchParams.get('day');\n  return (\n    <TabWrapper>\n      <div\n        role=\"presentation\"\n        className={`tab__number ${setBackgroundColor(currentDay === (id + 1).toString())}`}\n        onClick={handleOnClick}\n      >\n        <div className=\"tab__text\">{`第${id + 1}天`}</div>\n      </div>\n    </TabWrapper>\n  );\n};\n\nTab.propTypes = {\n  id: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  location: PropTypes.object,\n};\n\nTab.defaultProps = {\n  id: 1,\n  location: {},\n};\n\nexport default Tab;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport editDayIcon from 'assets/edit_day_icon.svg';\nimport Tab from './Tab';\n\nconst DateTabsContainer = styled.div`\n  display: flex;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  position: relative;\n  .date-tab__wrapper {\n    display: flex;\n    height: 50px;\n    overflow-x: auto;\n    border-radius: 10px;\n    padding: 0px 15px;\n  }\n  .date-tab__edit-day-icon-wrapper {\n    cursor: pointer;\n  }\n  .date-tab__edit-day-icon {\n    height: 50px;\n    width: 50px;\n    position: absolute;\n    right: 0px;\n  }\n`;\n\nconst DateTabs = (props) => {\n  const {\n    days,\n    isOwner,\n    projectId,\n  } = props;\n  const tabs = new Array(days).fill(0).map((x, index) => index);\n  const handleGoToEditPlanningDay = useCallback(() => {\n    const editPlanningDayPath = `/${PAGE_NAME.EDIT_PLANNING_DAY.name}/${projectId}`;\n    history.push({\n      pathname: editPlanningDayPath,\n      search: window.location.search,\n    });\n  }, []);\n  return (\n    <DateTabsContainer>\n      <div className=\"date-tab__wrapper\">\n        {\n          tabs.map((tab) => (\n            <Tab\n              key={tab}\n              id={tab}\n              {...props}\n            />\n          ))\n        }\n      </div>\n      {\n        isOwner &&\n        <div role=\"presentation\" className=\"date-tab__edit-day-icon-wrapper\" onClick={handleGoToEditPlanningDay}>\n          <img src={editDayIcon} className=\"date-tab__edit-day-icon\" alt=\"\" />\n        </div>\n      }\n    </DateTabsContainer>\n  );\n};\n\nDateTabs.propTypes = {\n  days: PropTypes.number,\n  isOwner: PropTypes.bool,\n  projectId: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nDateTabs.defaultProps = {\n  days: 0,\n  isOwner: false,\n  projectId: 0,\n};\n\nexport default DateTabs;\n","import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Picker from 'react-mobile-picker-scroll';\nimport {\n  HOURS,\n  MINUTES,\n} from 'containers/Spotlight/constants';\n\nconst heightGrowingAnimation = keyframes`\n  from {\n    height: 10%;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst TimePickerWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  bottom: 0;\n  animation: 0.2s ease-in-out ${heightGrowingAnimation};\n  .time-picker__buttom-wrapper {\n    height: 50px;\n    background: ${(props) => props.theme.mainColor};\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .time-picker__buttom {\n    padding: 0px 15px;\n    font-size: 16px;\n    cursor: pointer;\n    color: #333333;\n    font-weight: 500;\n    &:hover {\n      font-weight: 600;\n    }\n  }\n\n  .time-picker__scroll-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    overflow: hidden;\n  }\n  .time-picker__option-label {\n    margin: 0px 20px;\n    font-weight: 500;\n  }\n`;\n\nclass TimePicker extends Component {\n  static propTypes = {\n    startTime: PropTypes.string,\n    handleOnOk: PropTypes.func,\n    handleOnCancel: PropTypes.func,\n  }\n\n  static defaultProps = {\n    startTime: '08:00',\n    handleOnOk: () => { },\n    handleOnCancel: () => { },\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      startTime,\n    } = props;\n    this.state = {\n      hourValueGroups: {\n        hour: startTime.split(':')[0],\n      },\n      hourOptionGroups: {\n        hour: HOURS,\n      },\n      minuteValueGroups: {\n        minute: startTime.split(':')[1],\n      },\n      minuteOptionGroups: {\n        minute: MINUTES,\n      },\n    };\n  }\n\n  handleHourChange = (name, value) => {\n    this.setState(({ hourValueGroups }) => ({\n      hourValueGroups: {\n        ...hourValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleMinuteChange = (name, value) => {\n    this.setState(({ minuteValueGroups }) => ({\n      minuteValueGroups: {\n        ...minuteValueGroups,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleOnCheck = () => {\n    const {\n      handleOnOk,\n    } = this.props;\n    const {\n      hourValueGroups,\n      minuteValueGroups,\n    } = this.state;\n    handleOnOk(`${hourValueGroups.hour}:${minuteValueGroups.minute}:00`);\n  }\n\n  render() {\n    const {\n      handleOnCancel,\n    } = this.props;\n    const {\n      hourValueGroups,\n      hourOptionGroups,\n      minuteValueGroups,\n      minuteOptionGroups,\n    } = this.state;\n    return (\n      <TimePickerWrapper>\n        <div className=\"time-picker__buttom-wrapper\">\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={handleOnCancel}>取消</div>\n          <div role=\"presentation\" className=\"time-picker__buttom\" onClick={this.handleOnCheck}>確定</div>\n        </div>\n        <div className=\"time-picker__scroll-wrapper\">\n          <div>\n            <Picker\n              valueGroups={hourValueGroups}\n              optionGroups={hourOptionGroups}\n              onChange={this.handleHourChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">時</div>\n          <div>\n            <Picker\n              valueGroups={minuteValueGroups}\n              optionGroups={minuteOptionGroups}\n              onChange={this.handleMinuteChange}\n            />\n          </div>\n          <div className=\"time-picker__option-label\">分</div>\n        </div>\n      </TimePickerWrapper>\n    );\n  }\n}\n\nexport default TimePicker;\n","import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { List, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  WEEKDAYS_SHORT,\n} from 'containers/Spotlight/constants';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst StyledDateTimeInfo = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding: 0px 15px;\n  justify-content: space-between;\n  margin-top: 30px;\n  .date-time-info__date-text {\n    color: rgba(51, 51, 51, 1);\n    font-family: 'Segoe UI';\n    font-weight: 500;\n    font-size: 16px;\n  }\n  .date-time-info__start-time-wrapper {\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n    background: ${(props) => (props.isOwner ? 'rgba(51, 51, 51, 1)' : 'white')};\n    color: ${(props) => (props.isOwner ? 'white' : 'rgba(51, 51, 51, 1)')};\n\n    padding: 6px 8px;\n    border-radius: 16px;\n    cursor: pointer;\n    &:hover {\n      background: ${(props) => (props.isOwner ? 'rgba(51, 51, 51, 0.8)' : 'white')};\n    }\n  }\n  .date-time-info__clock-icon {\n    margin-right: 5px;\n    color: ${(props) => props.theme.mainColor};\n  }\n`;\n\nconst DateTimeInfo = (props) => {\n  const {\n    isOwner,\n    match,\n    startDay,\n    plan,\n    isModalVisible,\n    handleSetModalVisible,\n    handleSubmitUpdateProject,\n  } = props;\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const date = moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').format('YYYY年MM月DD日');\n  const weekday = WEEKDAYS_SHORT[moment(startDay, 'YYYY-MM-DD').add(day - 1, 'days').get('weekday')];\n  const startTime = moment(plan.getIn([day - 1, 'start_time']), 'HH:mm').format('HH:mm');\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const { projectId } = match.params;\n    const updatedPlan = plan.setIn([day - 1, 'start_time'], value);\n    const updatedProject = fromJS({\n      plan: updatedPlan,\n    });\n    handleSubmitUpdateProject(projectId, updatedProject);\n  }, []);\n\n  return (\n    <>\n      <StyledDateTimeInfo isOwner={isOwner}>\n        <div className=\"date-time-info__date-text\">{`${date} ${weekday}`}</div>\n        <div role=\"presentation\" className=\"date-time-info__start-time-wrapper\" onClick={isOwner ? handleShowModal : () => {}}>\n          <i className=\"far fa-clock date-time-info__clock-icon\" />\n          <span>{`出發時間 ${startTime}`}</span>\n        </div>\n      </StyledDateTimeInfo>\n      <Modal\n        id=\"TimePicker\"\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n        heightGrowing\n      >\n        <TimePicker\n          startTime={startTime}\n          handleOnCancel={handleHideModal}\n          handleOnOk={handleOnPickerCheck}\n        />\n      </Modal>\n    </>\n  );\n};\n\nDateTimeInfo.propTypes = {\n  isOwner: PropTypes.bool,\n  match: PropTypes.object,\n  startDay: PropTypes.string,\n  isModalVisible: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  handleSetModalVisible: PropTypes.func,\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nDateTimeInfo.defaultProps = {\n  isOwner: false,\n  match: {},\n  startDay: '',\n  isModalVisible: false,\n  plan: List(),\n  handleSetModalVisible: () => { },\n  handleSubmitUpdateProject: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimeInfo);\n","import uniqueId from 'lodash/uniqueId';\nimport React from 'react';\nimport { List } from 'immutable';\nimport PropTypes from 'prop-types';\nimport Sortable from 'react-sortablejs';\n\nimport styled from 'styled-components';\n\nconst StyledContainer = styled.div`\n  width: 100%;\n  .sortable-ghost {\n    opacity: 0.5\n  }\n  .sortable-chosen {\n    background: white;\n  }\n`;\n\n// Functional Component\nconst DragSortableList = (props) => {\n  const { dataSource, onChange, row } = props;\n  const listItems = dataSource\n    .map(row)\n    .map((rowItem, index) => (\n      <div key={uniqueId()} data-id={JSON.stringify(dataSource.get(index).toJS())}>\n        {rowItem}\n      </div>\n    ));\n\n  return (\n    <StyledContainer>\n      {/* <button type=\"button\" onClick={reverseOrder}>Reverse Order</button> */}\n      <Sortable\n        // Sortable options (https://github.com/RubaXa/Sortable#options)\n        options={{\n          animation: 150,\n          ghostClass: 'sortable-ghost', // Class name for the drop placeholder\n          chosenClass: 'sortable-chosen', // Class name for the chosen item\n          dragClass: 'sortable-drag', // Class name for the dragging item\n          handle: '.my-handle',\n          // delay: 300, // time in milliseconds to define when the sorting should start\n        }}\n\n        // [Optional] Use ref to get the sortable instance\n        // https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\n        // ref={(c) => {\n        //   if (c) {\n        //     sortable = c.sortable;\n        //   }\n        // }}\n\n        // [Optional] A tag or react component to specify the wrapping element. Defaults to \"div\".\n        // In a case of a react component it is required to has children in the component\n        // and pass it down.\n        // tag=\"div\"\n\n        // [Optional] The onChange method allows you to implement a controlled component and keep\n        // DOM nodes untouched. You have to change state to re-render the component.\n        // @param {Array} order An ordered array of items defined by the `data-id` attribute.\n        // @param {Object} sortable The sortable instance.\n        // @param {Event} evt The event object.\n        onChange={(\n          order,\n          // sortable,\n          // evt\n        ) => {\n          onChange(order);\n        }}\n      >\n        {listItems}\n      </Sortable>\n    </StyledContainer>\n  );\n};\n\nDragSortableList.propTypes = {\n  dataSource: PropTypes.instanceOf(List),\n  onChange: PropTypes.func,\n  row: PropTypes.func,\n};\n\nDragSortableList.defaultProps = {\n  dataSource: List(),\n  onChange: () => { },\n  row: () => { },\n};\n\nexport default DragSortableList;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst SpotOperationBtnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0px 15px;\n  .spot-operation__button {\n    background: white;\n    border-radius: 10px;\n    line-height: 40px;\n    font-size: 16px;\n    color: #333333;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    &:hover {\n      background: #eee;\n    }\n  }\n  .spot-operation__button--normal {\n    margin-top: 5px;\n  }\n  .spot-operation__button--cancel {\n    color: #EB715A;\n    margin: 15px 0px;\n  }\n`;\n\nconst SpotOperationBtn = ({\n  handleHideModal,\n  handleDeleteSpot,\n  handleUpdate,\n}) => (\n  <SpotOperationBtnContainer>\n    <button className=\"spot-operation__button\" type=\"button\" onClick={handleUpdate}>\n      <span>景點設定</span>\n    </button>\n    <button className=\"spot-operation__button spot-operation__button--normal\" type=\"button\" onClick={handleDeleteSpot}>\n      <span>刪除此行程</span>\n    </button>\n    <button className=\"spot-operation__button spot-operation__button--cancel\" type=\"button\" onClick={handleHideModal}>\n      <span>取消</span>\n    </button>\n  </SpotOperationBtnContainer>\n);\n\nSpotOperationBtn.propTypes = {\n  handleHideModal: PropTypes.func,\n  handleDeleteSpot: PropTypes.func,\n  handleUpdate: PropTypes.func,\n};\n\nSpotOperationBtn.defaultProps = {\n  handleHideModal: () => { },\n  handleDeleteSpot: () => { },\n  handleUpdate: () => { },\n};\n\nexport default SpotOperationBtn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Map, List } from 'immutable';\nimport moment from 'moment';\nimport moveIconPath from 'assets/move_icon.svg';\n\nexport const HEIGHT_SPOT_CARD = 60;\nexport const HEIGHT_SPOT_TRAVEL_TIME = 40;\n\nconst StyledSpotCard = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  .spot-card__card-row {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n  }\n  .spot-card__card-body {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0px 15px;\n    box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n    border-radius: 10px;\n  }\n  .spot-card__card-body-spot-title {\n    font-size: 16px;\n    font-weight: 500;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__card-body-address {\n    font-size: 12px;\n    color: rgba(170, 170, 170, 1);\n  }\n  .spot-card__start-end-time-wrapper {\n    width: 60px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__travel-row-wrapper {\n    display: flex;\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  .spot-card__travel-time-wrapper {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    color: rgba(170, 170, 170, 1);\n    margin-left: 15px;\n  }\n  .spot-card__travel-time-icon {\n    margin-right: 5px;\n    color: rgba(51, 51, 51, 1);\n  }\n  .spot-card__move-icon {\n    cursor: move;\n  }\n`;\n\nconst SpotCard = (props) => {\n  const {\n    isOwner,\n    plan,\n    index,\n    spotIndexInfo,\n    spots,\n    handleFetchSpotById,\n  } = props;\n  const spot = spots.get(spotIndexInfo.get('spot_id'));\n  if (!spot) {\n    handleFetchSpotById(spotIndexInfo.get('spot_id'));\n    return null;\n  }\n\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const planIndex = day - 1;\n  const dayPlan = plan.get(planIndex);\n  if (!dayPlan) {\n    return <div>dayPlan is null</div>;\n  }\n  const dayStartTime = dayPlan.get('start_time');\n  const arrange = dayPlan.get('arrange');\n  if (!arrange.size) {\n    return null;\n  }\n  const startTime = index === 0\n    ? dayStartTime\n    : moment(dayStartTime, 'HH:mm:ss').add(arrange.map((arr) => arr.get('during')).toJS().splice(0, index).reduce((a, b) => a + b), 'minutes');\n  const duringTime = arrange.getIn([index, 'during']);\n  const endTime = moment(startTime, 'HH:mm:ss').add(duringTime, 'minutes');\n  return (\n    <StyledSpotCard>\n      <div className=\"spot-card__card-row\">\n        <div className=\"spot-card__start-end-time-wrapper\">\n          <div>{moment(startTime, 'HH:mm:ss').format('HH:mm')}</div>\n          <div>|</div>\n          <div>{moment(endTime, 'HH:mm:ss').format('HH:mm')}</div>\n        </div>\n        <div className=\"spot-card__card-body\">\n          <div>\n            <div className=\"spot-card__card-body-spot-title\">{spot.get('name')}</div>\n            <div className=\"spot-card__card-body-address\">{spot.get('address')}</div>\n          </div>\n          {\n            isOwner && <img src={moveIconPath} className=\"spot-card__move-icon my-handle\" alt=\"\" />\n          }\n        </div>\n      </div>\n      <div className=\"spot-card__travel-row-wrapper\">\n        <div className=\"spot-card__travel-time-wrapper\">\n          <i className=\"fas fa-car spot-card__travel-time-icon\" />\n          <div>1時15分</div>\n        </div>\n        <div className=\"spot-card__travel-time-wrapper\">\n          <i className=\"fas fa-running spot-card__travel-time-icon\" />\n          <div>6時15分</div>\n        </div>\n      </div>\n    </StyledSpotCard>\n  );\n};\n\nSpotCard.propTypes = {\n  isOwner: PropTypes.bool,\n  index: PropTypes.number,\n  plan: PropTypes.instanceOf(List),\n  spotIndexInfo: PropTypes.instanceOf(Map),\n  spots: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func,\n};\n\nSpotCard.defaultProps = {\n  isOwner: false,\n  index: 0,\n  plan: List(),\n  spotIndexInfo: Map(),\n  spots: Map(),\n  handleFetchSpotById: () => { },\n};\n\nexport default SpotCard;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport DragSortableList from 'components/DragSortableList';\nimport { List, Map, fromJS } from 'immutable';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Modal from 'components/Modal';\nimport AntdModal from 'antd/lib/modal';\nimport history from 'utils/history';\nimport mapPlusIconPath from 'assets/map_plus_icon.svg';\nimport arrowLeftGreyIconPath from 'assets/arrow_left_grey_icon.svg';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport SpotOperationBtn from './SpotOperationBtn';\n\nimport\nSpotCard,\n{\n  HEIGHT_SPOT_CARD,\n  HEIGHT_SPOT_TRAVEL_TIME,\n} from './SpotCard';\n\nconst { confirm } = AntdModal;\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n};\n\nconst StyledContent = styled.div`\n  padding: 15px 15px;\n  padding-top: 0;\n  .content__title {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n  .content__title-day {\n    font-size: 16px\n  }\n  .content__title-date {\n    font-size: 12px;\n  }\n  .content__simple-drag {\n    background: yellow;\n  }\n  .content__simple-drag-row {\n    background: red;\n  }\n\n  .content__spot-cards-wrapper {\n    display: flex;\n  }\n  .content__spot-simple-drag {\n    flex: 1 1 auto;\n  }\n\n  .content__default-message-wrapper {\n    display: flex;\n    padding: 0px 15px;\n    align-items: center;\n  }\n  .content__default-message-text {\n    font-size: 18px;\n    color: #AAAAAA;\n    font-weight: 400;\n  }\n  .content__arrow-left_grey-icon {\n    width: 20px;\n    height: 14px;\n    margin-right: 9px;\n  }\n`;\n\nconst SpotOperator = styled.div`\n  height: ${HEIGHT_SPOT_CARD + HEIGHT_SPOT_TRAVEL_TIME}px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  .operator__number-wrapper {\n    height: ${HEIGHT_SPOT_CARD}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n  .operator__number-circle-border {\n    border: 2px solid rgba(51, 51, 51, 1);\n    color: rgba(51, 51, 51, 1);\n    font-size: 16px;\n    font-weight: 500;\n    border-radius: 100%;\n    width: 29px;\n    height: 29px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1;\n    background: white;\n    &:hover {\n      background: rgba(51, 51, 51, 1);\n      color: ${(props) => props.theme.mainColor};\n    }\n  }\n  .operator__divider-line {\n    position: absolute;\n    width: 2px;\n    background: rgba(170, 170, 170, 1);\n    height: 40px;\n  }\n  .operator__divider-line-top {\n    top: -20px;\n  }\n  .operator__divider-line-bottom {\n    bottom: -20px;\n  }\n  .operator__map-marker-wrapper {\n    height: ${HEIGHT_SPOT_TRAVEL_TIME}px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .operator__map-marker-icon {\n    height: 33px;\n    z-index: 1;\n    background: white;\n    cursor: pointer;\n    &:hover {\n      color: #bbbbbb;\n    }\n  }\n`;\n\nconst Content = (props) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [selectedSpotId, setSelectedSpotId] = useState();\n  const [arrangeState, setArrangeState] = useState(Map());\n  const {\n    isOwner,\n    match,\n    plan,\n    spots,\n    location,\n    handleSubmitUpdateProject,\n  } = props;\n  const { projectId } = match.params;\n  const searchParams = new URLSearchParams(location.search);\n  const { search } = location;\n  const day = parseInt(searchParams.get('day'), 10);\n  const arrange = plan.getIn([day - 1, 'arrange']);\n\n  useEffect(() => {\n    setArrangeState(arrange);\n  }, [day, arrange]);\n  const handleGoToAddSpot = useCallback((event) => {\n    const insertAfterIndex = findAttributeInEvent(event, 'data-index');\n    const addSpotToPlanPagePath = `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/${projectId}`;\n    history.push({\n      pathname: addSpotToPlanPagePath,\n      search: `${search}&afterIndex=${insertAfterIndex}`,\n      state: { afterIndex: insertAfterIndex },\n    });\n  }, [projectId, search]);\n  const handleShowModal = useCallback((event) => {\n    const spotId = parseInt(findAttributeInEvent(event, 'data-spotid'), 10);\n    setSelectedSpotId(spotId);\n    setIsModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    setIsModalVisible(false);\n  }, []);\n  const handleDeleteSelectedSpot = useCallback(() => {\n    const foundSpot = spots.get(selectedSpotId);\n    confirm({\n      title: '刪除景點',\n      content: `確認是否刪除 \"${foundSpot.get('name')}\"？`,\n      okText: '刪除',\n      okType: 'danger',\n      onOk: () => {\n        const updatedPlan = plan.updateIn([day - 1, 'arrange'], (arrs) => arrs.filter((arr) => arr.get('spot_id') !== selectedSpotId));\n        handleSubmitUpdateProject(projectId, fromJS({ plan: updatedPlan }));\n        setIsModalVisible(false);\n      },\n    });\n  }, [selectedSpotId, projectId]);\n  const handleGoToUpdatingPage = useCallback(() => {\n    const updatingSpotCardPagePath = `/${PAGE_NAME.UPDATING_SPOT_CARD.name}/${projectId}`;\n    history.push({\n      pathname: updatingSpotCardPagePath,\n      search,\n      state: { selectedSpotId },\n    });\n  }, [selectedSpotId, projectId, search]);\n  const handleOnDragUpdate = useCallback((order) => {\n    const updatedArrange = order.map((item) => JSON.parse(item));\n    setArrangeState(fromJS(updatedArrange));\n    const updatedPlan = plan.setIn([day - 1, 'arrange'], updatedArrange);\n    handleSubmitUpdateProject(projectId, fromJS({ plan: updatedPlan }));\n  }, [plan, day]);\n\n  if (!arrangeState || arrangeState.size === 0) {\n    return (\n      <StyledContent>\n        <div className=\"content__spot-cards-wrapper\">\n          {\n            isOwner\n              ? (\n                <>\n                  <SpotOperator>\n                    <div\n                      role=\"presentation\"\n                      className=\"operator__map-marker-wrapper\"\n                      data-index={1}\n                      onClick={handleGoToAddSpot}\n                    >\n                      <img src={mapPlusIconPath} className=\"operator__map-marker-icon\" alt=\"\" />\n                    </div>\n                  </SpotOperator>\n                  <div className=\"content__default-message-wrapper\">\n                    <img className=\"content__arrow-left_grey-icon\" src={arrowLeftGreyIconPath} alt=\"\" />\n                    <div className=\"content__default-message-text\">按左側按鈕開始添加你的行程</div>\n                  </div>\n                </>\n              )\n              : (\n                <div className=\"content__default-message-wrapper\">\n                  <div className=\"content__default-message-text\">尚未添加行程</div>\n                </div>\n              )\n          }\n\n        </div>\n      </StyledContent>\n    );\n  }\n\n  return (\n    <StyledContent>\n      <div className=\"content__spot-cards-wrapper\">\n        <div>\n          {\n            arrangeState.map((spot, index) => (\n              <SpotOperator key={`day-${day}-${spot.get('spot_id')}-${index}`}>\n                <div className=\"operator__number-wrapper\">\n                  {\n                    Boolean(index) &&\n                    <div className=\"operator__divider-line operator__divider-line-top\" />\n                  }\n                  <div\n                    role=\"presentation\"\n                    className=\"operator__number-circle-border\"\n                    data-spotid={spot.get('spot_id')}\n                    onClick={isOwner ? handleShowModal : () => { }}\n                  >\n                    <span>{index + 1}</span>\n                  </div>\n                  {\n                    ((arrangeState.size - 1 !== index) || isOwner) &&\n                    <div className=\"operator__divider-line operator__divider-line-bottom\" />\n                  }\n                </div>\n                <div\n                  role=\"presentation\"\n                  className=\"operator__map-marker-wrapper\"\n                  data-index={index + 1}\n                  onClick={handleGoToAddSpot}\n                >\n                  <img src={isOwner ? mapPlusIconPath : ''} className=\"operator__map-marker-icon\" alt=\"\" />\n                </div>\n              </SpotOperator>\n            ))\n          }\n        </div>\n        <DragSortableList\n          dataSource={arrangeState}\n          row={(spot, index) => (\n            <SpotCard\n              key={spot.get('spot_id')}\n              spotIndexInfo={spot}\n              index={index}\n              {...props}\n            />\n          )}\n          onChange={(updatedItems) => {\n            handleOnDragUpdate(updatedItems);\n          }}\n          {...props}\n        />\n      </div>\n      <Modal\n        id=\"SpotOperationBtn\"\n        optionStyle={modalStyle}\n        isVisible={isModalVisible}\n      >\n        <SpotOperationBtn\n          handleDeleteSpot={handleDeleteSelectedSpot}\n          handleHideModal={handleHideModal}\n          handleUpdate={handleGoToUpdatingPage}\n        />\n      </Modal>\n    </StyledContent>\n  );\n};\n\nContent.propTypes = {\n  isOwner: PropTypes.bool,\n  plan: PropTypes.instanceOf(List),\n  location: PropTypes.object,\n  match: PropTypes.object,\n  spots: PropTypes.instanceOf(Map),\n  handleSubmitUpdateProject: PropTypes.func,\n};\n\nContent.defaultProps = {\n  isOwner: false,\n  plan: List(),\n  location: {},\n  match: {},\n  spots: Map(),\n  handleSubmitUpdateProject: () => { },\n};\n\n\nconst mapStateToProps = createStructuredSelector({\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Content);\n","import styled from 'styled-components';\n\nconst tempCoverPath = 'https://attach.setn.com/newsimages/2016/12/30/761776-XXL.jpg';\n\nexport const DetailPlanningPageContainer = styled.div`\n  position: relative;\n  height: 100%;\n  .detail-planning__cover {\n    position: relative;\n    background-image: url(${tempCoverPath});\n    background-size: cover;\n\n    height: 190px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 8px 16px;\n    .detail-planning__cover-title {\n      font-size: 18px;\n      color: white;\n      font-weight: 600;\n    }\n    .detail-planning__cover-period {\n      font-size: 12px;\n      color: white;\n      font-weight: 500;\n    }\n  }\n  .detail-planning__info_wrapper {\n    transform: translateY(32px);\n  }\n\n  .detail-planning__info_direction_wrapper {\n    display: inline-flex;\n    margin-bottom: 15px;\n    cursor: pointer;\n  }\n\n  .detail-planning__info_title_wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 45px;\n  }\n\n  .detail-planning__favicon {\n    width: 45px;\n    height: 45px;\n    background-image: url(${(props) => props.faviconPath});\n    background-size: contain;\n    background-position: center;\n    border-radius: 100%;\n    margin-right: 5px;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport moment from 'moment';\nimport history from 'utils/history';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  fetchSpotById,\n  fetchProjectById,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n  selectSpots,\n  selectUser,\n  selectProjects,\n} from 'containers/Spotlight/selectors';\nimport DateTabs from './DateTabs';\nimport DateTimeInfo from './DateTimeInfo';\nimport Content from './Content';\nimport {\n  DetailPlanningPageContainer,\n} from './Styled';\n\nconst DetailPlanningPage = (props) => {\n  const {\n    user,\n    match,\n    ownProjectsMeta,\n    projects,\n    handleFetchProjectById,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    if (!projects.get(projectId)) {\n      handleFetchProjectById(projectId);\n    }\n  }, [projectId]);\n\n  if (!projects || !projects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  if (!user) {\n    return null;\n  }\n\n  const project = projects.get(projectId);\n  if (!project) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n\n  const owner = project.get('owner');\n  const userId = user.get('user_id');\n  const isOwner = userId === owner;\n\n  const handleGoToTravelerPage = () => {\n    const travelerPagePath = `/${PAGE_NAME.TRAVELER.name}/${owner}`;\n    history.push(travelerPagePath);\n  };\n\n  const name = project.get('name');\n  const days = project.get('tot_days');\n  const startDay = moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日');\n  const endDay = moment(project.get('start_day'), 'YYYY-MM-DD').add(days - 1, 'days').format('YYYY年MM月DD日');\n  const plan = project.get('plan');\n  const faviconPath = 'http://i.imgur.com/EUAd2ht.jpg';\n  return (\n    <DetailPlanningPageContainer faviconPath={faviconPath}>\n      {\n        isLoading &&\n        <Spinner type=\"opacity\" />\n      }\n      <div className=\"detail-planning__cover\">\n        <div className=\"detail-planning__info_wrapper\">\n          <div role=\"presentation\" className=\"detail-planning__info_direction_wrapper\" onClick={handleGoToTravelerPage}>\n            <img src=\"\" className=\"detail-planning__favicon\" alt=\"\" />\n            <div className=\"detail-planning__info_title_wrapper\">\n              <div className=\"detail-planning__cover-title\">\n                <span>{name}</span>\n              </div>\n              <div className=\"detail-planning__cover-period\">\n                {`${startDay} - ${endDay} / ${days}天`}\n              </div>\n            </div>\n          </div>\n          <DateTabs projectId={projectId} isOwner={isOwner} days={days} {...props} />\n        </div>\n      </div>\n      <DateTimeInfo isOwner={isOwner} plan={plan} startDay={startDay} {...props} />\n      <Content isOwner={isOwner} plan={plan} {...props} />\n    </DetailPlanningPageContainer>\n  );\n};\n\nDetailPlanningPage.propTypes = {\n  user: PropTypes.instanceOf(Map),\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.instanceOf(Map),\n  projects: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func,\n  handleFetchProjectById: PropTypes.func,\n};\n\nDetailPlanningPage.defaultProps = {\n  user: Map(),\n  match: {},\n  ownProjectsMeta: Map(),\n  handleFetchOwnProjects: () => { },\n  handleFetchProjectById: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n  projects: selectProjects(),\n  spots: selectSpots(),\n  user: selectUser(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n  handleFetchProjectById: (id) => dispatch(fetchProjectById(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailPlanningPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst InputBoxWrapper = styled.div`\n  display: flex;\n  height: 40px;\n  color: #707070;\n  margin-top: 15px;\n  border-radius: 20px;\n  .input-box__label-box {\n    background: rgba(238, 238, 238, 1);\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    border-radius: 20px 0px 0px 20px;\n    padding-left: 10px;\n  }\n  .input-box__input {\n    background: rgba(238, 238, 238, 1);\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    border-radius: 0px 20px 20px 0px;\n  }\n`;\n\nconst InputBox = ({\n  title, inputType, defaultValue, handleOnChange,\n}) => (\n  <InputBoxWrapper className=\"input-box__input-wrapper\">\n    <div className=\"input-box__label-box\"><span>{title}</span></div>\n    <input\n      type={inputType}\n      defaultValue={defaultValue}\n      className=\"input-box__input\"\n      onChange={handleOnChange}\n    />\n  </InputBoxWrapper>\n);\n\nInputBox.propTypes = {\n  title: PropTypes.string,\n  inputType: PropTypes.string,\n  defaultValue: PropTypes.string,\n  handleOnChange: PropTypes.func,\n};\n\nInputBox.defaultProps = {\n  title: '',\n  inputType: 'text',\n  defaultValue: '',\n  handleOnChange: () => { },\n};\n\nexport default InputBox;\n","import React, { useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Map } from 'immutable';\nimport styled from 'styled-components';\nimport InputBox from 'components/InputBox';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport moment from 'moment';\n\nimport Spinner from 'components/Spinner';\n\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\nimport Context from 'containers/Spotlight/Context';\n\nconst { SpotlightContext } = Context;\n\nconst UpdatePlanningPageWrapper = styled.div`\n  padding: 0px 15px;\n`;\n\nconst UpdatePlanningPage = ({\n  match,\n  ownProjectsMeta,\n  ownProjects,\n  handleFetchOwnProjects,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  const handleOnNameChange = useCallback((event) => {\n    const name = event.target.value;\n    setUpdateProject((updateProject) => updateProject.set('name', name));\n  }, []);\n  const handleOnDateChange = useCallback((event) => {\n    const starDay = event.target.value;\n    setUpdateProject((data) => data.set('start_day', moment(starDay).format('YYYY/MM/DD 00:00:00')));\n  }, []);\n\n  const isLoaded = ownProjectsMeta.get('isLoaded');\n  const isLoading = ownProjectsMeta.get('isLoading');\n  useEffect(() => {\n    setUpdateProject(Map());\n    if (!isLoaded) {\n      handleFetchOwnProjects();\n    }\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  if (!ownProjects.size) {\n    return <div>尚無任何旅行計劃</div>;\n  }\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const name = ownProject.get('name');\n  const startDay = moment(ownProject.get('start_day'), 'YYYY-MM-DD').format('YYYY-MM-DD'); // defaultValue format must be YYYY-MM-DD\n  return (\n    <UpdatePlanningPageWrapper>\n      <InputBox\n        title=\"旅程名稱\"\n        defaultValue={name}\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        defaultValue={startDay}\n        handleOnChange={handleOnDateChange}\n      />\n    </UpdatePlanningPageWrapper>\n  );\n};\n\n\nUpdatePlanningPage.propTypes = {\n  match: PropTypes.object,\n  ownProjectsMeta: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List),\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatePlanningPage.defaultProps = {\n  match: {},\n  ownProjectsMeta: null,\n  ownProjects: List(),\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePlanningPage);\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport Context from 'containers/Spotlight/Context';\nimport InputBox from 'components/InputBox';\n\nconst { SpotlightContext } = Context;\n\nconst StyledCreateProjectPage = styled.div`\n  padding: 0px 15px;\n  .create-project__input-wrapper {\n    display: flex;\n    border: 1px solid #B7B7B7;\n    height: 40px;\n    color: #707070;\n    margin-top: 15px;\n  }\n  .create-project__label-box {\n    background: #ececec;\n    width: 85px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n  }\n  .create-project__input {\n    border: none;\n    outline: none;\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n  }\n`;\n\nconst CreateProjectPage = () => {\n  const context = useContext(SpotlightContext);\n  const {\n    setNewProject,\n  } = context;\n  const handleOnNameChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('name', currentValue));\n  };\n  const handleOnStartDayChange = (event) => {\n    const currentValue = event.currentTarget.value;\n    setNewProject((newProject) => newProject.set('start_day', currentValue));\n  };\n  const handleOnDaysChange = (event) => {\n    const currentValue = event.currentTarget.value > 0 ? parseInt(event.currentTarget.value, 10) : 0;\n    setNewProject((newProject) => newProject.set('tot_days', currentValue));\n  };\n  return (\n    <StyledCreateProjectPage>\n      <InputBox\n        title=\"旅程名稱\"\n        handleOnChange={handleOnNameChange}\n      />\n      <InputBox\n        title=\"出發日期\"\n        inputType=\"date\"\n        handleOnChange={handleOnStartDayChange}\n      />\n      <InputBox\n        title=\"天數\"\n        handleOnChange={handleOnDaysChange}\n      />\n    </StyledCreateProjectPage>\n  );\n};\n\nexport default CreateProjectPage;\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport 'react-image-gallery/styles/css/image-gallery.css';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport Spinner from 'components/Spinner';\nimport ImageGallery from 'react-image-gallery';\nimport Context from 'containers/Spotlight/Context';\n\nimport redHeartCircleIconPath from 'assets/red_heart_circle_icon.svg';\nimport checkCircleIconPath from 'assets/check_circle_icon.svg';\n\nconst { SpotlightContext } = Context;\n\nconst getRandom = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\n\nconst HEIGHT_SPOT_CARD = 140;\n\nconst LikedSpotCardContainer = styled.div`\n  width: 100%;\n  height: ${HEIGHT_SPOT_CARD}px;\n  position: relative;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  border-radius: 10px;\n  cursor: pointer;\n\n  .liked-spot-card__card-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100px;\n    border-radius: 10px;\n  }\n\n  .image-gallery-image {\n    height: 100px;\n    max-height: 100px;\n  }\n  .image-gallery-slides {\n    border-radius: 10px 10px 0px 0px;\n  }\n\n  .liked-spot-card__card-cover {\n    height: 100%;\n  }\n  .liked-spot-card__card-title-wrapper {\n    height: 40px;\n    background: white;\n    border-radius: 0px 0px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0px 10px;\n  }\n  .liked-spot-card__card-title {\n    font-size: 14px;\n    color: #333333;\n    font-weight: 500;\n\n    overflow : hidden;\n    text-overflow : ellipsis;\n    white-space : nowrap;\n  }\n  .liked-spot-card__card-like-wrapper {\n    display: flex;\n    align-items: center;\n  }\n  .liked-spot-card__card-heart-icon {\n    width: 30px;\n    height: 30px;\n  }\n  .liked-spot-card__mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #000000;\n    opacity: 0.7;\n    border: 4px solid #AAAAAA;\n    border-radius: 10px;\n  }\n  .liked-spot-card__check-icon {\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    right: 0px;\n    margin: 5px;\n  }\n`;\n\nconst LikedSpotCard = ({\n  spotId,\n  spots,\n  match,\n  handleFetchSpotById,\n}) => {\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  const foundSpotDetail = spots.get(spotId);\n  const handleSelectLikedSpot = useCallback(() => {\n    const searchParams = new URLSearchParams(window.location.search);\n    setSelectedLikedSpotId({\n      spotId,\n      projectId: match.params.projectId,\n      day: searchParams.get('day'),\n      afterIndex: searchParams.get('afterIndex'),\n      elapsedTime: '02:00',\n    });\n  }, []);\n  useEffect(() => {\n    if (!foundSpotDetail) {\n      handleFetchSpotById(spotId);\n    }\n  }, []);\n  if (!foundSpotDetail) {\n    return <Spinner height={HEIGHT_SPOT_CARD} />;\n  }\n  let showMask = false;\n  if (selectedLikedSpotId) {\n    showMask = selectedLikedSpotId.spotId === spotId;\n  }\n  const pics = foundSpotDetail.get('pic').map((pic) => ({\n    original: pic,\n    thumbnail: pic,\n  })).toJS();\n\n  return (\n    <LikedSpotCardContainer>\n      <div role=\"presentation\" className=\"liked-spot-card__card-wrapper\" onClick={handleSelectLikedSpot}>\n        <div className=\"liked-spot-card__card-cover\">\n          <ImageGallery\n            items={pics}\n            showThumbnails={false}\n            showFullscreenButton={false}\n            showPlayButton={false}\n            showNav={false}\n            autoPlay\n            slideInterval={getRandom(3000, 5000)}\n          />\n        </div>\n        <div className=\"liked-spot-card__card-title-wrapper\">\n          <div className=\"liked-spot-card__card-title\">{foundSpotDetail.get('name')}</div>\n          <div className=\"liked-spot-card__card-like-wrapper\">\n            <img src={redHeartCircleIconPath} className=\"liked-spot-card__card-heart-icon\" alt=\"\" />\n            <div>666</div>\n          </div>\n        </div>\n      </div>\n      {\n        showMask &&\n        <>\n          <div className=\"liked-spot-card__mask\" />\n          <img className=\"liked-spot-card__check-icon\" src={checkCircleIconPath} alt=\"\" />\n        </>\n      }\n    </LikedSpotCardContainer>\n  );\n};\n\nLikedSpotCard.propTypes = {\n  match: PropTypes.object,\n  spotId: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]).isRequired,\n  spots: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func,\n};\n\nLikedSpotCard.defaultProps = {\n  match: {},\n  spots: Map(),\n  handleFetchSpotById: () => { },\n};\n\nexport default LikedSpotCard;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport {\n  selectFavoriteSpotIdsMeta,\n  selectFavoriteSpotIds,\n  selectSpots,\n} from 'containers/Spotlight/selectors';\nimport {\n  fetchFavoriteSpotIds,\n  fetchSpotById,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport LikedSpotCard from './LikedSpotCard';\n\nconst AddSpotToPlanPageContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  padding: 15px 13px;\n  grid-gap: 7px 7px;\n`;\n\nconst AddSpotToPlanPage = (props) => {\n  const {\n    favoriteSpotIdsMeta,\n    favoriteSpotIds,\n    handleFetchFavoriteSpotIds,\n  } = props;\n  const isLoaded = favoriteSpotIdsMeta.get('isLoaded');\n  const isLoading = favoriteSpotIdsMeta.get('isLoading');\n  useEffect(() => {\n    if (!isLoaded) {\n      handleFetchFavoriteSpotIds();\n    }\n  }, []);\n  if (isLoading) {\n    return <Spinner />;\n  }\n  return (\n    <AddSpotToPlanPageContainer>\n      {\n        favoriteSpotIds.map((spotId) => (\n          <LikedSpotCard\n            key={spotId}\n            spotId={spotId}\n            {...props}\n          />\n        ))\n      }\n    </AddSpotToPlanPageContainer>\n  );\n};\n\nAddSpotToPlanPage.propTypes = {\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIdsMeta: PropTypes.instanceOf(Map).isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List),\n};\n\nAddSpotToPlanPage.defaultProps = {\n  favoriteSpotIds: List(),\n};\n\nconst mapStateToProps = createStructuredSelector({\n  favoriteSpotIdsMeta: selectFavoriteSpotIdsMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n  spots: selectSpots(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleFetchSpotById: (spotId) => dispatch(fetchSpotById(spotId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddSpotToPlanPage);\n","import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport {\n  selectIsModalVisible,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst { SpotlightContext } = Context;\n\nconst SettingSpotCardPageContainer = styled.div`\n  padding: 15px;\n`;\n\nconst TimePickerInput = styled.div`\n  display: flex;\n  background: rgba(238, 238, 238, 1);\n  align-items: center;\n  height: 40px;\n  border-radius: 20px;\n  padding: 0px 10px;\n  .time-picker-input__label-box {\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    padding-left: 10px;\n    padding-right: 20px;\n  }\n  .time-picker-input__input {\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    cursor: pointer;\n  }\n`;\n\nconst SettingSpotCardPage = (props) => {\n  const {\n    isModalVisible,\n    handleSetModalVisible,\n  } = props;\n  const context = useContext(SpotlightContext);\n  const {\n    selectedLikedSpotId,\n    setSelectedLikedSpotId,\n  } = context;\n  if (!selectedLikedSpotId) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const {\n    elapsedTime,\n  } = selectedLikedSpotId;\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    const time = value.split(':');\n    setSelectedLikedSpotId((spot) => ({\n      ...spot,\n      elapsedTime: `${time[0]}:${time[1]}`,\n    }));\n    handleSetModalVisible(false);\n  }, []);\n  return (\n    <SettingSpotCardPageContainer>\n      <TimePickerInput>\n        <div className=\"time-picker-input__label-box\">停留時間</div>\n        <div\n          role=\"presentation\"\n          className=\"time-picker-input__input\"\n          onClick={handleShowModal}\n        >\n          {elapsedTime}\n        </div>\n        <Modal\n          id=\"TimePicker\"\n          optionStyle={modalStyle}\n          isVisible={isModalVisible}\n          heightGrowing\n        >\n          <TimePicker\n            startTime={elapsedTime}\n            handleOnCancel={handleHideModal}\n            handleOnOk={handleOnPickerCheck}\n          />\n        </Modal>\n      </TimePickerInput>\n    </SettingSpotCardPageContainer>\n  );\n};\n\nSettingSpotCardPage.propTypes = {\n  isModalVisible: PropTypes.bool,\n  handleSetModalVisible: PropTypes.func,\n};\n\nSettingSpotCardPage.defaultProps = {\n  isModalVisible: false,\n  handleSetModalVisible: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingSpotCardPage);\n","import React, {\n  useContext, useCallback, useEffect, useState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { List, Map, fromJS } from 'immutable';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport Modal from 'components/Modal';\nimport TimePicker from 'components/TimePicker';\nimport moment from 'moment';\nimport {\n  selectIsModalVisible,\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  setIsModalVisible,\n  fetchOwnProjects,\n} from 'containers/Spotlight/actions';\n\nconst modalStyle = {\n  bottom: '0px',\n  width: '100%',\n  height: '245px',\n};\n\nconst { SpotlightContext } = Context;\n\nconst UpdatingSpotCardPageContainer = styled.div`\n  padding: 15px;\n`;\n\nconst TimePickerInput = styled.div`\n  display: flex;\n  background: rgba(238, 238, 238, 1);\n  align-items: center;\n  height: 40px;\n  border-radius: 20px;\n  padding: 0px 10px;\n  .time-picker-input__label-box {\n    font-size: 14px;\n    color: rgba(51, 51, 51, 1);\n    font-weight: 500;\n    letter-spacing: 1px;\n    padding-left: 10px;\n    padding-right: 20px;\n  }\n  .time-picker-input__input {\n    font-size: 14px;\n    padding: 0px 10px;\n    flex-grow: 1;\n    cursor: pointer;\n  }\n`;\n\nconst UpdatingSpotCardPage = (props) => {\n  const [elapsedTime, setElapsedTime] = useState();\n  const {\n    match,\n    location,\n    isModalVisible,\n    ownProjects,\n    ownProjectsMeta,\n    handleSetModalVisible,\n    handleFetchOwnProjects,\n  } = props;\n  const {\n    selectedSpotId,\n  } = location.state;\n  const context = useContext(SpotlightContext);\n  const {\n    setUpdateProject,\n  } = context;\n\n  const { projectId } = match.params;\n  const isOwnProjectLoaded = ownProjectsMeta.get('isLoaded');\n  const searchParams = new URLSearchParams(window.location.search);\n  const day = parseInt(searchParams.get('day'), 10);\n  const handleShowModal = useCallback(() => {\n    handleSetModalVisible(true);\n  }, []);\n  const handleHideModal = useCallback(() => {\n    handleSetModalVisible(false);\n  }, []);\n  const handleOnPickerCheck = useCallback((value) => {\n    if (!value) {\n      return;\n    }\n    // set elapsedTime\n    const time = value.split(':');\n    setElapsedTime(`${time[0]}:${time[1]}`);\n\n    // set updatedPlan\n    const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n    const plan = ownProject.get('plan');\n    const updatedPlan = plan.updateIn([day - 1, 'arrange'], (arrange) => arrange.map((arr) => {\n      if (arr.get('spot_id') === selectedSpotId) {\n        return arr.set('during', parseInt(time[0], 10) * 60 + parseInt(time[1], 10));\n      }\n      return arr;\n    }));\n    setUpdateProject(fromJS({\n      plan: updatedPlan,\n    }));\n\n    // hide modal\n    handleSetModalVisible(false);\n  }, []);\n  useEffect(() => {\n    if (!selectedSpotId || !projectId || !ownProjects.size) {\n      history.push(`/${PAGE_NAME.PLANNING.name}`);\n      return;\n    }\n    if (!isOwnProjectLoaded) {\n      handleFetchOwnProjects();\n      return;\n    }\n\n\n    const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n    const plan = ownProject.get('plan');\n    const arrange = plan.getIn([day - 1, 'arrange']);\n    const during = arrange.find((arr) => arr.get('spot_id') === selectedSpotId).get('during');\n    const hhmmTime = moment('00:00', 'HH:mm').add(during, 'minutes').format('HH:mm');\n    setElapsedTime(hhmmTime);\n  }, [selectedSpotId, projectId]);\n\n  return (\n    <UpdatingSpotCardPageContainer>\n      <TimePickerInput>\n        <div className=\"time-picker-input__label-box\">停留時間</div>\n        <div\n          role=\"presentation\"\n          className=\"time-picker-input__input\"\n          onClick={handleShowModal}\n        >\n          {elapsedTime}\n        </div>\n        <Modal\n          id=\"TimePicker\"\n          optionStyle={modalStyle}\n          isVisible={isModalVisible}\n          heightGrowing\n        >\n          <TimePicker\n            startTime={elapsedTime}\n            handleOnCancel={handleHideModal}\n            handleOnOk={handleOnPickerCheck}\n          />\n        </Modal>\n      </TimePickerInput>\n    </UpdatingSpotCardPageContainer>\n  );\n};\n\nUpdatingSpotCardPage.propTypes = {\n  match: PropTypes.object,\n  location: PropTypes.object,\n  isModalVisible: PropTypes.bool,\n  ownProjects: PropTypes.instanceOf(List),\n  ownProjectsMeta: PropTypes.object,\n  handleSetModalVisible: PropTypes.func,\n  handleFetchOwnProjects: PropTypes.func,\n};\n\nUpdatingSpotCardPage.defaultProps = {\n  match: {},\n  location: {},\n  isModalVisible: false,\n  ownProjects: List(),\n  ownProjectsMeta: Map(),\n  handleSetModalVisible: () => { },\n  handleFetchOwnProjects: () => { },\n};\n\nconst mapStateToProps = createStructuredSelector({\n  isModalVisible: selectIsModalVisible(),\n  ownProjects: selectOwnProjects(),\n  ownProjectsMeta: selectOwnProjectsMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSetModalVisible: (isVisible) => dispatch(setIsModalVisible(isVisible)),\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatingSpotCardPage);\n","import React, { useContext, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport { List, Map, fromJS } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport {\n  selectOwnProjects,\n} from 'containers/Spotlight/selectors';\nimport {\n  submitUpdateProject,\n} from 'containers/Spotlight/actions';\nimport history from 'utils/history';\nimport Context from 'containers/Spotlight/Context';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport { DEFAULT_PLAN } from 'containers/Spotlight/constants';\n\nimport plusIconPath from 'assets/plus_icon.svg';\nimport checkIconPath from 'assets/check_icon.svg';\n\nconst EditPlanningDayContainer = styled.div`\n  padding: 4px 15px;\n  font-size: 14px;\n  .edit-planning-day__row {\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid #EEEEEE;\n    line-height: 40px;\n    cursor: pointer;\n    &:hover {\n      background: #EEEEEE;\n    }\n  }\n  .edit-planning-day__add-btn-wrapper {\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n  }\n  .edit-planning-day__add-icon {\n    height: 18px;\n    width: 18px;\n    margin-right: 6px;\n  }\n  .edit-planning-day__check-icon {\n    height: 40px;\n    width: 16px;\n  }\n`;\n\nconst EditPlanningDayPage = (props) => {\n  const { SpotlightContext } = Context;\n  const {\n    updateProject,\n    setUpdateProject,\n    selectedDays,\n    setSelectedDays,\n  } = useContext(SpotlightContext);\n  const {\n    match,\n    ownProjects,\n  } = props;\n  const {\n    params: {\n      projectId,\n    },\n  } = match;\n  if (!ownProjects.size) {\n    history.push(`/${PAGE_NAME.PLANNING.name}`);\n    return null;\n  }\n  const handleOnDayRowClick = useCallback((event) => {\n    const day = parseInt(findAttributeInEvent(event, 'data-day'), 10);\n    setSelectedDays((d) => (d.includes(day) ? d.delete(d.indexOf(day)) : d.push(day)));\n  });\n  const handleAddDay = useCallback(() => {\n    setUpdateProject((proj) => fromJS({\n      plan: proj.get('plan').push(fromJS(DEFAULT_PLAN)),\n      tot_days: proj.get('tot_days') + 1,\n    }));\n  }, [updateProject]);\n  const ownProject = ownProjects.find((project) => project.get('proj_id').toString() === projectId);\n  if (!ownProject) {\n    return <div>找不到該旅行計劃資料</div>;\n  }\n  const plan = ownProject.get('plan');\n  useEffect(() => {\n    setUpdateProject(Map({\n      plan,\n      tot_days: ownProject.get('tot_days'),\n    }));\n  }, [plan]);\n  if (!updateProject.size) {\n    return null;\n  }\n\n  return (\n    <EditPlanningDayContainer>\n      {\n        updateProject.get('plan').map((dayPlan, index) => (\n          <div\n            role=\"presentation\"\n            key={`${dayPlan}-${index}`}\n            className=\"edit-planning-day__row\"\n            data-day={index + 1}\n            onClick={handleOnDayRowClick}\n          >\n            <div>{`第${index + 1}天`}</div>\n            {\n              selectedDays.includes(index + 1) &&\n              <img className=\"edit-planning-day__check-icon\" src={checkIconPath} alt=\"\" />\n            }\n          </div>\n        ))\n      }\n      <div\n        role=\"presentation\"\n        className=\"edit-planning-day__row\"\n        onClick={handleAddDay}\n      >\n        <div className=\"edit-planning-day__add-btn-wrapper\">\n          <img className=\"edit-planning-day__add-icon\" src={plusIconPath} alt=\"\" />\n          <span>增加天數</span>\n        </div>\n      </div>\n    </EditPlanningDayContainer>\n  );\n};\n\nEditPlanningDayPage.propTypes = {\n  match: PropTypes.object,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n};\n\nEditPlanningDayPage.defaultProps = {\n  match: {},\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleSubmitUpdateProject: (projectId, updateProject) => dispatch(submitUpdateProject(projectId, updateProject)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPlanningDayPage);\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport Likes from 'components/Likes';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n`;\n\nexport const Feature = styled.div`\n  position: relative;\n  padding-top: 175px;\n  margin-bottom: 20px;\n`;\n\nexport const BackButton = styled.button`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  left: 15px;\n  top: 20px;\n  background-color: transparent;\n  border: 0;\n`;\n\nexport const AddButton = styled(Link)`\n  position: absolute;\n  z-index: 1;\n  font-size: 18px;\n  color: #fff;\n  right: 15px;\n  top: 20px;\n`;\n\nexport const FeatureImage = styled.img`\n  position: absolute;\n  top: 0;\n  display: block;\n  height: 205px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const FeatureInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  font-size: 16px;\n  margin: 0 38px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  border-radius: 10px;\n  background-color: #fff;\n  position: relative;\n  z-index: 1;\n`;\n\nexport const SpotName = styled.span`\n  color: #333333;\n  font-size: 18px;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: bold;\n`;\n\nexport const Title = styled.div`\n  padding: 0 15px;\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #333333;\n  font-weight: bold;\n`;\n\nexport const LikeButton = styled(Likes)`\n  flex-shrink: 0;\n`;\n\nexport const Paragraph = styled.p`\n  padding: 0 15px;\n  margin-bottom: 15px;\n  color: #AAAAAA;\n  line-height: 1.75;\n\n  &:last-child {\n    margin-bottom: 0;\n    padding-bottom: 35px;\n  }\n`;\n","import React, { useEffect, useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport { selectSpotMeta, selectSpots, selectFavoriteSpotIds } from 'containers/Spotlight/selectors';\nimport {\n  fetchSpotById,\n  fetchFavoriteSpotIds,\n  likeSpot,\n  cancelLikeSpot,\n} from 'containers/Spotlight/actions';\nimport Spinner from 'components/Spinner';\nimport Context from 'containers/Spotlight/Context';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport history from 'utils/history';\n\nimport {\n  Feature,\n  FeatureImage,\n  FeatureInfo,\n  Title,\n  LikeButton,\n  Paragraph,\n  SpotName,\n  Container,\n  BackButton,\n  AddButton,\n} from './Styled';\n\nconst { SpotlightContext } = Context;\n\nconst SpotPage = ({\n  match,\n  spots,\n  handleFetchSpotById,\n  setSpotMeta,\n  location,\n  handleFetchFavoriteSpotIds,\n  favoriteSpotIds,\n  handleLikeSpot,\n  handleCancelLikeSpot,\n}) => {\n  const { setIsHeaderVisible } = useContext(SpotlightContext);\n  const { spotId } = match.params;\n  const isSpotFavorite = favoriteSpotIds.includes(Number(spotId));\n\n  useEffect(() => {\n    handleFetchSpotById(spotId);\n    handleFetchFavoriteSpotIds();\n    setIsHeaderVisible(false);\n\n    return () => {\n      setIsHeaderVisible(true);\n    };\n  }, []);\n\n  const handleLikeOnClick = useCallback(() => {\n    if (isSpotFavorite) {\n      handleCancelLikeSpot(Number(spotId));\n    } else {\n      handleLikeSpot(Number(spotId));\n    }\n  });\n\n  if (setSpotMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  const spot = spots.get(Number(spotId), Map());\n  if (!spot.size) {\n    return <div>找不到該景點資料</div>;\n  }\n  return (\n    <Container>\n      <Feature>\n        <BackButton onClick={() => history.goBack()}>\n          <i className=\"fas fa-arrow-left\" />\n        </BackButton>\n        <AddButton to={`${location.pathname}/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`}>\n          <i className=\"fas fa-plus\" />\n        </AddButton>\n        <FeatureImage src={spot.getIn(['pic', 0]) || 'https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_R177_10.jpg'} />\n        <FeatureInfo>\n          <SpotName>{spot.get('name')}</SpotName>\n          <LikeButton\n            onClick={handleLikeOnClick}\n            isActive={isSpotFavorite}\n            likeNumber={spot.get('like_num')}\n          />\n        </FeatureInfo>\n      </Feature>\n      <Title>景點介紹</Title>\n      <Paragraph>\n        {spot.get('describe')}\n      </Paragraph>\n      <Title>地址</Title>\n      <Paragraph>{spot.get('address')}</Paragraph>\n      <Title>電話</Title>\n      <Paragraph>{spot.get('tel')}</Paragraph>\n      {\n        spot.get('website') &&\n        <>\n          <Title>網址</Title>\n          <Paragraph>\n            <a href={spot.get('website')}>{spot.get('website')}</a>\n          </Paragraph>\n        </>\n      }\n    </Container>\n  );\n};\n\nSpotPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  spots: PropTypes.instanceOf(Map),\n  setSpotMeta: PropTypes.instanceOf(Map),\n  handleFetchSpotById: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  handleFetchFavoriteSpotIds: PropTypes.func.isRequired,\n  favoriteSpotIds: PropTypes.instanceOf(List).isRequired,\n  handleCancelLikeSpot: PropTypes.func.isRequired,\n  handleLikeSpot: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  spots: selectSpots(),\n  setSpotMeta: selectSpotMeta(),\n  favoriteSpotIds: selectFavoriteSpotIds(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchSpotById: (id) => dispatch(fetchSpotById(id)),\n  handleFetchFavoriteSpotIds: () => dispatch(fetchFavoriteSpotIds()),\n  handleLikeSpot: (id) => dispatch(likeSpot(id)),\n  handleCancelLikeSpot: (id) => dispatch(cancelLikeSpot(id)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SpotPage));\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  background-color: #FAFAFA;\n  min-height: 100%;\n`;\n\nexport const Project = styled(Link)`\n  display: block;\n  padding: 19px 0 12px;\n  margin: 0 15px;\n  border-bottom: solid 1px #DFDFDF;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n`;\n\nexport const ProjectName = styled.div`\n  color: #333333;\n  font-size: 14px;\n`;\n\nexport const ProjectDate = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n\nexport const CreateProjectButton = styled(Link)`\n  margin: 0 15px;\n  padding: 25px 0;\n  border-bottom: solid 1px #DFDFDF;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  &,\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: #333333;\n  }\n`;\n\nexport const AddIcon = styled.i`\n  font-size: 18px;\n  margin-right: 6px;\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { Map, List } from 'immutable';\nimport { withRouter } from 'react-router';\nimport moment from 'moment';\n\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjects,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport {\n  Container,\n  Project,\n  ProjectName,\n  ProjectDate,\n  CreateProjectButton,\n  AddIcon,\n} from './Styled';\n\nconst AddSpotToProjectPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  ownProjects,\n  location,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  if (ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container>\n      {ownProjects.map((project) => (\n        <Project\n          key={project.get('proj_id')}\n          to={`${location.pathname}/${project.get('proj_id')}`}\n        >\n          <ProjectName>{project.get('name')}</ProjectName>\n          <ProjectDate>\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .format('YYYY年MM月DD日')\n            }\n            -\n            {moment(project.get('start_day'), 'YYYY-MM-DD')\n              .add(project.get('tot_days') - 1, 'days')\n              .format('YYYY年MM月DD日')\n            }\n            {' / '}\n            {project.get('tot_days')}\n            天\n          </ProjectDate>\n        </Project>\n      ))}\n      <CreateProjectButton to={`/${PAGE_NAME.CREATE_PROJECT.name}`}>\n        <AddIcon className=\"fas fa-plus\" />\n        增加旅程\n      </CreateProjectButton>\n    </Container>\n  );\n};\n\nAddSpotToProjectPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  ownProjects: PropTypes.instanceOf(List).isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  ownProjectsMeta: selectOwnProjectsMeta(),\n  ownProjects: selectOwnProjects(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPage));\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const ProjectTitle = styled.div`\n  padding: 9px 0;\n  font-size: 16px;\n  color: #EEEEEE;\n  text-align: center;\n  background-color: #333333;\n`;\n\nexport const Plan = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  margin: 0 15px;\n  border-bottom: solid 1px lightgray;\n  color: #333333;\n  font-size: 14px;\n`;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Map, List } from 'immutable';\n\nimport Spinner from 'components/Spinner';\nimport {\n  fetchOwnProjects,\n  submitDeleteProject,\n} from 'containers/Spotlight/actions';\nimport {\n  selectOwnProjectById,\n  selectOwnProjectsMeta,\n} from 'containers/Spotlight/selectors';\nimport Context from 'containers/Spotlight/Context';\nimport {\n  ProjectTitle,\n  Plan,\n  Container,\n} from './Styled';\n\nconst DEFAULT_SPOT_DURATION = 60;\n\nconst { SpotlightContext } = Context;\n\nconst AddSpotToProjectPlanPage = ({\n  ownProjectsMeta,\n  handleFetchOwnProjects,\n  project,\n  match,\n}) => {\n  useEffect(() => {\n    if (!ownProjectsMeta.get('isLoaded') && !ownProjectsMeta.get('isLoading')) {\n      handleFetchOwnProjects();\n    }\n  }, []);\n\n  const { setUpdateProject } = useContext(SpotlightContext);\n  const [daySelection, setDaySelection] = useState(List());\n\n  useEffect(() => {\n    if (project) {\n      setUpdateProject(project.update('plan', (plan) => plan.map((day, index) => {\n        const { spotId } = match.params;\n        const arrange = day.get('arrange');\n        const isSpotAlreadyArranged = arrange.filter((spotArrange) => spotArrange.get('spot_id') === spotId).size > 0;\n\n        if (!isSpotAlreadyArranged && daySelection.get(index)) {\n          return day.set(\n            'arrange',\n            arrange.push(Map({ spot_id: spotId, during: DEFAULT_SPOT_DURATION })),\n          );\n        }\n        return day;\n      })));\n    }\n\n    return () => {\n      setUpdateProject(Map());\n    };\n  }, [daySelection]);\n\n  if (!ownProjectsMeta.get('isLoaded') || ownProjectsMeta.get('isLoading')) {\n    return <Spinner />;\n  }\n\n  if (!project) {\n    return '沒有這個旅程';\n  }\n\n  return (\n    <Container>\n      <ProjectTitle>{project.get('name')}</ProjectTitle>\n      {project.get('plan').map((_plan, index) => (\n        <Plan key={index /* eslint-disable-line react/no-array-index-key */}>\n          {`第${index + 1}天`}\n          <input\n            type=\"checkbox\"\n            checked={daySelection.get(index) || false}\n            onChange={(event) => (\n              setDaySelection(daySelection.set(index, event.currentTarget.checked))\n            )}\n          />\n        </Plan>\n      ))}\n    </Container>\n  );\n};\n\nAddSpotToProjectPlanPage.propTypes = {\n  ownProjectsMeta: PropTypes.instanceOf(Map).isRequired,\n  handleFetchOwnProjects: PropTypes.func.isRequired,\n  project: PropTypes.instanceOf(Map),\n  match: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ownProjectsMeta: selectOwnProjectsMeta()(state),\n  project: selectOwnProjectById(ownProps.match.params.projectId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchOwnProjects: () => dispatch(fetchOwnProjects()),\n  handleDeleteProject: (projectId) => dispatch(submitDeleteProject(projectId)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddSpotToProjectPlanPage));\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  background-color: #FFFFFF;\n  border-radius: 10px;\n  padding: 10px 0 10px 20px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n  display: flex;\n`;\n\nexport const UserImage = styled.img`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  object-fit: cover;\n  flex-shrink: 0;\n`;\n\nexport const UserInfo = styled.div`\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nexport const UserName = styled.div`\n  flex-basis: 100%;\n  color: #333333;\n  font-size: 18px;\n  font-weight: bold;\n  padding-left: 17px;\n`;\n\nexport const Stats = styled.div`\n  flex-basis: 100%;\n  display: flex;\n`;\n\nexport const Stat = styled.div`\n  flex: 1;\n  position: relative;\n\n  &:not(:last-child) {\n    &:after {\n      position: absolute;\n      right: 0;\n      top: 50%;\n      transform: translateY(-50%);\n      border-right: solid 1px #AAAAAA;\n      height: 85%;\n      content: '';\n    }\n  }\n`;\n\nexport const StatName = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n  text-align: center;\n`;\n\nexport const StatNumber = styled.div`\n  color: #333333;\n  font-size: 16px;\n  font-weight: bold;\n  text-align: center;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Container,\n  UserImage,\n  UserInfo,\n  UserName,\n  Stats,\n  Stat,\n  StatName,\n  StatNumber,\n} from './Styled';\n\nconst UserCard = ({\n  userName,\n  userImage,\n  publishedProjectsCount,\n  collectedCount,\n  projectsLikedCount,\n}) => (\n  <Container>\n    <UserImage src={userImage} />\n    <UserInfo>\n      <UserName>{userName}</UserName>\n      <Stats>\n        <Stat>\n          <StatName>旅程發表</StatName>\n          <StatNumber>{publishedProjectsCount}</StatNumber>\n        </Stat>\n        <Stat>\n          <StatName>收藏數</StatName>\n          <StatNumber>{collectedCount}</StatNumber>\n        </Stat>\n        <Stat>\n          <StatName>被收藏</StatName>\n          <StatNumber>{projectsLikedCount}</StatNumber>\n        </Stat>\n      </Stats>\n    </UserInfo>\n  </Container>\n);\n\nUserCard.propTypes = {\n  userName: PropTypes.string,\n  userImage: PropTypes.string,\n  publishedProjectsCount: PropTypes.number,\n  collectedCount: PropTypes.number,\n  projectsLikedCount: PropTypes.number,\n};\n\nUserCard.defaultProps = {\n  userName: '使用者',\n  userImage: 'http://i.imgur.com/EUAd2ht.jpg',\n  publishedProjectsCount: 0,\n  collectedCount: 0,\n  projectsLikedCount: 0,\n};\n\nexport default UserCard;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled(Link)`\n  display: block;\n  box-shadow: 0px 3px 6px 0px rgba(0,0,0,0.16);\n  border-radius: 10px;\n  overflow: hidden;\n`;\n\nexport const Image = styled.img`\n  display: block;\n  height: 140px;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const Info = styled.div`\n  padding: 9px 15px;\n  background-color: #fff;\n`;\n\nexport const Title = styled.div`\n  color: #333333;\n  font-size: 16px;\n  font-weight: bold;\n`;\n\nexport const Subtitle = styled.div`\n  color: #AAAAAA;\n  font-size: 12px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Container,\n  Image,\n  Info,\n  Title,\n  Subtitle,\n} from './Styled';\n\nconst ProjectCard = ({\n  className,\n  to,\n  image,\n  title,\n  subtitle,\n}) => (\n  <Container to={to} className={className}>\n    <Image src={image} alt={title} />\n    <Info>\n      <Title>{title}</Title>\n      <Subtitle>{subtitle}</Subtitle>\n    </Info>\n  </Container>\n);\n\nProjectCard.propTypes = {\n  className: PropTypes.string,\n  to: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  subtitle: PropTypes.string,\n};\n\nProjectCard.defaultProps = {\n  image: 'https://icrvb3jy.xinmedia.com/solomo/article/139141/7A21D0A7-AEA1-D18D-C305-9A5930D37D27.jpeg',\n  title: '標題',\n  subtitle: '副標題',\n};\n\nexport default ProjectCard;\n","import styled from 'styled-components';\nimport ProjectCardComponent from 'components/ProjectCard';\nimport headerImage from './header-image.png';\n\nexport const Container = styled.div`\n  min-height: 100%;\n  background-color: #FAFAFA;\n`;\n\nexport const Header = styled.div`\n  background-image: url(${headerImage});\n  background-repeat: no-repeat;\n  background-size: cover;\n  padding: 80px 15px 20px;\n`;\n\nexport const Cards = styled.div`\n  padding: 15px;\n`;\n\nexport const ProjectCard = styled(ProjectCardComponent)`\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, List } from 'immutable';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport UserCard from 'components/UserCard';\nimport { fetchUserById, fetchUserStats, fetchProjects } from 'containers/Spotlight/actions';\nimport { selectUsers, selectProjectsByUserId } from 'containers/Spotlight/selectors';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport {\n  Container,\n  Header,\n  Cards,\n  ProjectCard,\n} from './Styled';\n\nconst TravelerPage = ({\n  match,\n  users,\n  handleFetchUser,\n  handleFetchUserStats,\n  handleFetchUserProjects,\n  projects,\n}) => {\n  const { userId } = match.params;\n  const user = users.get(userId);\n  useEffect(() => {\n    if (!user || !user.get('name')) {\n      handleFetchUser(userId);\n    }\n    if (!user || !user.get('stats')) {\n      handleFetchUserStats(userId);\n    }\n    if (!projects || !projects.size) {\n      handleFetchUserProjects(userId);\n    }\n  }, []);\n\n  return (\n    <Container>\n      <Header>\n        <UserCard\n          userName={user && user.get('name')}\n          publishedProjectsCount={user && user.getIn(['stats', 'published_projs_count'])}\n          collectedCount={(user && user.get('stats')) && (\n            user.getIn(['stats', 'collected_projs_count']) +\n            user.getIn(['stats', 'collected_spots_count'])\n          )}\n          projectsLikedCount={user && user.getIn(['stats', 'projs_liked_count'])}\n        />\n      </Header>\n      <Cards>\n        {projects && projects.map(((project) => (\n          <ProjectCard\n            key={project.get('proj_id')}\n            to={`/${PAGE_NAME.DETAIL_PLANNING.name}/${project.get('proj_id')}?day=1`}\n            title={project.get('name')}\n            subtitle={`${moment(project.get('start_day'), 'YYYY-MM-DD').format('YYYY年MM月DD日')}-${moment(project.get('start_day'), 'YYYY-MM-DD').add(project.get('tot_days') - 1, 'days').format('YYYY年MM月DD日')} / ${project.get('tot_days')}天`}\n          />\n        )))}\n      </Cards>\n    </Container>\n  );\n};\n\nTravelerPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  users: PropTypes.instanceOf(Map),\n  handleFetchUser: PropTypes.func.isRequired,\n  handleFetchUserStats: PropTypes.func.isRequired,\n  handleFetchUserProjects: PropTypes.func.isRequired,\n  projects: PropTypes.instanceOf(List),\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  users: selectUsers()(state),\n  projects: selectProjectsByUserId(ownProps.match.params.userId)(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchUser: (userId) => dispatch(fetchUserById(userId)),\n  handleFetchUserStats: (userId) => dispatch(fetchUserStats(userId)),\n  handleFetchUserProjects: (userId) => dispatch(fetchProjects({ owner: userId, onlyPublic: true })),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TravelerPage);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport { PAGE_NAME } from 'Styled/Settings/constants';\nimport LoginPage from 'containers/Spotlight/Content/LoginPage';\nimport ExplorePage from 'containers/Spotlight/Content/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Content/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Content/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Content/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Content/PersonalPage/SettingPage';\nimport DetailPlanningPage from 'containers/Spotlight/Content/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Content/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Content/PlanningPage/CreateProjectPage';\nimport AddSpotToPlanPage from 'containers/Spotlight/Content/PlanningPage/AddSpotToPlanPage';\nimport SettingSpotCardPage from 'containers/Spotlight/Content/PlanningPage/SettingSpotCardPage';\nimport UpdatingSpotCardPage from 'containers/Spotlight/Content/PlanningPage/UpdatingSpotCardPage';\nimport EditPlanningDayPage from 'containers/Spotlight/Content/PlanningPage/EditPlanningDayPage';\nimport SpotPage from 'containers/Spotlight/Content/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Content/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Content/AddSpotToProjectPlanPage';\nimport TravelerPage from 'containers/Spotlight/Content/TravelerPage';\n\nexport const routePathConfig = {\n  loginPagePath: '/',\n  explorePagePath: `/${PAGE_NAME.EXPLORE.name}`,\n  planningPagePath: `/${PAGE_NAME.PLANNING.name}`,\n  travelWallPagePath: `/${PAGE_NAME.TRAVEL_WALL.name}`,\n  personalPagePath: `/${PAGE_NAME.PERSONAL_PAGE.name}`,\n  settingPath: `/${PAGE_NAME.SETTING.name}`,\n  detailPlanningPagePath: `/${PAGE_NAME.DETAIL_PLANNING.name}/:projectId`,\n  updatePlanningPagePath: `/${PAGE_NAME.UPDATE_PLANNING.name}/:projectId`,\n  addSpotToPlanPagePath: `/${PAGE_NAME.ADD_SPOT_TO_PLAN.name}/:projectId`,\n  settingSpotCardPagePath: `/${PAGE_NAME.SETTING_SPOT_CARD.name}/:projectId`,\n  updatingSpotCardPagePath: `/${PAGE_NAME.UPDATING_SPOT_CARD.name}/:projectId`,\n  editPlanningDayPagePath: `/${PAGE_NAME.EDIT_PLANNING_DAY.name}/:projectId`,\n  createProjectPagePath: `/${PAGE_NAME.CREATE_PROJECT.name}`,\n  spotPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId`,\n  addSpotToProjectPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}`,\n  addSpotToProjectPlanPagePath: `/${PAGE_NAME.EXPLORE.name}/:spotId/${PAGE_NAME.ADD_SPOT_TO_PROJECT.name}/:projectId`,\n  travelerPagePath: `/${PAGE_NAME.TRAVELER.name}/:userId`,\n};\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.loginPagePath} component={LoginPage} />\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.settingSpotCardPagePath} component={SettingSpotCardPage} />\n      <Route exact path={routePathConfig.updatingSpotCardPagePath} component={UpdatingSpotCardPage} />\n      <Route exact path={routePathConfig.editPlanningDayPagePath} component={EditPlanningDayPage} />\n      <Route exact path={routePathConfig.addSpotToPlanPagePath} component={AddSpotToPlanPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n      <Route exact path={routePathConfig.travelerPagePath} component={TravelerPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from 'utils/history';\nimport ExplorePage from 'containers/Spotlight/Header/ExplorePage';\nimport PlanningPage from 'containers/Spotlight/Header/PlanningPage';\nimport TravelWallPage from 'containers/Spotlight/Header/TravelWallPage';\nimport PersonalPage from 'containers/Spotlight/Header/PersonalPage';\nimport SettingPage from 'containers/Spotlight/Header/PersonalPage/SettingPage';\nimport DetailPlanningPage from 'containers/Spotlight/Header/PlanningPage/DetailPlanningPage';\nimport UpdatePlanningPage from 'containers/Spotlight/Header/PlanningPage/UpdatePlanningPage';\nimport CreateProjectPage from 'containers/Spotlight/Header/PlanningPage/CreateProjectPage';\nimport AddSpotToPlanPage from 'containers/Spotlight/Header/PlanningPage/AddSpotToPlanPage';\nimport SettingSpotCardPage from 'containers/Spotlight/Header/PlanningPage/SettingSpotCardPage';\nimport EditPlanningDayPage from 'containers/Spotlight/Header/PlanningPage/EditPlanningDayPage';\nimport UpdatingSpotCardPage from 'containers/Spotlight/Header/PlanningPage/UpdatingSpotCardPage';\nimport SpotPage from 'containers/Spotlight/Header/SpotPage';\nimport AddSpotToProjectPage from 'containers/Spotlight/Header/AddSpotToProjectPage';\nimport AddSpotToProjectPlanPage from 'containers/Spotlight/Header/AddSpotToProjectPlanPage';\nimport TravelerPage from 'containers/Spotlight/Header/TravelerPage';\nimport { routePathConfig } from 'containers/Spotlight/Content/Routes';\n\nexport default () => (\n  <Router history={history}>\n    <Switch>\n      <Route exact path={routePathConfig.explorePagePath} component={ExplorePage} />\n      <Route exact path={routePathConfig.planningPagePath} component={PlanningPage} />\n      <Route exact path={routePathConfig.travelWallPagePath} component={TravelWallPage} />\n      <Route exact path={routePathConfig.personalPagePath} component={PersonalPage} />\n      <Route exact path={routePathConfig.settingPath} component={SettingPage} />\n      <Route exact path={routePathConfig.detailPlanningPagePath} component={DetailPlanningPage} />\n      <Route exact path={routePathConfig.updatePlanningPagePath} component={UpdatePlanningPage} />\n      <Route exact path={routePathConfig.createProjectPagePath} component={CreateProjectPage} />\n      <Route exact path={routePathConfig.settingSpotCardPagePath} component={SettingSpotCardPage} />\n      <Route exact path={routePathConfig.editPlanningDayPagePath} component={EditPlanningDayPage} />\n      <Route exact path={routePathConfig.updatingSpotCardPagePath} component={UpdatingSpotCardPage} />\n      <Route exact path={routePathConfig.addSpotToPlanPagePath} component={AddSpotToPlanPage} />\n      <Route exact path={routePathConfig.spotPagePath} component={SpotPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPagePath} component={AddSpotToProjectPage} />\n      <Route exact path={routePathConfig.addSpotToProjectPlanPagePath} component={AddSpotToProjectPlanPage} />\n      <Route exact path={routePathConfig.travelerPagePath} component={TravelerPage} />\n    </Switch>\n  </Router>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\n\nimport Routes from './Routes';\n\nconst HeaderContainer = styled.div`\n  background: ${(props) => props.theme.mainColor};\n  font-weight: 600;\n  color: rgba(51, 51, 51, 1);\n  ${mixinWidthWrapper()}\n`;\n\nconst Header = () => (\n  <HeaderContainer>\n    <Routes />\n  </HeaderContainer>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport Routes from './Routes';\n\nconst ContentContainer = styled.div`\n  ${mixinWidthWrapper()}\n`;\n\nconst Content = () => (\n  <ContentContainer>\n    <Routes />\n  </ContentContainer>\n);\n\nexport default Content;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  findAttributeInEvent,\n} from 'utils/event';\nimport history from 'utils/history';\n\nconst setNavTabActive = (isActive) => (isActive ? 'nav-tab__active' : '');\n\nconst NavTabWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 12px;\n  width: 100%;\n  cursor: pointer;\n  &:hover {\n    background: #D3D3D380;\n  }\n\n  .nav-tab__image {\n    height: 30px;\n    width: 30px;\n    margin: 2px;\n    background-image: url(${(props) => props.iconPath.normal});\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    &:hover {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n    &:active {\n      background-image: url(${(props) => props.iconPath.hover});\n    }\n  }\n  .nav-tab__active {\n    background-image: url(${(props) => props.iconPath.hover});\n  }\n`;\n\nconst NavTab = (props) => {\n  const {\n    page,\n    iconPath,\n  } = props;\n  const handleRedirect = (event) => {\n    const pagePath = findAttributeInEvent(event, 'data-page-path');\n    history.push(`/${pagePath}`);\n  };\n  const isActive = window.location.pathname.includes(page.name);\n  return (\n    <NavTabWrapper iconPath={iconPath} data-page-path={page.name} onClick={handleRedirect}>\n      <div className={`nav-tab__image ${setNavTabActive(isActive)}`} />\n      <div>{page.text}</div>\n    </NavTabWrapper>\n  );\n};\n\nNavTab.propTypes = {\n  page: PropTypes.object.isRequired,\n  iconPath: PropTypes.object.isRequired,\n};\n\nexport default NavTab;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  PAGE_NAME,\n  mixinWidthWrapper,\n} from 'Styled/Settings/constants';\nimport NavTab from 'components/NavTab';\nimport {\n  NavIcon,\n} from 'containers/Spotlight/constants';\n\nconst NavigationContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.16);\n  ${mixinWidthWrapper()}\n`;\n\nconst Navigation = () => (\n  <NavigationContainer>\n    <NavTab page={PAGE_NAME.EXPLORE} iconPath={NavIcon.explore} />\n    <NavTab page={PAGE_NAME.PLANNING} iconPath={NavIcon.planning} />\n    <NavTab page={PAGE_NAME.TRAVEL_WALL} iconPath={NavIcon.travelWall} />\n    <NavTab page={PAGE_NAME.PERSONAL_PAGE} iconPath={NavIcon.personal} />\n  </NavigationContainer>\n);\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport {\n  HEIGHT_HEADER,\n  HEIGHT_NAVIGATION,\n  MAX_WIDTH,\n} from 'Styled/Settings/constants';\n\nexport const SpotlightContainer = styled.div`\n  display: grid;\n  max-width: ${MAX_WIDTH}px;\n  margin: 0 auto;\n  ${(props) => (`\n    grid-template-rows:\n      ${props.isHeaderVisible ? HEIGHT_HEADER : 0}px\n      auto\n      ${props.isNavVisible ? HEIGHT_NAVIGATION : 0}px\n    ;\n  `)}\n  grid-template-areas:\n    \"header\"\n    \"content\"\n    \"navigation\";\n\n  height: 100vh;\n  .spot-light__header-container {\n    grid-area: header;\n    display: flex;\n    justify-content: center;\n  }\n  .spot-light__content-container {\n    grid-area: content;\n    display: flex;\n    justify-content: center;\n    overflow-y: auto;\n  }\n  .spot-light__navigation-container {\n    grid-area: navigation;\n    display: flex;\n    justify-content: center;\n    position: relative;\n    z-index: 1;\n  }\n`;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { withRouter } from 'react-router';\nimport Spinner from 'components/Spinner';\nimport {\n  fetchLoginStatus,\n} from './actions';\nimport {\n  selectLoginStatusMeta,\n} from './selectors';\nimport SpotlightContext from './Context';\nimport Header from './Header';\nimport Content from './Content';\nimport Navigation from './Navigation';\nimport {\n  SpotlightContainer,\n} from './Styled';\n\nconst {\n  SpotlightProvider,\n  SpotlightConsumer,\n} = SpotlightContext;\n\nconst Spotlight = ({\n  handleFetchLoginStatus,\n  loginStatusMeta,\n}) => {\n  useEffect(() => {\n    if (!loginStatusMeta.get('isLoading')) {\n      handleFetchLoginStatus();\n    }\n  }, []);\n  return (\n    <SpotlightProvider>\n      <SpotlightConsumer>\n        {\n          ({ isNavVisible, isHeaderVisible }) => (\n            <SpotlightContainer isNavVisible={isNavVisible} isHeaderVisible={isHeaderVisible}>\n              {\n                isHeaderVisible &&\n                <div className=\"spot-light__header-container\">\n                  <Header />\n                </div>\n              }\n              <div className=\"spot-light__content-container\">\n                {\n                  (loginStatusMeta.get('isLoading'))\n                    ? <Spinner />\n                    : <Content />\n                }\n              </div>\n              {\n                isNavVisible &&\n                <div className=\"spot-light__navigation-container\">\n                  <Navigation />\n                </div>\n              }\n            </SpotlightContainer>\n          )\n        }\n      </SpotlightConsumer>\n    </SpotlightProvider>\n  );\n};\n\nSpotlight.propTypes = {\n  handleFetchLoginStatus: PropTypes.func.isRequired,\n  loginStatusMeta: PropTypes.instanceOf(Map),\n};\n\nSpotlight.defaultProps = {\n};\n\nconst mapStateToProps = createStructuredSelector({\n  loginStatusMeta: selectLoginStatusMeta(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleFetchLoginStatus: () => dispatch(fetchLoginStatus()),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Spotlight));\n","import React from 'react';\nimport { Router } from 'react-router';\nimport Spotlight from 'containers/Spotlight/';\nimport history from './utils/history';\nimport './App.css';\n\nconst App = () => (\n  <Router history={history}>\n    <Spotlight />\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport store from 'store';\nimport { defaultTheme } from 'Styled/Settings/colors';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={defaultTheme}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/check_icon.8abe62d6.svg\";"],"sourceRoot":""}